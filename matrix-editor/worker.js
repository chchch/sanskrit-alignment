var m,w,z,M,y=function(i,s){let d={Intersection:function(...e){let n=e[0];return new Set([...n].filter(o=>{for(let t=1;t<e.length;t++)if(!e[t].has(o))return!1;return!0}))},Union:function(...e){return new Set(e.reduce((n,o)=>(n=[...n,...o],n),[]))}},x=function(e){let n=new Map;for(let o of s[0]){let t=i.get(o),r=t!==void 0?[t]:[];n.set(o,new Set(r))}for(let o=1;o<s.length;o++)for(let[t,r]of s[o]){let f=r.map(u=>n.get(u)),c=d.Intersection(...f);if(e&&t===e&&c.size===1)return[...c][0];let l=c.size>0?c:d.Union(...f);n.set(t,l)}return n},I=function(e,n){let o=s[0],t=new Map;for(let r of s[s.length-1])t.set(r[0],e.get(r[0]));for(let r=s.length-1;r>1;r--)for(let[f,c]of s[r]){let l=t.get(f);for(let u of c){if(o.indexOf(u)!==-1)continue;let a=e.get(u),g=(()=>{if(a.size===1)return a;let p=d.Intersection(l,a);return p.size>0?p:a})();if(n&&u===n)return g;t.set(u,g)}}return n?t.get(n):t},S=function(e=null){let n=x(e);if(typeof n=="string")return n;let o=I(n,e);return e?h(o):new Map(Array.from(o,([t,r])=>[t,h(r,!0)]))},h=function(e,n=!1){if(!n&&e.size===1)return[...e][0].trim();let o=[...e].map(t=>t.trim()===""?"_":t);return o.length===1?o[0]:"{"+o.join(", ")+"}"};return{run:S}};onmessage=function(i){m=i.data.readings,w=i.data.levels,z=i.data.num,M=i.data.id;let s=new y(m,w).run(M);postMessage({n:z,result:s})};
//# sourceMappingURL=worker.js.map
