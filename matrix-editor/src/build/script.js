var Jt={};(function(d){"use strict";d.__type__="csv";var S=typeof jQuery!="undefined"&&jQuery.Deferred||typeof _!="undefined"&&_.Deferred||function(){var s,u,v=new Promise(function(b,T){s=b,u=T});return{resolve:s,reject:u,promise:function(){return v}}};d.fetch=function(s){var u=new S;if(s.file){var v=new FileReader,b=s.encoding||"UTF-8";v.onload=function(D){var B=d.extractFields(d.parse(D.target.result,s),s);B.useMemoryStore=!0,B.metadata={filename:s.file.name},u.resolve(B)},v.onerror=function(D){u.reject({error:{message:"Failed to load file. Code: "+D.target.error.code}})},v.readAsText(s.file,b)}else if(s.data){var T=d.extractFields(d.parse(s.data,s),s);T.useMemoryStore=!0,u.resolve(T)}else if(s.url){var z=window.fetch||function(D){var B=jQuery.get(D),L={then:function(W){return B.done(W),L},catch:function(W){return B.fail(W),L}};return L};z(s.url).then(function(D){return D.text?D.text():D}).then(function(D){var B=d.extractFields(d.parse(D,s),s);B.useMemoryStore=!0,u.resolve(B)}).catch(function(D,B){u.reject({error:{message:"Failed to load file. "+D.statusText+". Code: "+D.status,request:D}})})}return u.promise()},d.extractFields=function(s,u){return u.noHeaderRow!==!0&&s.length>0?{fields:s[0],records:s.slice(1)}:{records:s}},d.normalizeDialectOptions=function(s){var u={delimiter:",",doublequote:!0,lineterminator:`
`,quotechar:'"',skipinitialspace:!0,skipinitialrows:0};for(var v in s)v==="trim"?u.skipinitialspace=s.trim:u[v.toLowerCase()]=s[v];return u},d.parse=function(s,u){(!u||u&&!u.lineterminator)&&(s=d.normalizeLineTerminator(s,u));var v=d.normalizeDialectOptions(u);s=f(s,v.lineterminator);var b="",T=!1,z=!1,D="",B=[],L=[],W,Z;for(Z=function($){return z!==!0&&($===""?$=null:v.skipinitialspace===!0&&($=C($)),M.test($)?$=parseInt($,10):O.test($)&&($=parseFloat($,10))),$},W=0;W<s.length;W+=1)b=s.charAt(W),T===!1&&(b===v.delimiter||b===v.lineterminator)?(D=Z(D),B.push(D),b===v.lineterminator&&(L.push(B),B=[]),D="",z=!1):b!==v.quotechar?D+=b:T?s.charAt(W+1)===v.quotechar?(D+=v.quotechar,W+=1):T=!1:(T=!0,z=!0);return D=Z(D),B.push(D),L.push(B),v.skipinitialrows&&(L=L.slice(v.skipinitialrows)),L},d.normalizeLineTerminator=function(s,u){return u=u||{},u.lineterminator?s:s.replace(/(\r\n|\n|\r)/gm,`
`)},d.objectToArray=function(s){for(var u=[],v=[],b=[],T=0;T<s.fields.length;T++){var z=s.fields[T].id;b.push(z);var D=s.fields[T].label?s.fields[T].label:z;v.push(D)}u.push(v);for(var T=0;T<s.records.length;T++){for(var B=[],L=s.records[T],W=0;W<b.length;W++)B.push(L[b[W]]);u.push(B)}return u},d.serialize=function(s,u){var v=null;s instanceof Array?v=s:v=d.objectToArray(s);var b=d.normalizeDialectOptions(u),T="",z="",D="",B="",L,W,Z;for(Z=function($){return $===null?$="":typeof $=="string"&&w.test($)?(b.doublequote&&($=$.replace(/"/g,'""')),$=b.quotechar+$+b.quotechar):typeof $=="number"&&($=$.toString(10)),$},L=0;L<v.length;L+=1)for(T=v[L],W=0;W<T.length;W+=1)z=Z(T[W]),W===T.length-1?(D+=z,B+=D+b.lineterminator,D=""):D+=z+b.delimiter,z="";return B};var M=/^\d+$/,O=/^\d*\.\d+$|^\d+\.\d*$/,w=/^\s|\s$|,|"|\n/,C=function(){return String.prototype.trim?function(s){return s.trim()}:function(s){return s.replace(/^\s*/,"").replace(/\s*$/,"")}}();function f(s,u){return s.charAt(s.length-u.length)!==u?s:s.substring(0,s.length-u.length)}})(Jt);function G1(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function X1(d,S,M){return M={path:S,exports:{},require:function(O,w){return W1(O,w==null?M.path:w)}},d(M,M.exports),M.exports}function W1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Y1=X1(function(d,S){(function(M,O){d.exports=O()})(window,function(){return function(M){var O={};function w(C){if(O[C])return O[C].exports;var f=O[C]={i:C,l:!1,exports:{}};return M[C].call(f.exports,f,f.exports,w),f.l=!0,f.exports}return w.m=M,w.c=O,w.d=function(C,f,s){w.o(C,f)||Object.defineProperty(C,f,{enumerable:!0,get:s})},w.r=function(C){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},w.t=function(C,f){if(1&f&&(C=w(C)),8&f||4&f&&typeof C=="object"&&C&&C.__esModule)return C;var s=Object.create(null);if(w.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:C}),2&f&&typeof C!="string")for(var u in C)w.d(s,u,function(v){return C[v]}.bind(null,u));return s},w.n=function(C){var f=C&&C.__esModule?function(){return C.default}:function(){return C};return w.d(f,"a",f),f},w.o=function(C,f){return Object.prototype.hasOwnProperty.call(C,f)},w.p="",w(w.s=1)}([function(M,O,w){var C,f;C=[w(2)],(f=function(s){function u(e){if(u.is(e,"function"))return v?e():s.on("raphael.DOMload",e);if(u.is(e,l))return u._engine.create[$](u,e.splice(0,3+u.is(e[0],a))).add(e);var t=Array.prototype.slice.call(arguments,0);if(u.is(t[t.length-1],"function")){var o=t.pop();return v?o.call(u._engine.create[$](u,t)):s.on("raphael.DOMload",function(){o.call(u._engine.create[$](u,t))})}return u._engine.create[$](u,arguments)}u.version="2.3.0",u.eve=s;var v,b,T=/[, ]+/,z={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},D=/\{(\d+)\}/g,B="hasOwnProperty",L={doc:document,win:window},W={was:Object.prototype[B].call(L.win,"Raphael"),is:L.win.Raphael},Z=function(){this.ca=this.customAttributes={}},$="apply",j="concat",te="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,ae="",pe=" ",G=String,he="split",se="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[he](pe),F={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},me=G.prototype.toLowerCase,de=Math,we=de.max,X=de.min,xe=de.abs,Ce=de.pow,ee=de.PI,a="number",l="array",p=Object.prototype.toString,n=(u._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),r={NaN:1,Infinity:1,"-Infinity":1},i=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,h=de.round,g=parseFloat,x=parseInt,A=G.prototype.toUpperCase,I=u._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},N=u._availableAnimAttrs={blur:a,"clip-rect":"csv",cx:a,cy:a,fill:"colour","fill-opacity":a,"font-size":a,height:a,opacity:a,path:"path",r:a,rx:a,ry:a,stroke:"colour","stroke-opacity":a,"stroke-width":a,transform:"transform",width:a,x:a,y:a},V=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,U={hs:1,rg:1},re=/,?([achlmqrstvxz]),?/gi,ge=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ye=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ve=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,_e=(u._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Se=function(e,t){return g(e)-g(t)},Ae=function(e){return e},ke=u._rectPath=function(e,t,o,c,m){return m?[["M",e+m,t],["l",o-2*m,0],["a",m,m,0,0,1,m,m],["l",0,c-2*m],["a",m,m,0,0,1,-m,m],["l",2*m-o,0],["a",m,m,0,0,1,-m,-m],["l",0,2*m-c],["a",m,m,0,0,1,m,-m],["z"]]:[["M",e,t],["l",o,0],["l",0,c],["l",-o,0],["z"]]},Le=function(e,t,o,c){return c==null&&(c=o),[["M",e,t],["m",0,-c],["a",o,c,0,1,1,0,2*c],["a",o,c,0,1,1,0,-2*c],["z"]]},Me=u._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return Le(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return Le(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ke(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ke(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ke(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return ke(t.x,t.y,t.width,t.height)}},Ie=u.mapPath=function(e,t){if(!t)return e;var o,c,m,k,E,P,R;for(m=0,E=(e=St(e)).length;m<E;m++)for(k=1,P=(R=e[m]).length;k<P;k+=2)o=t.x(R[k],R[k+1]),c=t.y(R[k],R[k+1]),R[k]=o,R[k+1]=c;return e};if(u._g=L,u.type=L.win.SVGAngle||L.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",u.type=="VML"){var Te,qe=L.doc.createElement("div");if(qe.innerHTML='<v:shape adj="1"/>',(Te=qe.firstChild).style.behavior="url(#default#VML)",!Te||typeof Te.adj!="object")return u.type=ae;qe=null}function ze(e){if(typeof e=="function"||Object(e)!==e)return e;var t=new e.constructor;for(var o in e)e[B](o)&&(t[o]=ze(e[o]));return t}u.svg=!(u.vml=u.type=="VML"),u._Paper=Z,u.fn=b=Z.prototype=u.prototype,u._id=0,u.is=function(e,t){return(t=me.call(t))=="finite"?!r[B](+e):t=="array"?e instanceof Array:t=="null"&&e===null||t==typeof e&&e!==null||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||p.call(e).slice(8,-1).toLowerCase()==t},u.angle=function(e,t,o,c,m,k){if(m==null){var E=e-o,P=t-c;return E||P?(180+180*de.atan2(-P,-E)/ee+360)%360:0}return u.angle(e,t,m,k)-u.angle(o,c,m,k)},u.rad=function(e){return e%360*ee/180},u.deg=function(e){return Math.round(180*e/ee%360*1e3)/1e3},u.snapTo=function(e,t,o){if(o=u.is(o,"finite")?o:10,u.is(e,l)){for(var c=e.length;c--;)if(xe(e[c]-t)<=o)return e[c]}else{var m=t%(e=+e);if(m<o)return t-m;if(m>e-o)return t-m+e}return t};var Ye,wt;u.createUUID=(Ye=/[xy]/g,wt=function(e){var t=16*de.random()|0;return(e=="x"?t:3&t|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Ye,wt).toUpperCase()}),u.setWindow=function(e){s("raphael.setWindow",u,L.win,e),L.win=e,L.doc=L.win.document,u._engine.initWin&&u._engine.initWin(L.win)};var Je=function(e){if(u.vml){var t,o=/^\s+|\s+$/g;try{var c=new ActiveXObject("htmlfile");c.write("<body>"),c.close(),t=c.body}catch(E){t=createPopup().document.body}var m=t.createTextRange();Je=Fe(function(E){try{t.style.color=G(E).replace(o,ae);var P=m.queryCommandValue("ForeColor");return"#"+("000000"+(P=(255&P)<<16|65280&P|(16711680&P)>>>16).toString(16)).slice(-6)}catch(R){return"none"}})}else{var k=L.doc.createElement("i");k.title="Raphaël Colour Picker",k.style.display="none",L.doc.body.appendChild(k),Je=Fe(function(E){return k.style.color=E,L.doc.defaultView.getComputedStyle(k,ae).getPropertyValue("color")})}return Je(e)},at=function(){return"hsb("+[this.h,this.s,this.b]+")"},ot=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ct=function(){return this.hex},lt=function(e,t,o){if(t==null&&u.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(o=e.b,t=e.g,e=e.r),t==null&&u.is(e,"string")){var c=u.getRGB(e);e=c.r,t=c.g,o=c.b}return(e>1||t>1||o>1)&&(e/=255,t/=255,o/=255),[e,t,o]},Tt=function(e,t,o,c){var m={r:e*=255,g:t*=255,b:o*=255,hex:u.rgb(e,t,o),toString:Ct};return u.is(c,"finite")&&(m.opacity=c),m};function Fe(e,t,o){return function c(){var m=Array.prototype.slice.call(arguments,0),k=m.join("␀"),E=c.cache=c.cache||{},P=c.count=c.count||[];return E[B](k)?(function(R,H){for(var J=0,oe=R.length;J<oe;J++)if(R[J]===H)return R.push(R.splice(J,1)[0])}(P,k),o?o(E[k]):E[k]):(P.length>=1e3&&delete E[P.shift()],P.push(k),E[k]=e[$](t,m),o?o(E[k]):E[k])}}u.color=function(e){var t;return u.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=u.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):u.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=u.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(u.is(e,"string")&&(e=u.getRGB(e)),u.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=u.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=u.rgb2hsb(e),e.v=t.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=Ct,e},u.hsb2rgb=function(e,t,o,c){var m,k,E,P,R;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(o=e.b,t=e.s,c=e.o,e=e.h),P=(R=o*t)*(1-xe((e=(e*=360)%360/60)%2-1)),m=k=E=o-R,Tt(m+=[R,P,0,0,P,R][e=~~e],k+=[P,R,R,P,0,0][e],E+=[0,0,P,R,R,P][e],c)},u.hsl2rgb=function(e,t,o,c){var m,k,E,P,R;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(o=e.l,t=e.s,e=e.h),(e>1||t>1||o>1)&&(e/=360,t/=100,o/=100),P=(R=2*t*(o<.5?o:1-o))*(1-xe((e=(e*=360)%360/60)%2-1)),m=k=E=o-R/2,Tt(m+=[R,P,0,0,P,R][e=~~e],k+=[P,R,R,P,0,0][e],E+=[0,0,P,R,R,P][e],c)},u.rgb2hsb=function(e,t,o){var c,m;return e=(o=lt(e,t,o))[0],t=o[1],o=o[2],{h:(((m=(c=we(e,t,o))-X(e,t,o))==0?null:c==e?(t-o)/m:c==t?(o-e)/m+2:(e-t)/m+4)+360)%6*60/360,s:m==0?0:m/c,b:c,toString:at}},u.rgb2hsl=function(e,t,o){var c,m,k,E;return e=(o=lt(e,t,o))[0],t=o[1],o=o[2],c=((m=we(e,t,o))+(k=X(e,t,o)))/2,{h:(((E=m-k)==0?null:m==e?(t-o)/E:m==t?(o-e)/E+2:(e-t)/E+4)+360)%6*60/360,s:E==0?0:c<.5?E/(2*c):E/(2-2*c),l:c,toString:ot}},u._path2string=function(){return this.join(",").replace(re,"$1")},u._preload=function(e,t){var o=L.doc.createElement("img");o.style.cssText="position:absolute;left:-9999em;top:-9999em",o.onload=function(){t.call(this),this.onload=null,L.doc.body.removeChild(this)},o.onerror=function(){L.doc.body.removeChild(this)},L.doc.body.appendChild(o),o.src=e};function Qe(){return this.hex}function ct(e,t){for(var o=[],c=0,m=e.length;m-2*!t>c;c+=2){var k=[{x:+e[c-2],y:+e[c-1]},{x:+e[c],y:+e[c+1]},{x:+e[c+2],y:+e[c+3]},{x:+e[c+4],y:+e[c+5]}];t?c?m-4==c?k[3]={x:+e[0],y:+e[1]}:m-2==c&&(k[2]={x:+e[0],y:+e[1]},k[3]={x:+e[2],y:+e[3]}):k[0]={x:+e[m-2],y:+e[m-1]}:m-4==c?k[3]=k[2]:c||(k[0]={x:+e[c],y:+e[c+1]}),o.push(["C",(-k[0].x+6*k[1].x+k[2].x)/6,(-k[0].y+6*k[1].y+k[2].y)/6,(k[1].x+6*k[2].x-k[3].x)/6,(k[1].y+6*k[2].y-k[3].y)/6,k[2].x,k[2].y])}return o}u.getRGB=Fe(function(e){if(!e||(e=G(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Qe};if(e=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:Qe};!U[B](e.toLowerCase().substring(0,2))&&e.charAt()!="#"&&(e=Je(e));var t,o,c,m,k,E,P=e.match(n);return P?(P[2]&&(c=x(P[2].substring(5),16),o=x(P[2].substring(3,5),16),t=x(P[2].substring(1,3),16)),P[3]&&(c=x((k=P[3].charAt(3))+k,16),o=x((k=P[3].charAt(2))+k,16),t=x((k=P[3].charAt(1))+k,16)),P[4]&&(E=P[4][he](V),t=g(E[0]),E[0].slice(-1)=="%"&&(t*=2.55),o=g(E[1]),E[1].slice(-1)=="%"&&(o*=2.55),c=g(E[2]),E[2].slice(-1)=="%"&&(c*=2.55),P[1].toLowerCase().slice(0,4)=="rgba"&&(m=g(E[3])),E[3]&&E[3].slice(-1)=="%"&&(m/=100)),P[5]?(E=P[5][he](V),t=g(E[0]),E[0].slice(-1)=="%"&&(t*=2.55),o=g(E[1]),E[1].slice(-1)=="%"&&(o*=2.55),c=g(E[2]),E[2].slice(-1)=="%"&&(c*=2.55),(E[0].slice(-3)=="deg"||E[0].slice(-1)=="°")&&(t/=360),P[1].toLowerCase().slice(0,4)=="hsba"&&(m=g(E[3])),E[3]&&E[3].slice(-1)=="%"&&(m/=100),u.hsb2rgb(t,o,c,m)):P[6]?(E=P[6][he](V),t=g(E[0]),E[0].slice(-1)=="%"&&(t*=2.55),o=g(E[1]),E[1].slice(-1)=="%"&&(o*=2.55),c=g(E[2]),E[2].slice(-1)=="%"&&(c*=2.55),(E[0].slice(-3)=="deg"||E[0].slice(-1)=="°")&&(t/=360),P[1].toLowerCase().slice(0,4)=="hsla"&&(m=g(E[3])),E[3]&&E[3].slice(-1)=="%"&&(m/=100),u.hsl2rgb(t,o,c,m)):((P={r:t,g:o,b:c,toString:Qe}).hex="#"+(16777216|c|o<<8|t<<16).toString(16).slice(1),u.is(m,"finite")&&(P.opacity=m),P)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Qe}},u),u.hsb=Fe(function(e,t,o){return u.hsb2rgb(e,t,o).hex}),u.hsl=Fe(function(e,t,o){return u.hsl2rgb(e,t,o).hex}),u.rgb=Fe(function(e,t,o){function c(m){return m+.5|0}return"#"+(16777216|c(o)|c(t)<<8|c(e)<<16).toString(16).slice(1)}),u.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},o=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),o.hex},u.getColor.reset=function(){delete this.start},u.parsePathString=function(e){if(!e)return null;var t=je(e);if(t.arr)return He(t.arr);var o={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},c=[];return u.is(e,l)&&u.is(e[0],l)&&(c=He(e)),c.length||G(e).replace(ge,function(m,k,E){var P=[],R=k.toLowerCase();if(E.replace(ve,function(H,J){J&&P.push(+J)}),R=="m"&&P.length>2&&(c.push([k][j](P.splice(0,2))),R="l",k=k=="m"?"l":"L"),R=="r")c.push([k][j](P));else for(;P.length>=o[R]&&(c.push([k][j](P.splice(0,o[R]))),o[R]););}),c.toString=u._path2string,t.arr=He(c),c},u.parseTransformString=Fe(function(e){if(!e)return null;var t=[];return u.is(e,l)&&u.is(e[0],l)&&(t=He(e)),t.length||G(e).replace(ye,function(o,c,m){var k=[];me.call(c),m.replace(ve,function(E,P){P&&k.push(+P)}),t.push([c][j](k))}),t.toString=u._path2string,t},this,function(e){if(!e)return e;for(var t=[],o=0;o<e.length;o++){for(var c=[],m=0;m<e[o].length;m++)c.push(e[o][m]);t.push(c)}return t});var je=function(e){var t=je.ps=je.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var o in t)t[B](o)&&o!=e&&(t[o].sleep--,!t[o].sleep&&delete t[o])}),t[e]};function ut(e,t,o,c,m){return e*(e*(-3*t+9*o-9*c+3*m)+6*t-12*o+6*c)-3*t+3*o}function Ue(e,t,o,c,m,k,E,P,R){R==null&&(R=1);for(var H=(R=R>1?1:R<0?0:R)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],oe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0,Y=0;Y<12;Y++){var ne=H*J[Y]+H,le=ut(ne,e,o,m,E),ie=ut(ne,t,c,k,P),Q=le*le+ie*ie;K+=oe[Y]*de.sqrt(Q)}return H*K}function kt(e,t,o,c,m,k,E,P){if(!(we(e,o)<X(m,E)||X(e,o)>we(m,E)||we(t,c)<X(k,P)||X(t,c)>we(k,P))){var R=(e-o)*(k-P)-(t-c)*(m-E);if(R){var H=((e*c-t*o)*(m-E)-(e-o)*(m*P-k*E))/R,J=((e*c-t*o)*(k-P)-(t-c)*(m*P-k*E))/R,oe=+H.toFixed(2),K=+J.toFixed(2);if(!(oe<+X(e,o).toFixed(2)||oe>+we(e,o).toFixed(2)||oe<+X(m,E).toFixed(2)||oe>+we(m,E).toFixed(2)||K<+X(t,c).toFixed(2)||K>+we(t,c).toFixed(2)||K<+X(k,P).toFixed(2)||K>+we(k,P).toFixed(2)))return{x:H,y:J}}}}function ht(e,t,o){var c=u.bezierBBox(e),m=u.bezierBBox(t);if(!u.isBBoxIntersect(c,m))return o?0:[];for(var k=Ue.apply(0,e),E=Ue.apply(0,t),P=we(~~(k/5),1),R=we(~~(E/5),1),H=[],J=[],oe={},K=o?0:[],Y=0;Y<P+1;Y++){var ne=u.findDotsAtSegment.apply(u,e.concat(Y/P));H.push({x:ne.x,y:ne.y,t:Y/P})}for(Y=0;Y<R+1;Y++)ne=u.findDotsAtSegment.apply(u,t.concat(Y/R)),J.push({x:ne.x,y:ne.y,t:Y/R});for(Y=0;Y<P;Y++)for(var le=0;le<R;le++){var ie=H[Y],Q=H[Y+1],be=J[le],ce=J[le+1],fe=xe(Q.x-ie.x)<.001?"y":"x",ue=xe(ce.x-be.x)<.001?"y":"x",Ee=kt(ie.x,ie.y,Q.x,Q.y,be.x,be.y,ce.x,ce.y);if(Ee){if(oe[Ee.x.toFixed(4)]==Ee.y.toFixed(4))continue;oe[Ee.x.toFixed(4)]=Ee.y.toFixed(4);var Pe=ie.t+xe((Ee[fe]-ie[fe])/(Q[fe]-ie[fe]))*(Q.t-ie.t),Re=be.t+xe((Ee[ue]-be[ue])/(ce[ue]-be[ue]))*(ce.t-be.t);Pe>=0&&Pe<=1.001&&Re>=0&&Re<=1.001&&(o?K++:K.push({x:Ee.x,y:Ee.y,t1:X(Pe,1),t2:X(Re,1)}))}}return K}function _t(e,t,o){e=u._path2curve(e),t=u._path2curve(t);for(var c,m,k,E,P,R,H,J,oe,K,Y=o?0:[],ne=0,le=e.length;ne<le;ne++){var ie=e[ne];if(ie[0]=="M")c=P=ie[1],m=R=ie[2];else{ie[0]=="C"?(oe=[c,m].concat(ie.slice(1)),c=oe[6],m=oe[7]):(oe=[c,m,c,m,P,R,P,R],c=P,m=R);for(var Q=0,be=t.length;Q<be;Q++){var ce=t[Q];if(ce[0]=="M")k=H=ce[1],E=J=ce[2];else{ce[0]=="C"?(K=[k,E].concat(ce.slice(1)),k=K[6],E=K[7]):(K=[k,E,k,E,H,J,H,J],k=H,E=J);var fe=ht(oe,K,o);if(o)Y+=fe;else{for(var ue=0,Ee=fe.length;ue<Ee;ue++)fe[ue].segment1=ne,fe[ue].segment2=Q,fe[ue].bez1=oe,fe[ue].bez2=K;Y=Y.concat(fe)}}}}}return Y}u.findDotsAtSegment=function(e,t,o,c,m,k,E,P,R){var H=1-R,J=Ce(H,3),oe=Ce(H,2),K=R*R,Y=K*R,ne=J*e+3*oe*R*o+3*H*R*R*m+Y*E,le=J*t+3*oe*R*c+3*H*R*R*k+Y*P,ie=e+2*R*(o-e)+K*(m-2*o+e),Q=t+2*R*(c-t)+K*(k-2*c+t),be=o+2*R*(m-o)+K*(E-2*m+o),ce=c+2*R*(k-c)+K*(P-2*k+c),fe=H*e+R*o,ue=H*t+R*c,Ee=H*m+R*E,Pe=H*k+R*P,Re=90-180*de.atan2(ie-be,Q-ce)/ee;return(ie>be||Q<ce)&&(Re+=180),{x:ne,y:le,m:{x:ie,y:Q},n:{x:be,y:ce},start:{x:fe,y:ue},end:{x:Ee,y:Pe},alpha:Re}},u.bezierBBox=function(e,t,o,c,m,k,E,P){u.is(e,"array")||(e=[e,t,o,c,m,k,E,P]);var R=Mt.apply(null,e);return{x:R.min.x,y:R.min.y,x2:R.max.x,y2:R.max.y,width:R.max.x-R.min.x,height:R.max.y-R.min.y}},u.isPointInsideBBox=function(e,t,o){return t>=e.x&&t<=e.x2&&o>=e.y&&o<=e.y2},u.isBBoxIntersect=function(e,t){var o=u.isPointInsideBBox;return o(t,e.x,e.y)||o(t,e.x2,e.y)||o(t,e.x,e.y2)||o(t,e.x2,e.y2)||o(e,t.x,t.y)||o(e,t.x2,t.y)||o(e,t.x,t.y2)||o(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},u.pathIntersection=function(e,t){return _t(e,t)},u.pathIntersectionNumber=function(e,t){return _t(e,t,1)},u.isPointInsidePath=function(e,t,o){var c=u.pathBBox(e);return u.isPointInsideBBox(c,t,o)&&_t(e,[["M",t,o],["H",c.x2+10]],1)%2==1},u._removedFactory=function(e){return function(){s("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Ke=u.pathBBox=function(e){var t=je(e);if(t.bbox)return ze(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var o,c=0,m=0,k=[],E=[],P=0,R=(e=St(e)).length;P<R;P++)if((o=e[P])[0]=="M")c=o[1],m=o[2],k.push(c),E.push(m);else{var H=Mt(c,m,o[1],o[2],o[3],o[4],o[5],o[6]);k=k[j](H.min.x,H.max.x),E=E[j](H.min.y,H.max.y),c=o[5],m=o[6]}var J=X[$](0,k),oe=X[$](0,E),K=we[$](0,k),Y=we[$](0,E),ne=K-J,le=Y-oe,ie={x:J,y:oe,x2:K,y2:Y,width:ne,height:le,cx:J+ne/2,cy:oe+le/2};return t.bbox=ze(ie),ie},He=function(e){var t=ze(e);return t.toString=u._path2string,t},Zt=u._pathToRelative=function(e){var t=je(e);if(t.rel)return He(t.rel);u.is(e,l)&&u.is(e&&e[0],l)||(e=u.parsePathString(e));var o=[],c=0,m=0,k=0,E=0,P=0;e[0][0]=="M"&&(k=c=e[0][1],E=m=e[0][2],P++,o.push(["M",c,m]));for(var R=P,H=e.length;R<H;R++){var J=o[R]=[],oe=e[R];if(oe[0]!=me.call(oe[0]))switch(J[0]=me.call(oe[0]),J[0]){case"a":J[1]=oe[1],J[2]=oe[2],J[3]=oe[3],J[4]=oe[4],J[5]=oe[5],J[6]=+(oe[6]-c).toFixed(3),J[7]=+(oe[7]-m).toFixed(3);break;case"v":J[1]=+(oe[1]-m).toFixed(3);break;case"m":k=oe[1],E=oe[2];default:for(var K=1,Y=oe.length;K<Y;K++)J[K]=+(oe[K]-(K%2?c:m)).toFixed(3)}else{J=o[R]=[],oe[0]=="m"&&(k=oe[1]+c,E=oe[2]+m);for(var ne=0,le=oe.length;ne<le;ne++)o[R][ne]=oe[ne]}var ie=o[R].length;switch(o[R][0]){case"z":c=k,m=E;break;case"h":c+=+o[R][ie-1];break;case"v":m+=+o[R][ie-1];break;default:c+=+o[R][ie-2],m+=+o[R][ie-1]}}return o.toString=u._path2string,t.rel=He(o),o},dt=u._pathToAbsolute=function(e){var t=je(e);if(t.abs)return He(t.abs);if(u.is(e,l)&&u.is(e&&e[0],l)||(e=u.parsePathString(e)),!e||!e.length)return[["M",0,0]];var o=[],c=0,m=0,k=0,E=0,P=0;e[0][0]=="M"&&(k=c=+e[0][1],E=m=+e[0][2],P++,o[0]=["M",c,m]);for(var R,H,J=e.length==3&&e[0][0]=="M"&&e[1][0].toUpperCase()=="R"&&e[2][0].toUpperCase()=="Z",oe=P,K=e.length;oe<K;oe++){if(o.push(R=[]),(H=e[oe])[0]!=A.call(H[0]))switch(R[0]=A.call(H[0]),R[0]){case"A":R[1]=H[1],R[2]=H[2],R[3]=H[3],R[4]=H[4],R[5]=H[5],R[6]=+(H[6]+c),R[7]=+(H[7]+m);break;case"V":R[1]=+H[1]+m;break;case"H":R[1]=+H[1]+c;break;case"R":for(var Y=[c,m][j](H.slice(1)),ne=2,le=Y.length;ne<le;ne++)Y[ne]=+Y[ne]+c,Y[++ne]=+Y[ne]+m;o.pop(),o=o[j](ct(Y,J));break;case"M":k=+H[1]+c,E=+H[2]+m;default:for(ne=1,le=H.length;ne<le;ne++)R[ne]=+H[ne]+(ne%2?c:m)}else if(H[0]=="R")Y=[c,m][j](H.slice(1)),o.pop(),o=o[j](ct(Y,J)),R=["R"][j](H.slice(-2));else for(var ie=0,Q=H.length;ie<Q;ie++)R[ie]=H[ie];switch(R[0]){case"Z":c=k,m=E;break;case"H":c=R[1];break;case"V":m=R[1];break;case"M":k=R[R.length-2],E=R[R.length-1];default:c=R[R.length-2],m=R[R.length-1]}}return o.toString=u._path2string,t.abs=He(o),o},ft=function(e,t,o,c){return[e,t,o,c,o,c]},Ze=function(e,t,o,c,m,k){return[1/3*e+2/3*o,1/3*t+2/3*c,1/3*m+2/3*o,1/3*k+2/3*c,m,k]},Nt=function(e,t,o,c,m,k,E,P,R,H){var J,oe=120*ee/180,K=ee/180*(+m||0),Y=[],ne=Fe(function(v1,y1,zt){return{x:v1*de.cos(zt)-y1*de.sin(zt),y:v1*de.sin(zt)+y1*de.cos(zt)}});if(H)Pe=H[0],Re=H[1],ue=H[2],Ee=H[3];else{e=(J=ne(e,t,-K)).x,t=J.y,P=(J=ne(P,R,-K)).x,R=J.y;var le=(e-P)/2,ie=(t-R)/2,Q=le*le/(o*o)+ie*ie/(c*c);Q>1&&(o*=Q=de.sqrt(Q),c*=Q);var be=o*o,ce=c*c,fe=(k==E?-1:1)*de.sqrt(xe((be*ce-be*ie*ie-ce*le*le)/(be*ie*ie+ce*le*le))),ue=fe*o*ie/c+(e+P)/2,Ee=fe*-c*le/o+(t+R)/2,Pe=de.asin(((t-Ee)/c).toFixed(9)),Re=de.asin(((R-Ee)/c).toFixed(9));(Pe=e<ue?ee-Pe:Pe)<0&&(Pe=2*ee+Pe),(Re=P<ue?ee-Re:Re)<0&&(Re=2*ee+Re),E&&Pe>Re&&(Pe-=2*ee),!E&&Re>Pe&&(Re-=2*ee)}var mt=Re-Pe;if(xe(mt)>oe){var Et=Re,Ve=P,Ge=R;Re=Pe+oe*(E&&Re>Pe?1:-1),P=ue+o*de.cos(Re),R=Ee+c*de.sin(Re),Y=Nt(P,R,o,c,m,0,E,Ve,Ge,[Re,Et,ue,Ee])}mt=Re-Pe;var gt=de.cos(Pe),vt=de.sin(Pe),Dt=de.cos(Re),Xe=de.sin(Re),st=de.tan(mt/4),qt=4/3*o*st,d1=4/3*c*st,f1=[e,t],yt=[e+qt*vt,t-d1*gt],p1=[P+qt*Xe,R-d1*Dt],m1=[P,R];if(yt[0]=2*f1[0]-yt[0],yt[1]=2*f1[1]-yt[1],H)return[yt,p1,m1][j](Y);for(var g1=[],tt=0,U1=(Y=[yt,p1,m1][j](Y).join()[he](",")).length;tt<U1;tt++)g1[tt]=tt%2?ne(Y[tt-1],Y[tt],K).y:ne(Y[tt],Y[tt+1],K).x;return g1},nt=function(e,t,o,c,m,k,E,P,R){var H=1-R;return{x:Ce(H,3)*e+3*Ce(H,2)*R*o+3*H*R*R*m+Ce(R,3)*E,y:Ce(H,3)*t+3*Ce(H,2)*R*c+3*H*R*R*k+Ce(R,3)*P}},Mt=Fe(function(e,t,o,c,m,k,E,P){var R,H=m-2*o+e-(E-2*m+o),J=2*(o-e)-2*(m-o),oe=e-o,K=(-J+de.sqrt(J*J-4*H*oe))/2/H,Y=(-J-de.sqrt(J*J-4*H*oe))/2/H,ne=[t,P],le=[e,E];return xe(K)>"1e12"&&(K=.5),xe(Y)>"1e12"&&(Y=.5),K>0&&K<1&&(R=nt(e,t,o,c,m,k,E,P,K),le.push(R.x),ne.push(R.y)),Y>0&&Y<1&&(R=nt(e,t,o,c,m,k,E,P,Y),le.push(R.x),ne.push(R.y)),H=k-2*c+t-(P-2*k+c),oe=t-c,K=(-(J=2*(c-t)-2*(k-c))+de.sqrt(J*J-4*H*oe))/2/H,Y=(-J-de.sqrt(J*J-4*H*oe))/2/H,xe(K)>"1e12"&&(K=.5),xe(Y)>"1e12"&&(Y=.5),K>0&&K<1&&(R=nt(e,t,o,c,m,k,E,P,K),le.push(R.x),ne.push(R.y)),Y>0&&Y<1&&(R=nt(e,t,o,c,m,k,E,P,Y),le.push(R.x),ne.push(R.y)),{min:{x:X[$](0,le),y:X[$](0,ne)},max:{x:we[$](0,le),y:we[$](0,ne)}}}),St=u._path2curve=Fe(function(e,t){var o=!t&&je(e);if(!t&&o.curve)return He(o.curve);for(var c=dt(e),m=t&&dt(t),k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},P=function(fe,ue,Ee){var Pe,Re;if(!fe)return["C",ue.x,ue.y,ue.x,ue.y,ue.x,ue.y];switch(!(fe[0]in{T:1,Q:1})&&(ue.qx=ue.qy=null),fe[0]){case"M":ue.X=fe[1],ue.Y=fe[2];break;case"A":fe=["C"][j](Nt[$](0,[ue.x,ue.y][j](fe.slice(1))));break;case"S":Ee=="C"||Ee=="S"?(Pe=2*ue.x-ue.bx,Re=2*ue.y-ue.by):(Pe=ue.x,Re=ue.y),fe=["C",Pe,Re][j](fe.slice(1));break;case"T":Ee=="Q"||Ee=="T"?(ue.qx=2*ue.x-ue.qx,ue.qy=2*ue.y-ue.qy):(ue.qx=ue.x,ue.qy=ue.y),fe=["C"][j](Ze(ue.x,ue.y,ue.qx,ue.qy,fe[1],fe[2]));break;case"Q":ue.qx=fe[1],ue.qy=fe[2],fe=["C"][j](Ze(ue.x,ue.y,fe[1],fe[2],fe[3],fe[4]));break;case"L":fe=["C"][j](ft(ue.x,ue.y,fe[1],fe[2]));break;case"H":fe=["C"][j](ft(ue.x,ue.y,fe[1],ue.y));break;case"V":fe=["C"][j](ft(ue.x,ue.y,ue.x,fe[1]));break;case"Z":fe=["C"][j](ft(ue.x,ue.y,ue.X,ue.Y))}return fe},R=function(fe,ue){if(fe[ue].length>7){fe[ue].shift();for(var Ee=fe[ue];Ee.length;)J[ue]="A",m&&(oe[ue]="A"),fe.splice(ue++,0,["C"][j](Ee.splice(0,6)));fe.splice(ue,1),le=we(c.length,m&&m.length||0)}},H=function(fe,ue,Ee,Pe,Re){fe&&ue&&fe[Re][0]=="M"&&ue[Re][0]!="M"&&(ue.splice(Re,0,["M",Pe.x,Pe.y]),Ee.bx=0,Ee.by=0,Ee.x=fe[Re][1],Ee.y=fe[Re][2],le=we(c.length,m&&m.length||0))},J=[],oe=[],K="",Y="",ne=0,le=we(c.length,m&&m.length||0);ne<le;ne++){c[ne]&&(K=c[ne][0]),K!="C"&&(J[ne]=K,ne&&(Y=J[ne-1])),c[ne]=P(c[ne],k,Y),J[ne]!="A"&&K=="C"&&(J[ne]="C"),R(c,ne),m&&(m[ne]&&(K=m[ne][0]),K!="C"&&(oe[ne]=K,ne&&(Y=oe[ne-1])),m[ne]=P(m[ne],E,Y),oe[ne]!="A"&&K=="C"&&(oe[ne]="C"),R(m,ne)),H(c,m,k,E,ne),H(m,c,E,k,ne);var ie=c[ne],Q=m&&m[ne],be=ie.length,ce=m&&Q.length;k.x=ie[be-2],k.y=ie[be-1],k.bx=g(ie[be-4])||k.x,k.by=g(ie[be-3])||k.y,E.bx=m&&(g(Q[ce-4])||E.x),E.by=m&&(g(Q[ce-3])||E.y),E.x=m&&Q[ce-2],E.y=m&&Q[ce-1]}return m||(o.curve=He(c)),m?[c,m]:c},null,He),It=(u._parseDots=Fe(function(e){for(var t=[],o=0,c=e.length;o<c;o++){var m={},k=e[o].match(/^([^:]*):?([\d\.]*)/);if(m.color=u.getRGB(k[1]),m.color.error)return null;m.opacity=m.color.opacity,m.color=m.color.hex,k[2]&&(m.offset=k[2]+"%"),t.push(m)}for(o=1,c=t.length-1;o<c;o++)if(!t[o].offset){for(var E=g(t[o-1].offset||0),P=0,R=o+1;R<c;R++)if(t[R].offset){P=t[R].offset;break}P||(P=100,R=c);for(var H=((P=g(P))-E)/(R-o+1);o<R;o++)E+=H,t[o].offset=E+"%"}return t}),u._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),q1=(u._tofront=function(e,t){t.top!==e&&(It(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},u._toback=function(e,t){t.bottom!==e&&(It(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},u._insertafter=function(e,t,o){It(e,o),t==o.top&&(o.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},u._insertbefore=function(e,t,o){It(e,o),t==o.bottom&&(o.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},u.toMatrix=function(e,t){var o=Ke(e),c={_:{transform:ae},getBBox:function(){return o}};return e1(c,t),c.matrix}),e1=(u.transformPath=function(e,t){return Ie(e,q1(e,t))},u._extractTransform=function(e,t){if(t==null)return e._.transform;t=G(t).replace(/\.{3}|\u2026/g,e._.transform||ae);var o,c,m=u.parseTransformString(t),k=0,E=1,P=1,R=e._,H=new rt;if(R.transform=m||[],m)for(var J=0,oe=m.length;J<oe;J++){var K,Y,ne,le,ie,Q=m[J],be=Q.length,ce=G(Q[0]).toLowerCase(),fe=Q[0]!=ce,ue=fe?H.invert():0;ce=="t"&&be==3?fe?(K=ue.x(0,0),Y=ue.y(0,0),ne=ue.x(Q[1],Q[2]),le=ue.y(Q[1],Q[2]),H.translate(ne-K,le-Y)):H.translate(Q[1],Q[2]):ce=="r"?be==2?(ie=ie||e.getBBox(1),H.rotate(Q[1],ie.x+ie.width/2,ie.y+ie.height/2),k+=Q[1]):be==4&&(fe?(ne=ue.x(Q[2],Q[3]),le=ue.y(Q[2],Q[3]),H.rotate(Q[1],ne,le)):H.rotate(Q[1],Q[2],Q[3]),k+=Q[1]):ce=="s"?be==2||be==3?(ie=ie||e.getBBox(1),H.scale(Q[1],Q[be-1],ie.x+ie.width/2,ie.y+ie.height/2),E*=Q[1],P*=Q[be-1]):be==5&&(fe?(ne=ue.x(Q[3],Q[4]),le=ue.y(Q[3],Q[4]),H.scale(Q[1],Q[2],ne,le)):H.scale(Q[1],Q[2],Q[3],Q[4]),E*=Q[1],P*=Q[2]):ce=="m"&&be==7&&H.add(Q[1],Q[2],Q[3],Q[4],Q[5],Q[6]),R.dirtyT=1,e.matrix=H}e.matrix=H,R.sx=E,R.sy=P,R.deg=k,R.dx=o=H.e,R.dy=c=H.f,E==1&&P==1&&!k&&R.bbox?(R.bbox.x+=+o,R.bbox.y+=+c):R.dirtyT=1}),t1=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return e.length==4?[t,0,e[2],e[3]]:[t,0];case"s":return e.length==5?[t,1,1,e[3],e[4]]:e.length==3?[t,1,1]:[t,1]}},z1=u._equaliseTransform=function(e,t){t=G(t).replace(/\.{3}|\u2026/g,e),e=u.parseTransformString(e)||[],t=u.parseTransformString(t)||[];for(var o,c,m,k,E=we(e.length,t.length),P=[],R=[],H=0;H<E;H++){if(m=e[H]||t1(t[H]),k=t[H]||t1(m),m[0]!=k[0]||m[0].toLowerCase()=="r"&&(m[2]!=k[2]||m[3]!=k[3])||m[0].toLowerCase()=="s"&&(m[3]!=k[3]||m[4]!=k[4]))return;for(P[H]=[],R[H]=[],o=0,c=we(m.length,k.length);o<c;o++)o in m&&(P[H][o]=m[o]),o in k&&(R[H][o]=k[o])}return{from:P,to:R}};function rt(e,t,o,c,m,k){e!=null?(this.a=+e,this.b=+t,this.c=+o,this.d=+c,this.e=+m,this.f=+k):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}u._getContainer=function(e,t,o,c){var m;if((m=c!=null||u.is(e,"object")?e:L.doc.getElementById(e))!=null)return m.tagName?t==null?{container:m,width:m.style.pixelWidth||m.offsetWidth,height:m.style.pixelHeight||m.offsetHeight}:{container:m,width:t,height:o}:{container:1,x:e,y:t,width:o,height:c}},u.pathToRelative=Zt,u._engine={},u.path2curve=St,u.matrix=function(e,t,o,c,m,k){return new rt(e,t,o,c,m,k)},function(e){function t(c){return c[0]*c[0]+c[1]*c[1]}function o(c){var m=de.sqrt(t(c));c[0]&&(c[0]/=m),c[1]&&(c[1]/=m)}e.add=function(c,m,k,E,P,R){var H,J,oe,K,Y=[[],[],[]],ne=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],le=[[c,k,P],[m,E,R],[0,0,1]];for(c&&c instanceof rt&&(le=[[c.a,c.c,c.e],[c.b,c.d,c.f],[0,0,1]]),H=0;H<3;H++)for(J=0;J<3;J++){for(K=0,oe=0;oe<3;oe++)K+=ne[H][oe]*le[oe][J];Y[H][J]=K}this.a=Y[0][0],this.b=Y[1][0],this.c=Y[0][1],this.d=Y[1][1],this.e=Y[0][2],this.f=Y[1][2]},e.invert=function(){var c=this,m=c.a*c.d-c.b*c.c;return new rt(c.d/m,-c.b/m,-c.c/m,c.a/m,(c.c*c.f-c.d*c.e)/m,(c.b*c.e-c.a*c.f)/m)},e.clone=function(){return new rt(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(c,m){this.add(1,0,0,1,c,m)},e.scale=function(c,m,k,E){m==null&&(m=c),(k||E)&&this.add(1,0,0,1,k,E),this.add(c,0,0,m,0,0),(k||E)&&this.add(1,0,0,1,-k,-E)},e.rotate=function(c,m,k){c=u.rad(c),m=m||0,k=k||0;var E=+de.cos(c).toFixed(9),P=+de.sin(c).toFixed(9);this.add(E,P,-P,E,m,k),this.add(1,0,0,1,-m,-k)},e.x=function(c,m){return c*this.a+m*this.c+this.e},e.y=function(c,m){return c*this.b+m*this.d+this.f},e.get=function(c){return+this[G.fromCharCode(97+c)].toFixed(4)},e.toString=function(){return u.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var c={};c.dx=this.e,c.dy=this.f;var m=[[this.a,this.c],[this.b,this.d]];c.scalex=de.sqrt(t(m[0])),o(m[0]),c.shear=m[0][0]*m[1][0]+m[0][1]*m[1][1],m[1]=[m[1][0]-m[0][0]*c.shear,m[1][1]-m[0][1]*c.shear],c.scaley=de.sqrt(t(m[1])),o(m[1]),c.shear/=c.scaley;var k=-m[0][1],E=m[1][1];return E<0?(c.rotate=u.deg(de.acos(E)),k<0&&(c.rotate=360-c.rotate)):c.rotate=u.deg(de.asin(k)),c.isSimple=!(+c.shear.toFixed(9)||c.scalex.toFixed(9)!=c.scaley.toFixed(9)&&c.rotate),c.isSuperSimple=!+c.shear.toFixed(9)&&c.scalex.toFixed(9)==c.scaley.toFixed(9)&&!c.rotate,c.noRotation=!+c.shear.toFixed(9)&&!c.rotate,c},e.toTransformString=function(c){var m=c||this[he]();return m.isSimple?(m.scalex=+m.scalex.toFixed(4),m.scaley=+m.scaley.toFixed(4),m.rotate=+m.rotate.toFixed(4),(m.dx||m.dy?"t"+[m.dx,m.dy]:ae)+(m.scalex!=1||m.scaley!=1?"s"+[m.scalex,m.scaley,0,0]:ae)+(m.rotate?"r"+[m.rotate,0,0]:ae)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(rt.prototype);for(var F1=function(){this.returnValue=!1},O1=function(){return this.originalEvent.preventDefault()},H1=function(){this.cancelBubble=!0},V1=function(){return this.originalEvent.stopPropagation()},n1=function(e){var t=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,o=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft;return{x:e.clientX+o,y:e.clientY+t}},$1=L.doc.addEventListener?function(e,t,o,c){var m=function(E){var P=n1(E);return o.call(c,E,P.x,P.y)};if(e.addEventListener(t,m,!1),te&&F[t]){var k=function(E){for(var P=n1(E),R=E,H=0,J=E.targetTouches&&E.targetTouches.length;H<J;H++)if(E.targetTouches[H].target==e){(E=E.targetTouches[H]).originalEvent=R,E.preventDefault=O1,E.stopPropagation=V1;break}return o.call(c,E,P.x,P.y)};e.addEventListener(F[t],k,!1)}return function(){return e.removeEventListener(t,m,!1),te&&F[t]&&e.removeEventListener(F[t],k,!1),!0}}:L.doc.attachEvent?function(e,t,o,c){var m=function(k){k=k||L.win.event;var E=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,P=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft,R=k.clientX+P,H=k.clientY+E;return k.preventDefault=k.preventDefault||F1,k.stopPropagation=k.stopPropagation||H1,o.call(c,k,R,H)};return e.attachEvent("on"+t,m),function(){return e.detachEvent("on"+t,m),!0}}:void 0,et=[],Vt=function(e){for(var t,o=e.clientX,c=e.clientY,m=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,k=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft,E=et.length;E--;){if(t=et[E],te&&e.touches){for(var P,R=e.touches.length;R--;)if((P=e.touches[R]).identifier==t.el._drag.id){o=P.clientX,c=P.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var H,J=t.el.node,oe=J.nextSibling,K=J.parentNode,Y=J.style.display;L.win.opera&&K.removeChild(J),J.style.display="none",H=t.el.paper.getElementByPoint(o,c),J.style.display=Y,L.win.opera&&(oe?K.insertBefore(J,oe):K.appendChild(J)),H&&s("raphael.drag.over."+t.el.id,t.el,H),o+=k,c+=m,s("raphael.drag.move."+t.el.id,t.move_scope||t.el,o-t.el._drag.x,c-t.el._drag.y,o,c,e)}},$t=function(e){u.unmousemove(Vt).unmouseup($t);for(var t,o=et.length;o--;)(t=et[o]).el._drag={},s("raphael.drag.end."+t.el.id,t.end_scope||t.start_scope||t.move_scope||t.el,e);et=[]},Ne=u.el={},r1=se.length;r1--;)(function(e){u[e]=Ne[e]=function(t,o){return u.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:$1(this.shape||this.node||L.doc,e,t,o||this)})),this},u["un"+e]=Ne["un"+e]=function(t){for(var o=this.events||[],c=o.length;c--;)o[c].name!=e||!u.is(t,"undefined")&&o[c].f!=t||(o[c].unbind(),o.splice(c,1),!o.length&&delete this.events);return this}})(se[r1]);Ne.data=function(e,t){var o=_e[this.id]=_e[this.id]||{};if(arguments.length==0)return o;if(arguments.length==1){if(u.is(e,"object")){for(var c in e)e[B](c)&&this.data(c,e[c]);return this}return s("raphael.data.get."+this.id,this,o[e],e),o[e]}return o[e]=t,s("raphael.data.set."+this.id,this,t,e),this},Ne.removeData=function(e){return e==null?delete _e[this.id]:_e[this.id]&&delete _e[this.id][e],this},Ne.getData=function(){return ze(_e[this.id]||{})},Ne.hover=function(e,t,o,c){return this.mouseover(e,o).mouseout(t,c||o)},Ne.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var pt=[];Ne.drag=function(e,t,o,c,m,k){function E(P){(P.originalEvent||P).preventDefault();var R=P.clientX,H=P.clientY,J=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,oe=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft;if(this._drag.id=P.identifier,te&&P.touches){for(var K,Y=P.touches.length;Y--;)if(K=P.touches[Y],this._drag.id=K.identifier,K.identifier==this._drag.id){R=K.clientX,H=K.clientY;break}}this._drag.x=R+oe,this._drag.y=H+J,!et.length&&u.mousemove(Vt).mouseup($t),et.push({el:this,move_scope:c,start_scope:m,end_scope:k}),t&&s.on("raphael.drag.start."+this.id,t),e&&s.on("raphael.drag.move."+this.id,e),o&&s.on("raphael.drag.end."+this.id,o),s("raphael.drag.start."+this.id,m||c||this,this._drag.x,this._drag.y,P)}return this._drag={},pt.push({el:this,start:E}),this.mousedown(E),this},Ne.onDragOver=function(e){e?s.on("raphael.drag.over."+this.id,e):s.unbind("raphael.drag.over."+this.id)},Ne.undrag=function(){for(var e=pt.length;e--;)pt[e].el==this&&(this.unmousedown(pt[e].start),pt.splice(e,1),s.unbind("raphael.drag.*."+this.id));!pt.length&&u.unmousemove(Vt).unmouseup($t),et=[]},b.circle=function(e,t,o){var c=u._engine.circle(this,e||0,t||0,o||0);return this.__set__&&this.__set__.push(c),c},b.rect=function(e,t,o,c,m){var k=u._engine.rect(this,e||0,t||0,o||0,c||0,m||0);return this.__set__&&this.__set__.push(k),k},b.ellipse=function(e,t,o,c){var m=u._engine.ellipse(this,e||0,t||0,o||0,c||0);return this.__set__&&this.__set__.push(m),m},b.path=function(e){e&&!u.is(e,"string")&&!u.is(e[0],l)&&(e+=ae);var t=u._engine.path(u.format[$](u,arguments),this);return this.__set__&&this.__set__.push(t),t},b.image=function(e,t,o,c,m){var k=u._engine.image(this,e||"about:blank",t||0,o||0,c||0,m||0);return this.__set__&&this.__set__.push(k),k},b.text=function(e,t,o){var c=u._engine.text(this,e||0,t||0,G(o));return this.__set__&&this.__set__.push(c),c},b.set=function(e){!u.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new Pt(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},b.setStart=function(e){this.__set__=e||this.set()},b.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},b.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},b.setSize=function(e,t){return u._engine.setSize.call(this,e,t)},b.setViewBox=function(e,t,o,c,m){return u._engine.setViewBox.call(this,e,t,o,c,m)},b.top=b.bottom=null,b.raphael=u;function i1(){return this.x+pe+this.y+pe+this.width+" × "+this.height}b.getElementByPoint=function(e,t){var o,c,m,k,E,P,R,H=this.canvas,J=L.doc.elementFromPoint(e,t);if(L.win.opera&&J.tagName=="svg"){var oe=(c=(o=H).getBoundingClientRect(),m=o.ownerDocument,k=m.body,E=m.documentElement,P=E.clientTop||k.clientTop||0,R=E.clientLeft||k.clientLeft||0,{y:c.top+(L.win.pageYOffset||E.scrollTop||k.scrollTop)-P,x:c.left+(L.win.pageXOffset||E.scrollLeft||k.scrollLeft)-R}),K=H.createSVGRect();K.x=e-oe.x,K.y=t-oe.y,K.width=K.height=1;var Y=H.getIntersectionList(K,null);Y.length&&(J=Y[Y.length-1])}if(!J)return null;for(;J.parentNode&&J!=H.parentNode&&!J.raphael;)J=J.parentNode;return J==this.canvas.parentNode&&(J=H),J=J&&J.raphael?this.getById(J.raphaelid):null},b.getElementsByBBox=function(e){var t=this.set();return this.forEach(function(o){u.isBBoxIntersect(o.getBBox(),e)&&t.push(o)}),t},b.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},b.forEach=function(e,t){for(var o=this.bottom;o;){if(e.call(t,o)===!1)return this;o=o.next}return this},b.getElementsByPoint=function(e,t){var o=this.set();return this.forEach(function(c){c.isPointInside(e,t)&&o.push(c)}),o},Ne.isPointInside=function(e,t){var o=this.realPath=Me[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(o=u.transformPath(o,this.attr("transform"))),u.isPointInsidePath(o,e,t)},Ne.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=Me[this.type](this),t.bboxwt=Ke(this.realPath),t.bboxwt.toString=i1,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=Me[this.type](this)),t.bbox=Ke(Ie(this.realPath,this.matrix)),t.bbox.toString=i1,t.dirty=t.dirtyT=0),t.bbox)},Ne.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Ne.glow=function(e){if(this.type=="text")return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity==null?.5:e.opacity,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},o=t.width/2,c=this.paper,m=c.set(),k=this.realPath||Me[this.type](this);k=this.matrix?Ie(k,this.matrix):k;for(var E=1;E<o+1;E++)m.push(c.path(k).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/o*E).toFixed(3),opacity:+(t.opacity/o).toFixed(3)}));return m.insertBefore(this).translate(t.offsetx,t.offsety)};var jt=function(e,t,o,c,m,k,E,P,R){return R==null?Ue(e,t,o,c,m,k,E,P):u.findDotsAtSegment(e,t,o,c,m,k,E,P,function(H,J,oe,K,Y,ne,le,ie,Q){if(!(Q<0||Ue(H,J,oe,K,Y,ne,le,ie)<Q)){var be,ce=.5,fe=1-ce;for(be=Ue(H,J,oe,K,Y,ne,le,ie,fe);xe(be-Q)>.01;)be=Ue(H,J,oe,K,Y,ne,le,ie,fe+=(be<Q?1:-1)*(ce/=2));return fe}}(e,t,o,c,m,k,E,P,R))},Ut=function(e,t){return function(o,c,m){for(var k,E,P,R,H,J="",oe={},K=0,Y=0,ne=(o=St(o)).length;Y<ne;Y++){if((P=o[Y])[0]=="M")k=+P[1],E=+P[2];else{if(K+(R=jt(k,E,P[1],P[2],P[3],P[4],P[5],P[6]))>c){if(t&&!oe.start){if(J+=["C"+(H=jt(k,E,P[1],P[2],P[3],P[4],P[5],P[6],c-K)).start.x,H.start.y,H.m.x,H.m.y,H.x,H.y],m)return J;oe.start=J,J=["M"+H.x,H.y+"C"+H.n.x,H.n.y,H.end.x,H.end.y,P[5],P[6]].join(),K+=R,k=+P[5],E=+P[6];continue}if(!e&&!t)return{x:(H=jt(k,E,P[1],P[2],P[3],P[4],P[5],P[6],c-K)).x,y:H.y,alpha:H.alpha}}K+=R,k=+P[5],E=+P[6]}J+=P.shift()+P}return oe.end=J,(H=e?K:t?oe:u.findDotsAtSegment(k,E,P[0],P[1],P[2],P[3],P[4],P[5],1)).alpha&&(H={x:H.x,y:H.y,alpha:H.alpha}),H}},s1=Ut(1),a1=Ut(),Gt=Ut(0,1);u.getTotalLength=s1,u.getPointAtLength=a1,u.getSubpath=function(e,t,o){if(this.getTotalLength(e)-o<1e-6)return Gt(e,t).end;var c=Gt(e,o,1);return t?Gt(c,t).end:c},Ne.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():s1(e)},Ne.getPointAtLength=function(e){var t=this.getPath();if(t)return a1(t,e)},Ne.getPath=function(){var e,t=u._getPath[this.type];if(this.type!="text"&&this.type!="set")return t&&(e=t(this)),e},Ne.getSubpath=function(e,t){var o=this.getPath();if(o)return u.getSubpath(o,e,t)};var $e=u.easing_formulas={linear:function(e){return e},"<":function(e){return Ce(e,1.7)},">":function(e){return Ce(e,.48)},"<>":function(e){var t=.48-e/1.04,o=de.sqrt(.1734+t*t),c=o-t,m=-o-t,k=Ce(xe(c),1/3)*(c<0?-1:1)+Ce(xe(m),1/3)*(m<0?-1:1)+.5;return 3*(1-k)*k*k+k*k*k},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:Ce(2,-10*e)*de.sin(2*ee*(e-.075)/.3)+1},bounce:function(e){var t=7.5625,o=2.75;return e<1/o?t*e*e:e<2/o?t*(e-=1.5/o)*e+.75:e<2.5/o?t*(e-=2.25/o)*e+.9375:t*(e-=2.625/o)*e+.984375}};$e.easeIn=$e["ease-in"]=$e["<"],$e.easeOut=$e["ease-out"]=$e[">"],$e.easeInOut=$e["ease-in-out"]=$e["<>"],$e["back-in"]=$e.backIn,$e["back-out"]=$e.backOut;var Be=[],o1=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},Wt=function(){for(var e=+new Date,t=0;t<Be.length;t++){var o=Be[t];if(!o.el.removed&&!o.paused){var c,m,k=e-o.start,E=o.ms,P=o.easing,R=o.from,H=o.diff,J=o.to,oe=(o.t,o.el),K={},Y={};if(o.initstatus?(k=(o.initstatus*o.anim.top-o.prev)/(o.percent-o.prev)*E,o.status=o.initstatus,delete o.initstatus,o.stop&&Be.splice(t--,1)):o.status=(o.prev+(o.percent-o.prev)*(k/E))/o.anim.top,!(k<0))if(k<E){var ne=P(k/E);for(var le in R)if(R[B](le)){switch(N[le]){case a:c=+R[le]+ne*E*H[le];break;case"colour":c="rgb("+[Xt(h(R[le].r+ne*E*H[le].r)),Xt(h(R[le].g+ne*E*H[le].g)),Xt(h(R[le].b+ne*E*H[le].b))].join(",")+")";break;case"path":c=[];for(var ie=0,Q=R[le].length;ie<Q;ie++){c[ie]=[R[le][ie][0]];for(var be=1,ce=R[le][ie].length;be<ce;be++)c[ie][be]=+R[le][ie][be]+ne*E*H[le][ie][be];c[ie]=c[ie].join(pe)}c=c.join(pe);break;case"transform":if(H[le].real)for(c=[],ie=0,Q=R[le].length;ie<Q;ie++)for(c[ie]=[R[le][ie][0]],be=1,ce=R[le][ie].length;be<ce;be++)c[ie][be]=R[le][ie][be]+ne*E*H[le][ie][be];else{var fe=function(Ee){return+R[le][Ee]+ne*E*H[le][Ee]};c=[["m",fe(0),fe(1),fe(2),fe(3),fe(4),fe(5)]]}break;case"csv":if(le=="clip-rect")for(c=[],ie=4;ie--;)c[ie]=+R[le][ie]+ne*E*H[le][ie];break;default:var ue=[][j](R[le]);for(c=[],ie=oe.paper.customAttributes[le].length;ie--;)c[ie]=+ue[ie]+ne*E*H[le][ie]}K[le]=c}oe.attr(K),function(Ee,Pe,Re){setTimeout(function(){s("raphael.anim.frame."+Ee,Pe,Re)})}(oe.id,oe,o.anim)}else{if(function(Ee,Pe,Re){setTimeout(function(){s("raphael.anim.frame."+Pe.id,Pe,Re),s("raphael.anim.finish."+Pe.id,Pe,Re),u.is(Ee,"function")&&Ee.call(Pe)})}(o.callback,oe,o.anim),oe.attr(J),Be.splice(t--,1),o.repeat>1&&!o.next){for(m in J)J[B](m)&&(Y[m]=o.totalOrigin[m]);o.el.attr(Y),At(o.anim,o.el,o.anim.percents[0],null,o.totalOrigin,o.repeat-1)}o.next&&!o.stop&&At(o.anim,o.el,o.next,null,o.totalOrigin,o.repeat)}}}Be.length&&o1(Wt)},Xt=function(e){return e>255?255:e<0?0:e};function j1(e,t,o,c,m,k){var E=3*t,P=3*(c-t)-E,R=1-E-P,H=3*o,J=3*(m-o)-H,oe=1-H-J;function K(Y){return((R*Y+P)*Y+E)*Y}return function(Y,ne){var le=function(ie,Q){var be,ce,fe,ue,Ee,Pe;for(fe=ie,Pe=0;Pe<8;Pe++){if(ue=K(fe)-ie,xe(ue)<Q)return fe;if(xe(Ee=(3*R*fe+2*P)*fe+E)<1e-6)break;fe-=ue/Ee}if(ce=1,(fe=ie)<(be=0))return be;if(fe>ce)return ce;for(;be<ce;){if(ue=K(fe),xe(ue-ie)<Q)return fe;ie>ue?be=fe:ce=fe,fe=(ce-be)/2+be}return fe}(Y,ne);return((oe*le+J)*le+H)*le}(e,1/(200*k))}function We(e,t){var o=[],c={};if(this.ms=t,this.times=1,e){for(var m in e)e[B](m)&&(c[g(m)]=e[m],o.push(g(m)));o.sort(Se)}this.anim=c,this.top=o[o.length-1],this.percents=o}function At(e,t,o,c,m,k){o=g(o);var E,P,R,H,J,oe,K=e.ms,Y={},ne={},le={};if(c)for(Q=0,be=Be.length;Q<be;Q++){var ie=Be[Q];if(ie.el.id==t.id&&ie.anim==e){ie.percent!=o?(Be.splice(Q,1),R=1):P=ie,t.attr(ie.totalOrigin);break}}else c=+ne;for(var Q=0,be=e.percents.length;Q<be;Q++){if(e.percents[Q]==o||e.percents[Q]>c*e.top){o=e.percents[Q],J=e.percents[Q-1]||0,K=K/e.top*(o-J),H=e.percents[Q+1],E=e.anim[o];break}c&&t.attr(e.anim[e.percents[Q]])}if(E){if(P)P.initstatus=c,P.start=new Date-P.ms*c;else{for(var ce in E)if(E[B](ce)&&(N[B](ce)||t.paper.customAttributes[B](ce)))switch(Y[ce]=t.attr(ce),Y[ce]==null&&(Y[ce]=I[ce]),ne[ce]=E[ce],N[ce]){case a:le[ce]=(ne[ce]-Y[ce])/K;break;case"colour":Y[ce]=u.getRGB(Y[ce]);var fe=u.getRGB(ne[ce]);le[ce]={r:(fe.r-Y[ce].r)/K,g:(fe.g-Y[ce].g)/K,b:(fe.b-Y[ce].b)/K};break;case"path":var ue=St(Y[ce],ne[ce]),Ee=ue[1];for(Y[ce]=ue[0],le[ce]=[],Q=0,be=Y[ce].length;Q<be;Q++){le[ce][Q]=[0];for(var Pe=1,Re=Y[ce][Q].length;Pe<Re;Pe++)le[ce][Q][Pe]=(Ee[Q][Pe]-Y[ce][Q][Pe])/K}break;case"transform":var mt=t._,Et=z1(mt[ce],ne[ce]);if(Et)for(Y[ce]=Et.from,ne[ce]=Et.to,le[ce]=[],le[ce].real=!0,Q=0,be=Y[ce].length;Q<be;Q++)for(le[ce][Q]=[Y[ce][Q][0]],Pe=1,Re=Y[ce][Q].length;Pe<Re;Pe++)le[ce][Q][Pe]=(ne[ce][Q][Pe]-Y[ce][Q][Pe])/K;else{var Ve=t.matrix||new rt,Ge={_:{transform:mt.transform},getBBox:function(){return t.getBBox(1)}};Y[ce]=[Ve.a,Ve.b,Ve.c,Ve.d,Ve.e,Ve.f],e1(Ge,ne[ce]),ne[ce]=Ge._.transform,le[ce]=[(Ge.matrix.a-Ve.a)/K,(Ge.matrix.b-Ve.b)/K,(Ge.matrix.c-Ve.c)/K,(Ge.matrix.d-Ve.d)/K,(Ge.matrix.e-Ve.e)/K,(Ge.matrix.f-Ve.f)/K]}break;case"csv":var gt=G(E[ce])[he](T),vt=G(Y[ce])[he](T);if(ce=="clip-rect")for(Y[ce]=vt,le[ce]=[],Q=vt.length;Q--;)le[ce][Q]=(gt[Q]-Y[ce][Q])/K;ne[ce]=gt;break;default:for(gt=[][j](E[ce]),vt=[][j](Y[ce]),le[ce]=[],Q=t.paper.customAttributes[ce].length;Q--;)le[ce][Q]=((gt[Q]||0)-(vt[Q]||0))/K}var Dt=E.easing,Xe=u.easing_formulas[Dt];if(!Xe)if((Xe=G(Dt).match(i))&&Xe.length==5){var st=Xe;Xe=function(qt){return j1(qt,+st[1],+st[2],+st[3],+st[4],K)}}else Xe=Ae;if(ie={anim:e,percent:o,timestamp:oe=E.start||e.start||+new Date,start:oe+(e.del||0),status:0,initstatus:c||0,stop:!1,ms:K,easing:Xe,from:Y,diff:le,to:ne,el:t,callback:E.callback,prev:J,next:H,repeat:k||e.times,origin:t.attr(),totalOrigin:m},Be.push(ie),c&&!P&&!R&&(ie.stop=!0,ie.start=new Date-K*c,Be.length==1))return Wt();R&&(ie.start=new Date-ie.ms*c),Be.length==1&&o1(Wt)}s("raphael.anim.start."+t.id,t,e)}}function l1(e){for(var t=0;t<Be.length;t++)Be[t].el.paper==e&&Be.splice(t--,1)}Ne.animateWith=function(e,t,o,c,m,k){if(this.removed)return k&&k.call(this),this;var E=o instanceof We?o:u.animation(o,c,m,k);At(E,this,E.percents[0],null,this.attr());for(var P=0,R=Be.length;P<R;P++)if(Be[P].anim==t&&Be[P].el==e){Be[R-1].start=Be[P].start;break}return this},Ne.onAnimation=function(e){return e?s.on("raphael.anim.frame."+this.id,e):s.unbind("raphael.anim.frame."+this.id),this},We.prototype.delay=function(e){var t=new We(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},We.prototype.repeat=function(e){var t=new We(this.anim,this.ms);return t.del=this.del,t.times=de.floor(we(e,0))||1,t},u.animation=function(e,t,o,c){if(e instanceof We)return e;!u.is(o,"function")&&o||(c=c||o||null,o=null),e=Object(e),t=+t||0;var m,k,E={};for(k in e)e[B](k)&&g(k)!=k&&g(k)+"%"!=k&&(m=!0,E[k]=e[k]);if(m)return o&&(E.easing=o),c&&(E.callback=c),new We({100:E},t);if(c){var P=0;for(var R in e){var H=x(R);e[B](R)&&H>P&&(P=H)}!e[P+="%"].callback&&(e[P].callback=c)}return new We(e,t)},Ne.animate=function(e,t,o,c){if(this.removed)return c&&c.call(this),this;var m=e instanceof We?e:u.animation(e,t,o,c);return At(m,this,m.percents[0],null,this.attr()),this},Ne.setTime=function(e,t){return e&&t!=null&&this.status(e,X(t,e.ms)/e.ms),this},Ne.status=function(e,t){var o,c,m=[],k=0;if(t!=null)return At(e,this,-1,X(t,1)),this;for(o=Be.length;k<o;k++)if((c=Be[k]).el.id==this.id&&(!e||c.anim==e)){if(e)return c.status;m.push({anim:c.anim,status:c.status})}return e?0:m},Ne.pause=function(e){for(var t=0;t<Be.length;t++)Be[t].el.id!=this.id||e&&Be[t].anim!=e||s("raphael.anim.pause."+this.id,this,Be[t].anim)!==!1&&(Be[t].paused=!0);return this},Ne.resume=function(e){for(var t=0;t<Be.length;t++)if(Be[t].el.id==this.id&&(!e||Be[t].anim==e)){var o=Be[t];s("raphael.anim.resume."+this.id,this,o.anim)!==!1&&(delete o.paused,this.status(o.anim,o.status))}return this},Ne.stop=function(e){for(var t=0;t<Be.length;t++)Be[t].el.id!=this.id||e&&Be[t].anim!=e||s("raphael.anim.stop."+this.id,this,Be[t].anim)!==!1&&Be.splice(t--,1);return this},s.on("raphael.remove",l1),s.on("raphael.clear",l1),Ne.toString=function(){return"Raphaël’s object"};var c1,u1,it,h1,Pt=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,o=e.length;t<o;t++)!e[t]||e[t].constructor!=Ne.constructor&&e[t].constructor!=Pt||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},Oe=Pt.prototype;for(var Yt in Oe.push=function(){for(var e,t,o=0,c=arguments.length;o<c;o++)!(e=arguments[o])||e.constructor!=Ne.constructor&&e.constructor!=Pt||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},Oe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Oe.forEach=function(e,t){for(var o=0,c=this.items.length;o<c;o++)if(e.call(t,this.items[o],o)===!1)return this;return this},Ne)Ne[B](Yt)&&(Oe[Yt]=function(e){return function(){var t=arguments;return this.forEach(function(o){o[e][$](o,t)})}}(Yt));return Oe.attr=function(e,t){if(e&&u.is(e,l)&&u.is(e[0],"object"))for(var o=0,c=e.length;o<c;o++)this.items[o].attr(e[o]);else for(var m=0,k=this.items.length;m<k;m++)this.items[m].attr(e,t);return this},Oe.clear=function(){for(;this.length;)this.pop()},Oe.splice=function(e,t,o){e=e<0?we(this.length+e,0):e,t=we(0,X(this.length-e,t));var c,m=[],k=[],E=[];for(c=2;c<arguments.length;c++)E.push(arguments[c]);for(c=0;c<t;c++)k.push(this[e+c]);for(;c<this.length-e;c++)m.push(this[e+c]);var P=E.length;for(c=0;c<P+m.length;c++)this.items[e+c]=this[e+c]=c<P?E[c]:m[c-P];for(c=this.items.length=this.length-=t-P;this[c];)delete this[c++];return new Pt(k)},Oe.exclude=function(e){for(var t=0,o=this.length;t<o;t++)if(this[t]==e)return this.splice(t,1),!0},Oe.animate=function(e,t,o,c){(u.is(o,"function")||!o)&&(c=o||null);var m,k,E=this.items.length,P=E,R=this;if(!E)return this;c&&(k=function(){!--E&&c.call(R)}),o=u.is(o,"string")?o:k;var H=u.animation(e,t,o,k);for(m=this.items[--P].animate(H);P--;)this.items[P]&&!this.items[P].removed&&this.items[P].animateWith(m,H,H),this.items[P]&&!this.items[P].removed||E--;return this},Oe.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},Oe.getBBox=function(){for(var e=[],t=[],o=[],c=[],m=this.items.length;m--;)if(!this.items[m].removed){var k=this.items[m].getBBox();e.push(k.x),t.push(k.y),o.push(k.x+k.width),c.push(k.y+k.height)}return{x:e=X[$](0,e),y:t=X[$](0,t),x2:o=we[$](0,o),y2:c=we[$](0,c),width:o-e,height:c-t}},Oe.clone=function(e){e=this.paper.set();for(var t=0,o=this.items.length;t<o;t++)e.push(this.items[t].clone());return e},Oe.toString=function(){return"Raphaël‘s set"},Oe.glow=function(e){var t=this.paper.set();return this.forEach(function(o,c){var m=o.glow(e);m!=null&&m.forEach(function(k,E){t.push(k)})}),t},Oe.isPointInside=function(e,t){var o=!1;return this.forEach(function(c){if(c.isPointInside(e,t))return o=!0,!1}),o},u.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},o=e.face["font-family"];for(var c in e.face)e.face[B](c)&&(t.face[c]=e.face[c]);if(this.fonts[o]?this.fonts[o].push(t):this.fonts[o]=[t],!e.svg){for(var m in t.face["units-per-em"]=x(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[B](m)){var k=e.glyphs[m];if(t.glyphs[m]={w:k.w,k:{},d:k.d&&"M"+k.d.replace(/[mlcxtrv]/g,function(P){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[P]||"M"})+"z"},k.k)for(var E in k.k)k[B](E)&&(t.glyphs[m].k[E]=k.k[E])}}return e},b.getFont=function(e,t,o,c){if(c=c||"normal",o=o||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,u.fonts){var m,k=u.fonts[e];if(!k){var E=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,ae)+"(\\s|$)","i");for(var P in u.fonts)if(u.fonts[B](P)&&E.test(P)){k=u.fonts[P];break}}if(k)for(var R=0,H=k.length;R<H&&((m=k[R]).face["font-weight"]!=t||m.face["font-style"]!=o&&m.face["font-style"]||m.face["font-stretch"]!=c);R++);return m}},b.print=function(e,t,o,c,m,k,E,P){k=k||"middle",E=we(X(E||0,1),-1),P=we(X(P||1,3),1);var R,H=G(o)[he](ae),J=0,oe=0,K=ae;if(u.is(c,"string")&&(c=this.getFont(c)),c){R=(m||16)/c.face["units-per-em"];for(var Y=c.face.bbox[he](T),ne=+Y[0],le=Y[3]-Y[1],ie=0,Q=+Y[1]+(k=="baseline"?le+ +c.face.descent:le/2),be=0,ce=H.length;be<ce;be++){if(H[be]==`
`)J=0,ue=0,oe=0,ie+=le*P;else{var fe=oe&&c.glyphs[H[be-1]]||{},ue=c.glyphs[H[be]];J+=oe?(fe.w||c.w)+(fe.k&&fe.k[H[be]]||0)+c.w*E:0,oe=1}ue&&ue.d&&(K+=u.transformPath(ue.d,["t",J*R,ie*R,"s",R,R,ne,Q,"t",(e-ne)/R,(t-Q)/R]))}}return this.path(K).attr({fill:"#000",stroke:"none"})},b.add=function(e){if(u.is(e,"array"))for(var t,o=this.set(),c=0,m=e.length;c<m;c++)t=e[c]||{},z[B](t.type)&&o.push(this[t.type]().attr(t));return o},u.format=function(e,t){var o=u.is(t,l)?[0][j](t):arguments;return e&&u.is(e,"string")&&o.length-1&&(e=e.replace(D,function(c,m){return o[++m]==null?ae:o[m]})),e||ae},u.fullfill=(c1=/\{([^\}]+)\}/g,u1=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,t){return String(e).replace(c1,function(o,c){return function(m,k,E){var P=E;return k.replace(u1,function(R,H,J,oe,K){H=H||oe,P&&(H in P&&(P=P[H]),typeof P=="function"&&K&&(P=P()))}),P=(P==null||P==E?m:P)+""}(o,c,t)})}),u.ninja=function(){if(W.was)L.win.Raphael=W.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return u},u.st=Oe,s.on("raphael.DOMload",function(){v=!0}),(it=document).readyState==null&&it.addEventListener&&(it.addEventListener("DOMContentLoaded",h1=function(){it.removeEventListener("DOMContentLoaded",h1,!1),it.readyState="complete"},!1),it.readyState="loading"),function e(){/in/.test(it.readyState)?setTimeout(e,9):u.eve("raphael.DOMload")}(),u}.apply(O,C))===void 0||(M.exports=f)},function(M,O,w){var C,f;C=[w(0),w(3),w(4)],(f=function(s){return s}.apply(O,C))===void 0||(M.exports=f)},function(M,O,w){var C,f,s,u,v,b,T,z,D,B,L,W,Z,$;u="hasOwnProperty",v=/[\.\/]/,b=/\s*,\s*/,T=function(j,te){return j-te},z={n:{}},D=function(){for(var j=0,te=this.length;j<te;j++)if(this[j]!==void 0)return this[j]},B=function(){for(var j=this.length;--j;)if(this[j]!==void 0)return this[j]},L=Object.prototype.toString,W=String,Z=Array.isArray||function(j){return j instanceof Array||L.call(j)=="[object Array]"},($=function(j,te){var ae,pe=s,G=Array.prototype.slice.call(arguments,2),he=$.listeners(j),se=0,F=[],me={},de=[],we=f;de.firstDefined=D,de.lastDefined=B,f=j,s=0;for(var X=0,xe=he.length;X<xe;X++)"zIndex"in he[X]&&(F.push(he[X].zIndex),he[X].zIndex<0&&(me[he[X].zIndex]=he[X]));for(F.sort(T);F[se]<0;)if(ae=me[F[se++]],de.push(ae.apply(te,G)),s)return s=pe,de;for(X=0;X<xe;X++)if("zIndex"in(ae=he[X]))if(ae.zIndex==F[se]){if(de.push(ae.apply(te,G)),s)break;do if((ae=me[F[++se]])&&de.push(ae.apply(te,G)),s)break;while(ae)}else me[ae.zIndex]=ae;else if(de.push(ae.apply(te,G)),s)break;return s=pe,f=we,de})._events=z,$.listeners=function(j){var te,ae,pe,G,he,se,F,me,de=Z(j)?j:j.split(v),we=z,X=[we],xe=[];for(G=0,he=de.length;G<he;G++){for(me=[],se=0,F=X.length;se<F;se++)for(ae=[(we=X[se].n)[de[G]],we["*"]],pe=2;pe--;)(te=ae[pe])&&(me.push(te),xe=xe.concat(te.f||[]));X=me}return xe},$.separator=function(j){j?(j="["+(j=W(j).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",v=new RegExp(j)):v=/[\.\/]/},$.on=function(j,te){if(typeof te!="function")return function(){};for(var ae=Z(j)?Z(j[0])?j:[j]:W(j).split(b),pe=0,G=ae.length;pe<G;pe++)(function(he){for(var se,F=Z(he)?he:W(he).split(v),me=z,de=0,we=F.length;de<we;de++)me=(me=me.n).hasOwnProperty(F[de])&&me[F[de]]||(me[F[de]]={n:{}});for(me.f=me.f||[],de=0,we=me.f.length;de<we;de++)if(me.f[de]==te){se=!0;break}!se&&me.f.push(te)})(ae[pe]);return function(he){+he==+he&&(te.zIndex=+he)}},$.f=function(j){var te=[].slice.call(arguments,1);return function(){$.apply(null,[j,null].concat(te).concat([].slice.call(arguments,0)))}},$.stop=function(){s=1},$.nt=function(j){var te=Z(f)?f.join("."):f;return j?new RegExp("(?:\\.|\\/|^)"+j+"(?:\\.|\\/|$)").test(te):te},$.nts=function(){return Z(f)?f:f.split(v)},$.off=$.unbind=function(j,te){if(j){var ae=Z(j)?Z(j[0])?j:[j]:W(j).split(b);if(ae.length>1)for(var pe=0,G=ae.length;pe<G;pe++)$.off(ae[pe],te);else{ae=Z(j)?j:W(j).split(v);var he,se,F,me,de,we=[z];for(pe=0,G=ae.length;pe<G;pe++)for(me=0;me<we.length;me+=F.length-2){if(F=[me,1],he=we[me].n,ae[pe]!="*")he[ae[pe]]&&F.push(he[ae[pe]]);else for(se in he)he[u](se)&&F.push(he[se]);we.splice.apply(we,F)}for(pe=0,G=we.length;pe<G;pe++)for(he=we[pe];he.n;){if(te){if(he.f){for(me=0,de=he.f.length;me<de;me++)if(he.f[me]==te){he.f.splice(me,1);break}!he.f.length&&delete he.f}for(se in he.n)if(he.n[u](se)&&he.n[se].f){var X=he.n[se].f;for(me=0,de=X.length;me<de;me++)if(X[me]==te){X.splice(me,1);break}!X.length&&delete he.n[se].f}}else for(se in delete he.f,he.n)he.n[u](se)&&he.n[se].f&&delete he.n[se].f;he=he.n}}}else $._events=z={n:{}}},$.once=function(j,te){var ae=function(){return $.off(j,ae),te.apply(this,arguments)};return $.on(j,ae)},$.version="0.5.0",$.toString=function(){return"You are running Eve 0.5.0"},M.exports?M.exports=$:(C=function(){return $}.apply(O,[]))===void 0||(M.exports=C)},function(M,O,w){var C,f;C=[w(0)],(f=function(s){if(!s||s.svg){var u="hasOwnProperty",v=String,b=parseFloat,T=parseInt,z=Math,D=z.max,B=z.abs,L=z.pow,W=/[, ]+/,Z=s.eve,$="",j=" ",te="http://www.w3.org/1999/xlink",ae={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},pe={};s.toString=function(){return`Your browser supports SVG.
You are running Raphaël `+this.version};var G=function(n,r){if(r)for(var i in typeof n=="string"&&(n=G(n)),r)r[u](i)&&(i.substring(0,6)=="xlink:"?n.setAttributeNS(te,i.substring(6),v(r[i])):n.setAttribute(i,v(r[i])));else(n=s._g.doc.createElementNS("http://www.w3.org/2000/svg",n)).style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},he=function(n,r){var i="linear",h=n.id+r,g=.5,x=.5,A=n.node,I=n.paper,N=A.style,V=s._g.doc.getElementById(h);if(!V){if(r=(r=v(r).replace(s._radial_gradient,function(Se,Ae,ke){if(i="radial",Ae&&ke){g=b(Ae);var Le=2*((x=b(ke))>.5)-1;L(g-.5,2)+L(x-.5,2)>.25&&(x=z.sqrt(.25-L(g-.5,2))*Le+.5)&&x!=.5&&(x=x.toFixed(5)-1e-5*Le)}return $})).split(/\s*\-\s*/),i=="linear"){var U=r.shift();if(U=-b(U),isNaN(U))return null;var re=[0,0,z.cos(s.rad(U)),z.sin(s.rad(U))],ge=1/(D(B(re[2]),B(re[3]))||1);re[2]*=ge,re[3]*=ge,re[2]<0&&(re[0]=-re[2],re[2]=0),re[3]<0&&(re[1]=-re[3],re[3]=0)}var ye=s._parseDots(r);if(!ye)return null;if(h=h.replace(/[\(\)\s,\xb0#]/g,"_"),n.gradient&&h!=n.gradient.id&&(I.defs.removeChild(n.gradient),delete n.gradient),!n.gradient){V=G(i+"Gradient",{id:h}),n.gradient=V,G(V,i=="radial"?{fx:g,fy:x}:{x1:re[0],y1:re[1],x2:re[2],y2:re[3],gradientTransform:n.matrix.invert()}),I.defs.appendChild(V);for(var ve=0,_e=ye.length;ve<_e;ve++)V.appendChild(G("stop",{offset:ye[ve].offset?ye[ve].offset:ve?"100%":"0%","stop-color":ye[ve].color||"#fff","stop-opacity":isFinite(ye[ve].opacity)?ye[ve].opacity:1}))}}return G(A,{fill:se(h),opacity:1,"fill-opacity":1}),N.fill=$,N.opacity=1,N.fillOpacity=1,1},se=function(n){if((r=document.documentMode)&&(r===9||r===10))return"url('#"+n+"')";var r,i=document.location;return"url('"+(i.protocol+"//"+i.host+i.pathname+i.search)+"#"+n+"')"},F=function(n){var r=n.getBBox(1);G(n.pattern,{patternTransform:n.matrix.invert()+" translate("+r.x+","+r.y+")"})},me=function(n,r,i){if(n.type=="path"){for(var h,g,x,A,I,N=v(r).toLowerCase().split("-"),V=n.paper,U=i?"end":"start",re=n.node,ge=n.attrs,ye=ge["stroke-width"],ve=N.length,_e="classic",Se=3,Ae=3,ke=5;ve--;)switch(N[ve]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_e=N[ve];break;case"wide":Ae=5;break;case"narrow":Ae=2;break;case"long":Se=5;break;case"short":Se=2}if(_e=="open"?(Se+=2,Ae+=2,ke+=2,x=1,A=i?4:1,I={fill:"none",stroke:ge.stroke}):(A=x=Se/2,I={fill:ge.stroke,stroke:"none"}),n._.arrows?i?(n._.arrows.endPath&&pe[n._.arrows.endPath]--,n._.arrows.endMarker&&pe[n._.arrows.endMarker]--):(n._.arrows.startPath&&pe[n._.arrows.startPath]--,n._.arrows.startMarker&&pe[n._.arrows.startMarker]--):n._.arrows={},_e!="none"){var Le="raphael-marker-"+_e,Me="raphael-marker-"+U+_e+Se+Ae+"-obj"+n.id;s._g.doc.getElementById(Le)?pe[Le]++:(V.defs.appendChild(G(G("path"),{"stroke-linecap":"round",d:ae[_e],id:Le})),pe[Le]=1);var Ie,Te=s._g.doc.getElementById(Me);Te?(pe[Me]++,Ie=Te.getElementsByTagName("use")[0]):(Te=G(G("marker"),{id:Me,markerHeight:Ae,markerWidth:Se,orient:"auto",refX:A,refY:Ae/2}),Ie=G(G("use"),{"xlink:href":"#"+Le,transform:(i?"rotate(180 "+Se/2+" "+Ae/2+") ":$)+"scale("+Se/ke+","+Ae/ke+")","stroke-width":(1/((Se/ke+Ae/ke)/2)).toFixed(4)}),Te.appendChild(Ie),V.defs.appendChild(Te),pe[Me]=1),G(Ie,I);var qe=x*(_e!="diamond"&&_e!="oval");i?(h=n._.arrows.startdx*ye||0,g=s.getTotalLength(ge.path)-qe*ye):(h=qe*ye,g=s.getTotalLength(ge.path)-(n._.arrows.enddx*ye||0)),(I={})["marker-"+U]="url(#"+Me+")",(g||h)&&(I.d=s.getSubpath(ge.path,h,g)),G(re,I),n._.arrows[U+"Path"]=Le,n._.arrows[U+"Marker"]=Me,n._.arrows[U+"dx"]=qe,n._.arrows[U+"Type"]=_e,n._.arrows[U+"String"]=r}else i?(h=n._.arrows.startdx*ye||0,g=s.getTotalLength(ge.path)-h):(h=0,g=s.getTotalLength(ge.path)-(n._.arrows.enddx*ye||0)),n._.arrows[U+"Path"]&&G(re,{d:s.getSubpath(ge.path,h,g)}),delete n._.arrows[U+"Path"],delete n._.arrows[U+"Marker"],delete n._.arrows[U+"dx"],delete n._.arrows[U+"Type"],delete n._.arrows[U+"String"];for(I in pe)if(pe[u](I)&&!pe[I]){var ze=s._g.doc.getElementById(I);ze&&ze.parentNode.removeChild(ze)}}},de={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},we=function(n,r,i){if(r=de[v(r).toLowerCase()]){for(var h=n.attrs["stroke-width"]||"1",g={round:h,square:h,butt:0}[n.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,x=[],A=r.length;A--;)x[A]=r[A]*h+(A%2?1:-1)*g;G(n.node,{"stroke-dasharray":x.join(",")})}else G(n.node,{"stroke-dasharray":"none"})},X=function(n,r){var i=n.node,h=n.attrs,g=i.style.visibility;for(var x in i.style.visibility="hidden",r)if(r[u](x)){if(!s._availableAttrs[u](x))continue;var A=r[x];switch(h[x]=A,x){case"blur":n.blur(A);break;case"title":var I=i.getElementsByTagName("title");if(I.length&&(I=I[0]))I.firstChild.nodeValue=A;else{I=G("title");var N=s._g.doc.createTextNode(A);I.appendChild(N),i.appendChild(I)}break;case"href":case"target":var V=i.parentNode;if(V.tagName.toLowerCase()!="a"){var U=G("a");V.insertBefore(U,i),U.appendChild(i),V=U}x=="target"?V.setAttributeNS(te,"show",A=="blank"?"new":A):V.setAttributeNS(te,x,A);break;case"cursor":i.style.cursor=A;break;case"transform":n.transform(A);break;case"arrow-start":me(n,A);break;case"arrow-end":me(n,A,1);break;case"clip-rect":var re=v(A).split(W);if(re.length==4){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var ge=G("clipPath"),ye=G("rect");ge.id=s.createUUID(),G(ye,{x:re[0],y:re[1],width:re[2],height:re[3]}),ge.appendChild(ye),n.paper.defs.appendChild(ge),G(i,{"clip-path":"url(#"+ge.id+")"}),n.clip=ye}if(!A){var ve=i.getAttribute("clip-path");if(ve){var _e=s._g.doc.getElementById(ve.replace(/(^url\(#|\)$)/g,$));_e&&_e.parentNode.removeChild(_e),G(i,{"clip-path":$}),delete n.clip}}break;case"path":n.type=="path"&&(G(i,{d:A?h.path=s._pathToAbsolute(A):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&me(n,n._.arrows.startString),"endString"in n._.arrows&&me(n,n._.arrows.endString,1)));break;case"width":if(i.setAttribute(x,A),n._.dirty=1,!h.fx)break;x="x",A=h.x;case"x":h.fx&&(A=-h.x-(h.width||0));case"rx":if(x=="rx"&&n.type=="rect")break;case"cx":i.setAttribute(x,A),n.pattern&&F(n),n._.dirty=1;break;case"height":if(i.setAttribute(x,A),n._.dirty=1,!h.fy)break;x="y",A=h.y;case"y":h.fy&&(A=-h.y-(h.height||0));case"ry":if(x=="ry"&&n.type=="rect")break;case"cy":i.setAttribute(x,A),n.pattern&&F(n),n._.dirty=1;break;case"r":n.type=="rect"?G(i,{rx:A,ry:A}):i.setAttribute(x,A),n._.dirty=1;break;case"src":n.type=="image"&&i.setAttributeNS(te,"href",A);break;case"stroke-width":n._.sx==1&&n._.sy==1||(A/=D(B(n._.sx),B(n._.sy))||1),i.setAttribute(x,A),h["stroke-dasharray"]&&we(n,h["stroke-dasharray"],r),n._.arrows&&("startString"in n._.arrows&&me(n,n._.arrows.startString),"endString"in n._.arrows&&me(n,n._.arrows.endString,1));break;case"stroke-dasharray":we(n,A,r);break;case"fill":var Se=v(A).match(s._ISURL);if(Se){ge=G("pattern");var Ae=G("image");ge.id=s.createUUID(),G(ge,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),G(Ae,{x:0,y:0,"xlink:href":Se[1]}),ge.appendChild(Ae),function(Te){s._preload(Se[1],function(){var qe=this.offsetWidth,ze=this.offsetHeight;G(Te,{width:qe,height:ze}),G(Ae,{width:qe,height:ze})})}(ge),n.paper.defs.appendChild(ge),G(i,{fill:"url(#"+ge.id+")"}),n.pattern=ge,n.pattern&&F(n);break}var ke=s.getRGB(A);if(ke.error){if((n.type=="circle"||n.type=="ellipse"||v(A).charAt()!="r")&&he(n,A)){if("opacity"in h||"fill-opacity"in h){var Le=s._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,$));if(Le){var Me=Le.getElementsByTagName("stop");G(Me[Me.length-1],{"stop-opacity":("opacity"in h?h.opacity:1)*("fill-opacity"in h?h["fill-opacity"]:1)})}}h.gradient=A,h.fill="none";break}}else delete r.gradient,delete h.gradient,!s.is(h.opacity,"undefined")&&s.is(r.opacity,"undefined")&&G(i,{opacity:h.opacity}),!s.is(h["fill-opacity"],"undefined")&&s.is(r["fill-opacity"],"undefined")&&G(i,{"fill-opacity":h["fill-opacity"]});ke[u]("opacity")&&G(i,{"fill-opacity":ke.opacity>1?ke.opacity/100:ke.opacity});case"stroke":ke=s.getRGB(A),i.setAttribute(x,ke.hex),x=="stroke"&&ke[u]("opacity")&&G(i,{"stroke-opacity":ke.opacity>1?ke.opacity/100:ke.opacity}),x=="stroke"&&n._.arrows&&("startString"in n._.arrows&&me(n,n._.arrows.startString),"endString"in n._.arrows&&me(n,n._.arrows.endString,1));break;case"gradient":(n.type=="circle"||n.type=="ellipse"||v(A).charAt()!="r")&&he(n,A);break;case"opacity":h.gradient&&!h[u]("stroke-opacity")&&G(i,{"stroke-opacity":A>1?A/100:A});case"fill-opacity":if(h.gradient){(Le=s._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,$)))&&(Me=Le.getElementsByTagName("stop"),G(Me[Me.length-1],{"stop-opacity":A}));break}default:x=="font-size"&&(A=T(A,10)+"px");var Ie=x.replace(/(\-.)/g,function(Te){return Te.substring(1).toUpperCase()});i.style[Ie]=A,n._.dirty=1,i.setAttribute(x,A)}}xe(n,r),i.style.visibility=g},xe=function(n,r){if(n.type=="text"&&(r[u]("text")||r[u]("font")||r[u]("font-size")||r[u]("x")||r[u]("y"))){var i=n.attrs,h=n.node,g=h.firstChild?T(s._g.doc.defaultView.getComputedStyle(h.firstChild,$).getPropertyValue("font-size"),10):10;if(r[u]("text")){for(i.text=r.text;h.firstChild;)h.removeChild(h.firstChild);for(var x,A=v(r.text).split(`
`),I=[],N=0,V=A.length;N<V;N++)x=G("tspan"),N&&G(x,{dy:1.2*g,x:i.x}),x.appendChild(s._g.doc.createTextNode(A[N])),h.appendChild(x),I[N]=x}else for(N=0,V=(I=h.getElementsByTagName("tspan")).length;N<V;N++)N?G(I[N],{dy:1.2*g,x:i.x}):G(I[0],{dy:0});G(h,{x:i.x,y:i.y}),n._.dirty=1;var U=n._getBBox(),re=i.y-(U.y+U.height/2);re&&s.is(re,"finite")&&G(I[0],{dy:re})}},Ce=function(n){return n.parentNode&&n.parentNode.tagName.toLowerCase()==="a"?n.parentNode:n},ee=function(n,r){this[0]=this.node=n,n.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),n.raphaelid=this.id,this.matrix=s.matrix(),this.realPath=null,this.paper=r,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},a=s.el;ee.prototype=a,a.constructor=ee,s._engine.path=function(n,r){var i=G("path");r.canvas&&r.canvas.appendChild(i);var h=new ee(i,r);return h.type="path",X(h,{fill:"none",stroke:"#000",path:n}),h},a.rotate=function(n,r,i){if(this.removed)return this;if((n=v(n).split(W)).length-1&&(r=b(n[1]),i=b(n[2])),n=b(n[0]),i==null&&(r=i),r==null||i==null){var h=this.getBBox(1);r=h.x+h.width/2,i=h.y+h.height/2}return this.transform(this._.transform.concat([["r",n,r,i]])),this},a.scale=function(n,r,i,h){if(this.removed)return this;if((n=v(n).split(W)).length-1&&(r=b(n[1]),i=b(n[2]),h=b(n[3])),n=b(n[0]),r==null&&(r=n),h==null&&(i=h),i==null||h==null)var g=this.getBBox(1);return i=i==null?g.x+g.width/2:i,h=h==null?g.y+g.height/2:h,this.transform(this._.transform.concat([["s",n,r,i,h]])),this},a.translate=function(n,r){return this.removed?this:((n=v(n).split(W)).length-1&&(r=b(n[1])),n=b(n[0])||0,r=+r||0,this.transform(this._.transform.concat([["t",n,r]])),this)},a.transform=function(n){var r=this._;if(n==null)return r.transform;if(s._extractTransform(this,n),this.clip&&G(this.clip,{transform:this.matrix.invert()}),this.pattern&&F(this),this.node&&G(this.node,{transform:this.matrix}),r.sx!=1||r.sy!=1){var i=this.attrs[u]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},a.hide=function(){return this.removed||(this.node.style.display="none"),this},a.show=function(){return this.removed||(this.node.style.display=""),this},a.remove=function(){var n=Ce(this.node);if(!this.removed&&n.parentNode){var r=this.paper;for(var i in r.__set__&&r.__set__.exclude(this),Z.unbind("raphael.*.*."+this.id),this.gradient&&r.defs.removeChild(this.gradient),s._tear(this,r),n.parentNode.removeChild(n),this.removeData(),this)this[i]=typeof this[i]=="function"?s._removedFactory(i):null;this.removed=!0}},a._getBBox=function(){if(this.node.style.display=="none"){this.show();var n=!0}var r,i=!1;this.paper.canvas.parentElement?r=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(r=this.paper.canvas.parentNode.style),r&&r.display=="none"&&(i=!0,r.display="");var h={};try{h=this.node.getBBox()}catch(g){h={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{h=h||{},i&&(r.display="none")}return n&&this.hide(),h},a.attr=function(n,r){if(this.removed)return this;if(n==null){var i={};for(var h in this.attrs)this.attrs[u](h)&&(i[h]=this.attrs[h]);return i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(r==null&&s.is(n,"string")){if(n=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(n=="transform")return this._.transform;for(var g=n.split(W),x={},A=0,I=g.length;A<I;A++)(n=g[A])in this.attrs?x[n]=this.attrs[n]:s.is(this.paper.customAttributes[n],"function")?x[n]=this.paper.customAttributes[n].def:x[n]=s._availableAttrs[n];return I-1?x:x[g[0]]}if(r==null&&s.is(n,"array")){for(x={},A=0,I=n.length;A<I;A++)x[n[A]]=this.attr(n[A]);return x}if(r!=null){var N={};N[n]=r}else n!=null&&s.is(n,"object")&&(N=n);for(var V in N)Z("raphael.attr."+V+"."+this.id,this,N[V]);for(V in this.paper.customAttributes)if(this.paper.customAttributes[u](V)&&N[u](V)&&s.is(this.paper.customAttributes[V],"function")){var U=this.paper.customAttributes[V].apply(this,[].concat(N[V]));for(var re in this.attrs[V]=N[V],U)U[u](re)&&(N[re]=U[re])}return X(this,N),this},a.toFront=function(){if(this.removed)return this;var n=Ce(this.node);n.parentNode.appendChild(n);var r=this.paper;return r.top!=this&&s._tofront(this,r),this},a.toBack=function(){if(this.removed)return this;var n=Ce(this.node),r=n.parentNode;return r.insertBefore(n,r.firstChild),s._toback(this,this.paper),this.paper,this},a.insertAfter=function(n){if(this.removed||!n)return this;var r=Ce(this.node),i=Ce(n.node||n[n.length-1].node);return i.nextSibling?i.parentNode.insertBefore(r,i.nextSibling):i.parentNode.appendChild(r),s._insertafter(this,n,this.paper),this},a.insertBefore=function(n){if(this.removed||!n)return this;var r=Ce(this.node),i=Ce(n.node||n[0].node);return i.parentNode.insertBefore(r,i),s._insertbefore(this,n,this.paper),this},a.blur=function(n){var r=this;if(+n!=0){var i=G("filter"),h=G("feGaussianBlur");r.attrs.blur=n,i.id=s.createUUID(),G(h,{stdDeviation:+n||1.5}),i.appendChild(h),r.paper.defs.appendChild(i),r._blur=i,G(r.node,{filter:"url(#"+i.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter");return r},s._engine.circle=function(n,r,i,h){var g=G("circle");n.canvas&&n.canvas.appendChild(g);var x=new ee(g,n);return x.attrs={cx:r,cy:i,r:h,fill:"none",stroke:"#000"},x.type="circle",G(g,x.attrs),x},s._engine.rect=function(n,r,i,h,g,x){var A=G("rect");n.canvas&&n.canvas.appendChild(A);var I=new ee(A,n);return I.attrs={x:r,y:i,width:h,height:g,rx:x||0,ry:x||0,fill:"none",stroke:"#000"},I.type="rect",G(A,I.attrs),I},s._engine.ellipse=function(n,r,i,h,g){var x=G("ellipse");n.canvas&&n.canvas.appendChild(x);var A=new ee(x,n);return A.attrs={cx:r,cy:i,rx:h,ry:g,fill:"none",stroke:"#000"},A.type="ellipse",G(x,A.attrs),A},s._engine.image=function(n,r,i,h,g,x){var A=G("image");G(A,{x:i,y:h,width:g,height:x,preserveAspectRatio:"none"}),A.setAttributeNS(te,"href",r),n.canvas&&n.canvas.appendChild(A);var I=new ee(A,n);return I.attrs={x:i,y:h,width:g,height:x,src:r},I.type="image",I},s._engine.text=function(n,r,i,h){var g=G("text");n.canvas&&n.canvas.appendChild(g);var x=new ee(g,n);return x.attrs={x:r,y:i,"text-anchor":"middle",text:h,"font-family":s._availableAttrs["font-family"],"font-size":s._availableAttrs["font-size"],stroke:"none",fill:"#000"},x.type="text",X(x,x.attrs),x},s._engine.setSize=function(n,r){return this.width=n||this.width,this.height=r||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},s._engine.create=function(){var n=s._getContainer.apply(0,arguments),r=n&&n.container;if(!r)throw new Error("SVG container not found.");var i,h=n.x,g=n.y,x=n.width,A=n.height,I=G("svg"),N="overflow:hidden;";return h=h||0,g=g||0,G(I,{height:A=A||342,version:1.1,width:x=x||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),r==1?(I.style.cssText=N+"position:absolute;left:"+h+"px;top:"+g+"px",s._g.doc.body.appendChild(I),i=1):(I.style.cssText=N+"position:relative",r.firstChild?r.insertBefore(I,r.firstChild):r.appendChild(I)),(r=new s._Paper).width=x,r.height=A,r.canvas=I,r.clear(),r._left=r._top=0,i&&(r.renderfix=function(){}),r.renderfix(),r},s._engine.setViewBox=function(n,r,i,h,g){Z("raphael.setViewBox",this,this._viewBox,[n,r,i,h,g]);var x,A,I=this.getSize(),N=D(i/I.width,h/I.height),V=this.top,U=g?"xMidYMid meet":"xMinYMin";for(n==null?(this._vbSize&&(N=1),delete this._vbSize,x="0 0 "+this.width+j+this.height):(this._vbSize=N,x=n+j+r+j+i+j+h),G(this.canvas,{viewBox:x,preserveAspectRatio:U});N&&V;)A="stroke-width"in V.attrs?V.attrs["stroke-width"]:1,V.attr({"stroke-width":A}),V._.dirty=1,V._.dirtyT=1,V=V.prev;return this._viewBox=[n,r,i,h,!!g],this},s.prototype.renderfix=function(){var n,r=this.canvas,i=r.style;try{n=r.getScreenCTM()||r.createSVGMatrix()}catch(x){n=r.createSVGMatrix()}var h=-n.e%1,g=-n.f%1;(h||g)&&(h&&(this._left=(this._left+h)%1,i.left=this._left+"px"),g&&(this._top=(this._top+g)%1,i.top=this._top+"px"))},s.prototype.clear=function(){s.eve("raphael.clear",this);for(var n=this.canvas;n.firstChild;)n.removeChild(n.firstChild);this.bottom=this.top=null,(this.desc=G("desc")).appendChild(s._g.doc.createTextNode("Created with Raphaël "+s.version)),n.appendChild(this.desc),n.appendChild(this.defs=G("defs"))},s.prototype.remove=function(){for(var n in Z("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[n]=typeof this[n]=="function"?s._removedFactory(n):null};var l=s.st;for(var p in a)a[u](p)&&!l[u](p)&&(l[p]=function(n){return function(){var r=arguments;return this.forEach(function(i){i[n].apply(i,r)})}}(p))}}.apply(O,C))===void 0||(M.exports=f)},function(M,O,w){var C,f;C=[w(0)],(f=function(s){if(!s||s.vml){var u="hasOwnProperty",v=String,b=parseFloat,T=Math,z=T.round,D=T.max,B=T.min,L=T.abs,W=/[, ]+/,Z=s.eve,$=" ",j="",te={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},ae=/([clmz]),?([^clmz]*)/gi,pe=/ progid:\S+Blur\([^\)]+\)/g,G=/-?[^,\s-]+/g,he="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",se=21600,F={path:1,rect:1,image:1},me={circle:1,ellipse:1},de=function(r,i,h){var g=s.matrix();return g.rotate(-r,.5,.5),{dx:g.x(i,h),dy:g.y(i,h)}},we=function(r,i,h,g,x,A){var I=r._,N=r.matrix,V=I.fillpos,U=r.node,re=U.style,ge=1,ye="",ve=se/i,_e=se/h;if(re.visibility="hidden",i&&h){if(U.coordsize=L(ve)+$+L(_e),re.rotation=A*(i*h<0?-1:1),A){var Se=de(A,g,x);g=Se.dx,x=Se.dy}if(i<0&&(ye+="x"),h<0&&(ye+=" y")&&(ge=-1),re.flip=ye,U.coordorigin=g*-ve+$+x*-_e,V||I.fillsize){var Ae=U.getElementsByTagName("fill");Ae=Ae&&Ae[0],U.removeChild(Ae),V&&(Se=de(A,N.x(V[0],V[1]),N.y(V[0],V[1])),Ae.position=Se.dx*ge+$+Se.dy*ge),I.fillsize&&(Ae.size=I.fillsize[0]*L(i)+$+I.fillsize[1]*L(h)),U.appendChild(Ae)}re.visibility="visible"}};s.toString=function(){return`Your browser doesn’t support SVG. Falling down to VML.
You are running Raphaël `+this.version};var X,xe=function(r,i,h){for(var g=v(i).toLowerCase().split("-"),x=h?"end":"start",A=g.length,I="classic",N="medium",V="medium";A--;)switch(g[A]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":I=g[A];break;case"wide":case"narrow":V=g[A];break;case"long":case"short":N=g[A]}var U=r.node.getElementsByTagName("stroke")[0];U[x+"arrow"]=I,U[x+"arrowlength"]=N,U[x+"arrowwidth"]=V},Ce=function(r,i){r.attrs=r.attrs||{};var h=r.node,g=r.attrs,x=h.style,A=F[r.type]&&(i.x!=g.x||i.y!=g.y||i.width!=g.width||i.height!=g.height||i.cx!=g.cx||i.cy!=g.cy||i.rx!=g.rx||i.ry!=g.ry||i.r!=g.r),I=me[r.type]&&(g.cx!=i.cx||g.cy!=i.cy||g.r!=i.r||g.rx!=i.rx||g.ry!=i.ry),N=r;for(var V in i)i[u](V)&&(g[V]=i[V]);if(A&&(g.path=s._getPath[r.type](r),r._.dirty=1),i.href&&(h.href=i.href),i.title&&(h.title=i.title),i.target&&(h.target=i.target),i.cursor&&(x.cursor=i.cursor),"blur"in i&&r.blur(i.blur),(i.path&&r.type=="path"||A)&&(h.path=function(Fe){var Qe=/[ahqstv]/gi,ct=s._pathToAbsolute;if(v(Fe).match(Qe)&&(ct=s._path2curve),Qe=/[clmz]/g,ct==s._pathToAbsolute&&!v(Fe).match(Qe)){var je=v(Fe).replace(ae,function(Zt,dt,ft){var Ze=[],Nt=dt.toLowerCase()=="m",nt=te[dt];return ft.replace(G,function(Mt){Nt&&Ze.length==2&&(nt+=Ze+te[dt=="m"?"l":"L"],Ze=[]),Ze.push(z(Mt*se))}),nt+Ze});return je}var ut,Ue,kt=ct(Fe);je=[];for(var ht=0,_t=kt.length;ht<_t;ht++){ut=kt[ht],(Ue=kt[ht][0].toLowerCase())=="z"&&(Ue="x");for(var Ke=1,He=ut.length;Ke<He;Ke++)Ue+=z(ut[Ke]*se)+(Ke!=He-1?",":j);je.push(Ue)}return je.join($)}(~v(g.path).toLowerCase().indexOf("r")?s._pathToAbsolute(g.path):g.path),r._.dirty=1,r.type=="image"&&(r._.fillpos=[g.x,g.y],r._.fillsize=[g.width,g.height],we(r,1,1,0,0,0))),"transform"in i&&r.transform(i.transform),I){var U=+g.cx,re=+g.cy,ge=+g.rx||+g.r||0,ye=+g.ry||+g.r||0;h.path=s.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",z((U-ge)*se),z((re-ye)*se),z((U+ge)*se),z((re+ye)*se),z(U*se)),r._.dirty=1}if("clip-rect"in i){var ve=v(i["clip-rect"]).split(W);if(ve.length==4){ve[2]=+ve[2]+ +ve[0],ve[3]=+ve[3]+ +ve[1];var _e=h.clipRect||s._g.doc.createElement("div"),Se=_e.style;Se.clip=s.format("rect({1}px {2}px {3}px {0}px)",ve),h.clipRect||(Se.position="absolute",Se.top=0,Se.left=0,Se.width=r.paper.width+"px",Se.height=r.paper.height+"px",h.parentNode.insertBefore(_e,h),_e.appendChild(h),h.clipRect=_e)}i["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(r.textpath){var Ae=r.textpath.style;i.font&&(Ae.font=i.font),i["font-family"]&&(Ae.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,j)+'"'),i["font-size"]&&(Ae.fontSize=i["font-size"]),i["font-weight"]&&(Ae.fontWeight=i["font-weight"]),i["font-style"]&&(Ae.fontStyle=i["font-style"])}if("arrow-start"in i&&xe(N,i["arrow-start"]),"arrow-end"in i&&xe(N,i["arrow-end"],1),i.opacity!=null||i.fill!=null||i.src!=null||i.stroke!=null||i["stroke-width"]!=null||i["stroke-opacity"]!=null||i["fill-opacity"]!=null||i["stroke-dasharray"]!=null||i["stroke-miterlimit"]!=null||i["stroke-linejoin"]!=null||i["stroke-linecap"]!=null){var ke=h.getElementsByTagName("fill");if(!(ke=ke&&ke[0])&&(ke=X("fill")),r.type=="image"&&i.src&&(ke.src=i.src),i.fill&&(ke.on=!0),ke.on!=null&&i.fill!="none"&&i.fill!==null||(ke.on=!1),ke.on&&i.fill){var Le=v(i.fill).match(s._ISURL);if(Le){ke.parentNode==h&&h.removeChild(ke),ke.rotate=!0,ke.src=Le[1],ke.type="tile";var Me=r.getBBox(1);ke.position=Me.x+$+Me.y,r._.fillpos=[Me.x,Me.y],s._preload(Le[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else ke.color=s.getRGB(i.fill).hex,ke.src=j,ke.type="solid",s.getRGB(i.fill).error&&(N.type in{circle:1,ellipse:1}||v(i.fill).charAt()!="r")&&ee(N,i.fill,ke)&&(g.fill="none",g.gradient=i.fill,ke.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var Ie=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+s.getRGB(i.fill).o+1||2)-1);Ie=B(D(Ie,0),1),ke.opacity=Ie,ke.src&&(ke.color="none")}h.appendChild(ke);var Te=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],qe=!1;!Te&&(qe=Te=X("stroke")),(i.stroke&&i.stroke!="none"||i["stroke-width"]||i["stroke-opacity"]!=null||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(Te.on=!0),(i.stroke=="none"||i.stroke===null||Te.on==null||i.stroke==0||i["stroke-width"]==0)&&(Te.on=!1);var ze=s.getRGB(i.stroke);Te.on&&i.stroke&&(Te.color=ze.hex),Ie=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+ze.o+1||2)-1);var Ye=.75*(b(i["stroke-width"])||1);if(Ie=B(D(Ie,0),1),i["stroke-width"]==null&&(Ye=g["stroke-width"]),i["stroke-width"]&&(Te.weight=Ye),Ye&&Ye<1&&(Ie*=Ye)&&(Te.weight=1),Te.opacity=Ie,i["stroke-linejoin"]&&(Te.joinstyle=i["stroke-linejoin"]||"miter"),Te.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(Te.endcap=i["stroke-linecap"]=="butt"?"flat":i["stroke-linecap"]=="square"?"square":"round"),"stroke-dasharray"in i){var wt={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Te.dashstyle=wt[u](i["stroke-dasharray"])?wt[i["stroke-dasharray"]]:j}qe&&h.appendChild(Te)}if(N.type=="text"){N.paper.canvas.style.display=j;var Je=N.paper.span,at=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);x=Je.style,g.font&&(x.font=g.font),g["font-family"]&&(x.fontFamily=g["font-family"]),g["font-weight"]&&(x.fontWeight=g["font-weight"]),g["font-style"]&&(x.fontStyle=g["font-style"]),at=b(g["font-size"]||at&&at[0])||10,x.fontSize=100*at+"px",N.textpath.string&&(Je.innerHTML=v(N.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var ot=Je.getBoundingClientRect();N.W=g.w=(ot.right-ot.left)/100,N.H=g.h=(ot.bottom-ot.top)/100,N.X=g.x,N.Y=g.y+N.H/2,("x"in i||"y"in i)&&(N.path.v=s.format("m{0},{1}l{2},{1}",z(g.x*se),z(g.y*se),z(g.x*se)+1));for(var Ct=["x","y","text","font","font-family","font-weight","font-style","font-size"],lt=0,Tt=Ct.length;lt<Tt;lt++)if(Ct[lt]in i){N._.dirty=1;break}switch(g["text-anchor"]){case"start":N.textpath.style["v-text-align"]="left",N.bbx=N.W/2;break;case"end":N.textpath.style["v-text-align"]="right",N.bbx=-N.W/2;break;default:N.textpath.style["v-text-align"]="center",N.bbx=0}N.textpath.style["v-text-kern"]=!0}},ee=function(r,i,h){r.attrs=r.attrs||{},r.attrs;var g=Math.pow,x="linear",A=".5 .5";if(r.attrs.gradient=i,i=(i=v(i).replace(s._radial_gradient,function(ge,ye,ve){return x="radial",ye&&ve&&(ye=b(ye),ve=b(ve),g(ye-.5,2)+g(ve-.5,2)>.25&&(ve=T.sqrt(.25-g(ye-.5,2))*(2*(ve>.5)-1)+.5),A=ye+$+ve),j})).split(/\s*\-\s*/),x=="linear"){var I=i.shift();if(I=-b(I),isNaN(I))return null}var N=s._parseDots(i);if(!N)return null;if(r=r.shape||r.node,N.length){r.removeChild(h),h.on=!0,h.method="none",h.color=N[0].color,h.color2=N[N.length-1].color;for(var V=[],U=0,re=N.length;U<re;U++)N[U].offset&&V.push(N[U].offset+$+N[U].color);h.colors=V.length?V.join():"0% "+h.color,x=="radial"?(h.type="gradientTitle",h.focus="100%",h.focussize="0 0",h.focusposition=A,h.angle=0):(h.type="gradient",h.angle=(270-I)%360),r.appendChild(h)}return 1},a=function(r,i){this[0]=this.node=r,r.raphael=!0,this.id=s._oid++,r.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=s.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},l=s.el;a.prototype=l,l.constructor=a,l.transform=function(r){if(r==null)return this._.transform;var i,h=this.paper._viewBoxShift,g=h?"s"+[h.scale,h.scale]+"-1-1t"+[h.dx,h.dy]:j;h&&(i=r=v(r).replace(/\.{3}|\u2026/g,this._.transform||j)),s._extractTransform(this,g+r);var x,A=this.matrix.clone(),I=this.skew,N=this.node,V=~v(this.attrs.fill).indexOf("-"),U=!v(this.attrs.fill).indexOf("url(");if(A.translate(1,1),U||V||this.type=="image")if(I.matrix="1 0 0 1",I.offset="0 0",x=A.split(),V&&x.noRotation||!x.isSimple){N.style.filter=A.toFilter();var re=this.getBBox(),ge=this.getBBox(1),ye=re.x-ge.x,ve=re.y-ge.y;N.coordorigin=ye*-se+$+ve*-se,we(this,1,1,ye,ve,0)}else N.style.filter=j,we(this,x.scalex,x.scaley,x.dx,x.dy,x.rotate);else N.style.filter=j,I.matrix=v(A),I.offset=A.offset();return i!==null&&(this._.transform=i,s._extractTransform(this,i)),this},l.rotate=function(r,i,h){if(this.removed)return this;if(r!=null){if((r=v(r).split(W)).length-1&&(i=b(r[1]),h=b(r[2])),r=b(r[0]),h==null&&(i=h),i==null||h==null){var g=this.getBBox(1);i=g.x+g.width/2,h=g.y+g.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",r,i,h]])),this}},l.translate=function(r,i){return this.removed?this:((r=v(r).split(W)).length-1&&(i=b(r[1])),r=b(r[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=r,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",r,i]])),this)},l.scale=function(r,i,h,g){if(this.removed)return this;if((r=v(r).split(W)).length-1&&(i=b(r[1]),h=b(r[2]),g=b(r[3]),isNaN(h)&&(h=null),isNaN(g)&&(g=null)),r=b(r[0]),i==null&&(i=r),g==null&&(h=g),h==null||g==null)var x=this.getBBox(1);return h=h==null?x.x+x.width/2:h,g=g==null?x.y+x.height/2:g,this.transform(this._.transform.concat([["s",r,i,h,g]])),this._.dirtyT=1,this},l.hide=function(){return!this.removed&&(this.node.style.display="none"),this},l.show=function(){return!this.removed&&(this.node.style.display=j),this},l.auxGetBBox=s.el.getBBox,l.getBBox=function(){var r=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var i={},h=1/this.paper._viewBoxShift.scale;return i.x=r.x-this.paper._viewBoxShift.dx,i.x*=h,i.y=r.y-this.paper._viewBoxShift.dy,i.y*=h,i.width=r.width*h,i.height=r.height*h,i.x2=i.x+i.width,i.y2=i.y+i.height,i}return r},l._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},l.remove=function(){if(!this.removed&&this.node.parentNode){for(var r in this.paper.__set__&&this.paper.__set__.exclude(this),s.eve.unbind("raphael.*.*."+this.id),s._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[r]=typeof this[r]=="function"?s._removedFactory(r):null;this.removed=!0}},l.attr=function(r,i){if(this.removed)return this;if(r==null){var h={};for(var g in this.attrs)this.attrs[u](g)&&(h[g]=this.attrs[g]);return h.gradient&&h.fill=="none"&&(h.fill=h.gradient)&&delete h.gradient,h.transform=this._.transform,h}if(i==null&&s.is(r,"string")){if(r=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(var x=r.split(W),A={},I=0,N=x.length;I<N;I++)(r=x[I])in this.attrs?A[r]=this.attrs[r]:s.is(this.paper.customAttributes[r],"function")?A[r]=this.paper.customAttributes[r].def:A[r]=s._availableAttrs[r];return N-1?A:A[x[0]]}if(this.attrs&&i==null&&s.is(r,"array")){for(A={},I=0,N=r.length;I<N;I++)A[r[I]]=this.attr(r[I]);return A}var V;for(var U in i!=null&&((V={})[r]=i),i==null&&s.is(r,"object")&&(V=r),V)Z("raphael.attr."+U+"."+this.id,this,V[U]);if(V){for(U in this.paper.customAttributes)if(this.paper.customAttributes[u](U)&&V[u](U)&&s.is(this.paper.customAttributes[U],"function")){var re=this.paper.customAttributes[U].apply(this,[].concat(V[U]));for(var ge in this.attrs[U]=V[U],re)re[u](ge)&&(V[ge]=re[ge])}V.text&&this.type=="text"&&(this.textpath.string=V.text),Ce(this,V)}return this},l.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&s._tofront(this,this.paper),this},l.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),s._toback(this,this.paper)),this)},l.insertAfter=function(r){return this.removed?this:(r.constructor==s.st.constructor&&(r=r[r.length-1]),r.node.nextSibling?r.node.parentNode.insertBefore(this.node,r.node.nextSibling):r.node.parentNode.appendChild(this.node),s._insertafter(this,r,this.paper),this)},l.insertBefore=function(r){return this.removed?this:(r.constructor==s.st.constructor&&(r=r[0]),r.node.parentNode.insertBefore(this.node,r.node),s._insertbefore(this,r,this.paper),this)},l.blur=function(r){var i=this.node.runtimeStyle,h=i.filter;return h=h.replace(pe,j),+r!=0?(this.attrs.blur=r,i.filter=h+$+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+r||1.5)+")",i.margin=s.format("-{0}px 0 0 -{0}px",z(+r||1.5))):(i.filter=h,i.margin=0,delete this.attrs.blur),this},s._engine.path=function(r,i){var h=X("shape");h.style.cssText=he,h.coordsize=se+$+se,h.coordorigin=i.coordorigin;var g=new a(h,i),x={fill:"none",stroke:"#000"};r&&(x.path=r),g.type="path",g.path=[],g.Path=j,Ce(g,x),i.canvas&&i.canvas.appendChild(h);var A=X("skew");return A.on=!0,h.appendChild(A),g.skew=A,g.transform(j),g},s._engine.rect=function(r,i,h,g,x,A){var I=s._rectPath(i,h,g,x,A),N=r.path(I),V=N.attrs;return N.X=V.x=i,N.Y=V.y=h,N.W=V.width=g,N.H=V.height=x,V.r=A,V.path=I,N.type="rect",N},s._engine.ellipse=function(r,i,h,g,x){var A=r.path();return A.attrs,A.X=i-g,A.Y=h-x,A.W=2*g,A.H=2*x,A.type="ellipse",Ce(A,{cx:i,cy:h,rx:g,ry:x}),A},s._engine.circle=function(r,i,h,g){var x=r.path();return x.attrs,x.X=i-g,x.Y=h-g,x.W=x.H=2*g,x.type="circle",Ce(x,{cx:i,cy:h,r:g}),x},s._engine.image=function(r,i,h,g,x,A){var I=s._rectPath(h,g,x,A),N=r.path(I).attr({stroke:"none"}),V=N.attrs,U=N.node,re=U.getElementsByTagName("fill")[0];return V.src=i,N.X=V.x=h,N.Y=V.y=g,N.W=V.width=x,N.H=V.height=A,V.path=I,N.type="image",re.parentNode==U&&U.removeChild(re),re.rotate=!0,re.src=i,re.type="tile",N._.fillpos=[h,g],N._.fillsize=[x,A],U.appendChild(re),we(N,1,1,0,0,0),N},s._engine.text=function(r,i,h,g){var x=X("shape"),A=X("path"),I=X("textpath");i=i||0,h=h||0,g=g||"",A.v=s.format("m{0},{1}l{2},{1}",z(i*se),z(h*se),z(i*se)+1),A.textpathok=!0,I.string=v(g),I.on=!0,x.style.cssText=he,x.coordsize=se+$+se,x.coordorigin="0 0";var N=new a(x,r),V={fill:"#000",stroke:"none",font:s._availableAttrs.font,text:g};N.shape=x,N.path=A,N.textpath=I,N.type="text",N.attrs.text=v(g),N.attrs.x=i,N.attrs.y=h,N.attrs.w=1,N.attrs.h=1,Ce(N,V),x.appendChild(I),x.appendChild(A),r.canvas.appendChild(x);var U=X("skew");return U.on=!0,x.appendChild(U),N.skew=U,N.transform(j),N},s._engine.setSize=function(r,i){var h=this.canvas.style;return this.width=r,this.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),h.width=r,h.height=i,h.clip="rect(0 "+r+" "+i+" 0)",this._viewBox&&s._engine.setViewBox.apply(this,this._viewBox),this},s._engine.setViewBox=function(r,i,h,g,x){s.eve("raphael.setViewBox",this,this._viewBox,[r,i,h,g,x]);var A,I,N=this.getSize(),V=N.width,U=N.height;return x&&(h*(A=U/g)<V&&(r-=(V-h*A)/2/A),g*(I=V/h)<U&&(i-=(U-g*I)/2/I)),this._viewBox=[r,i,h,g,!!x],this._viewBoxShift={dx:-r,dy:-i,scale:N},this.forEach(function(re){re.transform("...")}),this},s._engine.initWin=function(r){var i=r.document;i.styleSheets.length<31?i.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):i.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!i.namespaces.rvml&&i.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),X=function(h){return i.createElement("<rvml:"+h+' class="rvml">')}}catch(h){X=function(g){return i.createElement("<"+g+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},s._engine.initWin(s._g.win),s._engine.create=function(){var r=s._getContainer.apply(0,arguments),i=r.container,h=r.height,g=r.width,x=r.x,A=r.y;if(!i)throw new Error("VML container not found.");var I=new s._Paper,N=I.canvas=s._g.doc.createElement("div"),V=N.style;return x=x||0,A=A||0,g=g||512,h=h||342,I.width=g,I.height=h,g==+g&&(g+="px"),h==+h&&(h+="px"),I.coordsize=216e5+$+216e5,I.coordorigin="0 0",I.span=s._g.doc.createElement("span"),I.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",N.appendChild(I.span),V.cssText=s.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",g,h),i==1?(s._g.doc.body.appendChild(N),V.left=x+"px",V.top=A+"px",V.position="absolute"):i.firstChild?i.insertBefore(N,i.firstChild):i.appendChild(N),I.renderfix=function(){},I},s.prototype.clear=function(){s.eve("raphael.clear",this),this.canvas.innerHTML=j,this.span=s._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},s.prototype.remove=function(){for(var r in s.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[r]=typeof this[r]=="function"?s._removedFactory(r):null;return!0};var p=s.st;for(var n in l)l[u](n)&&!p[u](n)&&(p[n]=function(r){return function(){var i=arguments;return this.forEach(function(h){h[r].apply(h,i)})}}(n))}}.apply(O,C))===void 0||(M.exports=f)}])})}),J1=G1(Y1),Rt=J1;var q={};q.Common={nodeIdIncrement:0,activeNode:0,roundFloat:function(d,S){for(var M=0,O=1;M<S;)O*=10,M++;return Math.round(d*O)/O},apply:function(d,S){if(d&&typeof S=="object")for(var M in S)d[M]=S[M];return d},addRaphEventHandler:function(d,S,M,O){try{d[S](function(w,C){return function(f,s){var u=C;u.e=f,w(u)}}(M,O))}catch(w){}},isInteger:function(d){return!isNaN(parseInt(d))},isXMLSerializerAvailable:function(){return typeof XMLSerializer=="function"},createSvgEl:function(d,S){if(d=document.createElementNS("http://www.w3.org/2000/svg",d),S)for(var M in S)S.hasOwnProperty(M)&&d.setAttribute(M,String(S[M]));return d},createGradientEl:function(d,S,M){if(S.type!="radialGradient")return!1;var O=q.Common.createSvgEl("radialGradient",{id:d,gradientUnits:"userSpaceOnUse",cx:M[0],cy:M[1],r:M[2],fx:M[0],fy:M[1]});if(S.stop)for(var w=S.stop,C=0;C<w.length;C++){var f=w[C];f["@attributes"]?O.appendChild(q.Common.createSvgEl("stop",f["@attributes"])):(f._attributes&&delete f._attributes,f._children&&delete f._children,f.__proto__&&delete f.__proto__,O.appendChild(q.Common.createSvgEl("stop",f)))}return O},setCssStyle:function(d,S){var M=document.styleSheets[0];M.addRule?M.addRule(d,S):M.insertRule&&M.insertRule(d+" { "+S+" }",M.cssRules.length)}};q.PhyloCanvas=function(){var d,S,M,O,w;return function(C,f,s,u,v){if(this.getNewickObject=function(){return M},this.clear=function(){},this.scale=function(T){O.svg.scale(T)},this.getSvg=function(){return O},this.getPhylogram=function(){return d},this.getSvgSource=function(){if(Rt.svg&&q.Common.isXMLSerializerAvailable()){var T=new XMLSerializer;return T.serializeToString(O.svg.canvas)}else return!1},typeof C=="object")if(C.xml){if(C.fileSource)var b=C.xml;else var b=xt.textToXML(C.xml);b=xt.xmlToJSON(b),w=new q.PhyloCanvas.PhyloxmlParse(b)}else if(C.phyloxml){if(C.fileSource)var b=C.phyloxml;else var b=xt.textToXML(C.phyloxml);b=xt.xmlToJSON(b),w=new q.PhyloCanvas.PhyloxmlParse(b)}else if(C.nexml){if(C.fileSource)var b=C.nexml;else var b=xt.textToXML(C.nexml);b=xt.xmlToJSON(b),w=new q.PhyloCanvas.NexmlParse(b,C)}else C.json?w=new q.PhyloCanvas.PhyloxmlParse(C.json):C.newick?w=new q.PhyloCanvas.NewickParse(C.newick):C.nexmlJson?w=new q.PhyloCanvas.NexmlJsonParse(C):alert("Please set the format of input data");else w=new q.PhyloCanvas.NewickParse(C);S=f,O=new q.PhyloCanvas.Render.SVG(S,s,u),v=="circular"?d=new q.PhyloCanvas.Render.CircularPhylogram(O,w):d=new q.PhyloCanvas.Render.Phylogram(O,w)}}();q.PhyloCanvas.prototype={};q.PhyloCanvas.Node=function(){return function(d,S){this.id=q.Common.nodeIdIncrement+=1,this.level=0,this.len=0,this.newickLen=0,this.name="",this.type="",this.chart={},this.img=[],d&&q.Common.apply(this,d),this._countAllChildren=!1,this._countImmediateChildren=!1,this._midBranchPosition=!1,this.children=new Array,S&&S.children.push(this)}}();q.PhyloCanvas.Node.prototype={getCountAllChildren:function(){if(this._countAllChildren!==!1)return this._countAllChildren;var d=0;for(var S in this.children)if(q.Common.isInteger(S)){var M=this.children[S];M.children&&M.children.length>0?d+=M.getCountAllChildren():d++}return this._countAllChildren=d,d},getCountImmediateChildren:function(){if(this._countImmediateChildren!==!1)return this._countImmediateChildren;var d=0;for(var S in this.children){var M=this.children[S];d+=M.length}return this._countImmediateChildren=d,d},getMidbranchPosition:function(d){if(this._midBranchPosition!==!1)return this._midBranchPosition;for(var S=[0,0],M=0;M<this.children.length;M++){var O=this.children[M];O.children&&O.children.length>0?M==0&&d?(S[0]=O.getMidbranchPosition(!0),S[1]+=O.getCountAllChildren()-1):M==0?(S[0]=O.getMidbranchPosition(),S[1]+=O.getCountAllChildren()):M==this.children.length-1?S[1]+=O.getMidbranchPosition():S[1]+=O.getCountAllChildren():M==0&&d?S[0]=0:M==0?(S[0]=1,S[1]+=1):(M==this.children.length-1,S[1]+=1)}return this._midBranchPosition=S[1]>=S[0]?(S[1]+S[0])/2:S[0],this._midBranchPosition}};q.PhyloCanvas.NewickParse=function(){var d,S,M,O=0,w=0,C,f,s=function(D){for(var B=new q.PhyloCanvas.Node;S!==")"&&S!==",";)S===":"?(T(),B.len=q.Common.roundFloat(v(),4),B.len==0&&(B.len=1e-4)):S==="'"||S==='"'?(B.type="label",B.name=b(S)):(B.type="label",B.name=v());return B.level=D.level+1,B},u=function(D){var B=new q.PhyloCanvas.Node;for(D&&(B.level=D.level+1);S!==")";)T(),S==="("?B.children.push(u(B)):B.children.push(s(B));return T(),S!==":"&&S!==")"&&S!==","&&S!==";"&&(B.type="label",B.name=v()),S===":"&&(T(),B.len=q.Common.roundFloat(v(),4),B.len==0&&(B.len=1e-4),B.type="stem"),B},v=function(){for(var D="";S!==":"&&S!==")"&&S!==","&&S!==";";)D+=S,T();return D},b=function(D){for(var B="";S!==D;)B+=S,T();return B},T=function(){return S=d.charAt(M),M+=1,S},z=function(D,B){if(D.children&&D.children.length)for(var L=0;L<D.children.length;L++){var W=D.children[L];W.len===0&&(W.len=1),W.newickLen=q.Common.roundFloat(W.len+D.newickLen,4),W.level>O&&(O=W.level),W.newickLen>w&&(w=W.newickLen),W.children.length>0&&z(W,D)}return D};return function(D){this.getRoot=function(){return C},this.getLevels=function(){return O},this.getNewickLen=function(){return w},this.getValidate=function(){return f},O=0,w=0,d=D,M=0,T(),C=u(),C=z(C)}}();q.PhyloCanvas.NewickParse.prototype={};q.PhyloCanvas.PhyloxmlParse=function(){var d=0,S=0,M,O,w=function(s,u){var v=new q.PhyloCanvas.Node;if(u&&(v.level=u.level+1),s.clade&&s.clade.length)for(var b=0;b<s.clade.length;b++){var T=s.clade[b];v.children.push(w(T,v))}if(s.branch_length&&(typeof s.branch_length=="object"&&(s.branch_length=s.branch_length[0].Text),v.len=q.Common.roundFloat(s.branch_length,4),v.len==0&&(v.len=1e-4)),s.color?(v.red=s.color[0].red[0].Text,v.green=s.color[0].green[0].Text,v.blue=s.color[0].blue[0].Text):(v.red=0,v.green=0,v.blue=0),s.property&&s.property[0].applies_to=="node"&&s.property[0].ref=="style:font_color"&&(v.font_color_hex=s.property[0].Text),s.name?(v.type="label",v.name=s.name[0].Text,s.name[0]&&s.name[0].style&&(v.style=s.name[0].style),s.name[0]&&s.name[0].bgStyle&&(v.bgStyle=s.name[0].bgStyle)):s.confidence&&(v.name=s.confidence[0].Text),s.sequence&&s.sequence[0]&&s.sequence[0].name&&s.sequence[0].name[0]&&s.sequence[0].name[0].Text&&(v.sequenceName=s.sequence[0].name[0].Text),s.taxonomy&&s.taxonomy[0]&&(s.taxonomy[0].scientific_name&&s.taxonomy[0].scientific_name[0]&&s.taxonomy[0].scientific_name[0].Text&&(v.taxonomyScientificName=s.taxonomy[0].scientific_name[0].Text),s.taxonomy[0].common_name&&s.taxonomy[0].common_name[0]&&s.taxonomy[0].common_name[0].Text&&(v.taxonomyCommonName=s.taxonomy[0].common_name[0].Text)),s.sequence&&s.sequence[0]&&s.sequence[0].accession&&s.sequence[0].accession[0]&&s.sequence[0].accession[0].Text&&(v.sequenceAccession=s.sequence[0].accession[0].Text),s.point&&(v.LatLong=[s.point[0].lat[0].Text,s.point[0].long[0].Text]),v.name||(v.sequenceName?v.name=v.sequenceName:v.taxonomyScientificName?v.name=v.taxonomyScientificName:v.taxonomyCommonName?v.name=v.taxonomyCommonName:v.sequenceAccession&&(v.name=v.sequenceAccession),v.name&&(v.type="label")),s.annotation&&(s.annotation[0]&&s.annotation[0].desc&&s.annotation[0].desc[0]&&s.annotation[0].desc[0].Text&&(v.description=s.annotation[0].desc[0].Text),s.annotation[0]&&s.annotation[0].uri&&s.annotation[0].uri[0]&&s.annotation[0].uri[0].Text&&(v.uri=s.annotation[0].uri[0].Text),s.annotation[0]&&s.annotation[0].img))for(var b in s.annotation[0].img)q.Common.isInteger(b)&&(v.img[b]=s.annotation[0].img[b].Text);if(s.chart&&s.chart[0])for(var b in s.chart[0])b!="Text"&&b!="_children"&&(v.chart[b]=s.chart[0][b][0].Text);return v&&v.level>1&&(v.len||(O="Error. Please include Branch Lengths - we only draw rooted phylogenetic trees.")),v},C=function(s,u){if(s.children&&s.children.length)for(var v=0;v<s.children.length;v++){var b=s.children[v];b.newickLen=Math.round((b.len+s.newickLen)*1e4)/1e4,b.level>d&&(d=b.level),b.newickLen>S&&(S=b.newickLen),b.children.length>0&&C(b,s)}return s},f=function(s,u){for(var v in s)v!="_children"&&v!="Text"&&(v=="rectangular"||v=="circular"?f(s[v][0],v):(q.PhyloCanvas.Render.Parameters[v]||(q.PhyloCanvas.Render.Parameters[v]={}),q.PhyloCanvas.Render.Parameters.set(v,s[v][0].Text,u)))};return function(s){if(this.getRoot=function(){return M},this.getLevels=function(){return d},this.getNewickLen=function(){return S},this.getValidate=function(){return O},s.phylogeny&&s.phylogeny[0]&&s.phylogeny[0].clade&&(M=w(s.phylogeny[0].clade[0])),s.phylogeny&&s.phylogeny[0]&&s.phylogeny[0].render&&s.phylogeny[0].render[0]){var u=s.phylogeny[0].render[0];if(u&&u.styles){var v=u.styles[0];for(var b in v)if(b!="_children"&&b!="Text")if(v[b][0].type&&v[b][0].type=="radialGradient"&&Rt.svg)v[b][0].name=b,q.PhyloCanvas.Render.Style[b]=v[b][0],q.PhyloCanvas.Render.Style.jsphylosvgGradientList||(q.PhyloCanvas.Render.Style.jsphylosvgGradientList=[]),q.PhyloCanvas.Render.Style.jsphylosvgGradientList.push(b);else{q.PhyloCanvas.Render.Style[b]||(q.PhyloCanvas.Render.Style[b]={});for(var T in v[b][0])T!="_attributes"&&T!="_children"&&T!="type"&&(q.PhyloCanvas.Render.Style[b][T.replace("_","-")]=v[b][0][T])}}if(u&&u.parameters&&f(u.parameters[0]),u&&u.charts){var z=u.charts[0];for(var b in z)if(b!="_children"&&b!="Text")for(var T in z[b])z[b][T].type=="binary"?(z[b][T].chart=b,q.PhyloCanvas.Render.Parameters.binaryCharts.push(z[b][T])):z[b][T].type=="integratedBinary"?(z[b][T].chart=b,q.PhyloCanvas.Render.Parameters.integratedBinaryCharts.push(z[b][T])):z[b][T].type=="bar"&&(z[b][T].chart=b,q.PhyloCanvas.Render.Parameters.barCharts.length==1&&q.PhyloCanvas.Render.Parameters.barCharts.shift(),q.PhyloCanvas.Render.Parameters.barCharts.push(z[b][T]))}}M=C(M)}}();q.PhyloCanvas.PhyloxmlParse.prototype={};q.PhyloCanvas.NexmlParse=function(){var d=0,S=0,M,O,w,C,f=function(v,b,T){var z=new q.PhyloCanvas.Node;T&&(z.level=T.level+1);for(var D=0;D<w.length;D++)if(w[D].source==v.id)for(var B=0;B<C.length;B++)w[D].target==C[B].id&&z.children.push(f(C[B],w[D].length,z));if(z&&z.level>0&&!z.len&&(z.len=1),b&&(z.len=q.Common.roundFloat(b,4),z.len==0&&(z.len=1e-4)),v.label&&(z.type="label",z.name=v.label,v.style&&(z.style=v.style)),v.color){let L=v.color.replace(/[a-z%\s\(\)]/g,"").split(",");z.red=L[0],z.green=L[1],z.blue=L[2]}else{let L=q.PhyloCanvas.Render.Style.line.stroke.replace(/[a-z%\s\(\)]/g,"").split(",");z.red=L[0],z.green=L[1],z.blue=L[2]}return z},s=function(v,b){if(v.children&&v.children.length)for(var T=0;T<v.children.length;T++){var z=v.children[T];z.newickLen=Math.round((z.len+v.newickLen)*1e4)/1e4,z.level>d&&(d=z.level),z.newickLen>S&&(S=z.newickLen),z.children.length>0&&s(z,v)}return v},u=function(v,b){for(var T in v)T!="_children"&&T!="Text"&&(T=="rectangular"||T=="circular"?u(v[T][0],T):(q.PhyloCanvas.Render.Parameters[T]||(q.PhyloCanvas.Render.Parameters[T]={}),q.PhyloCanvas.Render.Parameters.set(T,v[T][0].Text,b)))};return function(v,b){this.getRoot=function(){return M},this.getLevels=function(){return d},this.getNewickLen=function(){return S},this.getValidate=function(){return O},b.tree&&v.trees[0]&&v.trees[0].tree[b.tree-1]?(w=v.trees[0].tree[b.tree-1].edge,C=v.trees[0].tree[b.tree-1].node):(w=v.trees[0].tree[0].edge,C=v.trees[0].tree[0].node);for(var T=0;T<C.length;T++){var z=0;if(C[T].root&&C[T].root=="true"){M=C[T];break}for(var D=0;D<w.length;D++)w[D].target==C[T].id&&z++;if(z==0){M=C[T];break}}M?(M=f(M),M=s(M)):O="Error. Currently, only rooted NeXML trees are supported."}}();q.PhyloCanvas.NexmlParse.prototype={};q.PhyloCanvas.NexmlJsonParse=function(){var d=0,S=0,M,O,w=[],C=[],f=function(v,b,T){var z=new q.PhyloCanvas.Node;T&&(z.level=T.level+1);for(var D=0;D<w.length;D++)if(w[D].source==v.id)for(var B=0;B<C.length;B++)w[D].target==C[B].id&&z.children.push(f(C[B],w[D].length,z));return b&&(z.len=q.Common.roundFloat(b,4),z.len==0&&(z.len=1e-4)),v.label&&(z.type="label",z.name=v.label,v.accession&&(z.accession=v.accession),v.style&&(z.style=v.style),v.bgStyle&&(z.bgStyle=v.bgStyle)),v.chart&&(z.chart=v.chart),z&&z.level>1&&(z.len||(O="Error. Please include Branch Lengths - we only draw rooted phylogenetic trees.")),z},s=function(v,b){if(v.children&&v.children.length)for(var T=0;T<v.children.length;T++){var z=v.children[T];z.newickLen=Math.round((z.len+v.newickLen)*1e4)/1e4,z.level>d&&(d=z.level),z.newickLen>S&&(S=z.newickLen),z.children.length>0&&s(z,v)}return v},u=function(v,b){for(var T in v)T!="_children"&&T!="Text"&&(T=="rectangular"||T=="circular"?u(v[T],T):(q.PhyloCanvas.Render.Parameters[T]||(q.PhyloCanvas.Render.Parameters[T]={}),q.PhyloCanvas.Render.Parameters.set(T,v[T],b)))};return function(v){this.getRoot=function(){return M},this.getLevels=function(){return d},this.getNewickLen=function(){return S},this.getValidate=function(){return O};var b=v.nexmlJson.nexml,T=b.render;if(T&&T.styles){var z=T.styles;for(var D in z)if(D!="_children"&&D!="Text")if(z[D]["@attributes"].type&&z[D]["@attributes"].type=="radialGradient"&&Rt.svg)z[D].name=D,z[D].type=z[D]["@attributes"].type,q.PhyloCanvas.Render.Style[D]=z[D],q.PhyloCanvas.Render.Style.jsphylosvgGradientList||(q.PhyloCanvas.Render.Style.jsphylosvgGradientList=[]),q.PhyloCanvas.Render.Style.jsphylosvgGradientList.push(D);else{q.PhyloCanvas.Render.Style[D]||(q.PhyloCanvas.Render.Style[D]={});for(var B in z[D]["@attributes"])B!="_attributes"&&B!="_children"&&B!="type"&&(q.PhyloCanvas.Render.Style[D][B.replace("_","-")]=z[D]["@attributes"][B])}}if(T&&T.parameters&&u(T.parameters),T&&T.charts){var L=T.charts;for(var D in L)L[D]["@attributes"].chart=D,L[D]["@attributes"].type=="binary"?q.PhyloCanvas.Render.Parameters.binaryCharts.push(L[D]["@attributes"]):L[D]["@attributes"].type=="integratedBinary"?q.PhyloCanvas.Render.Parameters.integratedBinaryCharts.push(L[D]["@attributes"]):L[D]["@attributes"].type=="bar"&&q.PhyloCanvas.Render.Parameters.barCharts.push(L[D]["@attributes"])}if(v.tree&&b.trees[0]&&b.trees[0].tree[v.tree-1])w=b.trees[0].tree[v.tree-1].edge,C=b.trees[0].tree[v.tree-1].node;else{for(var D=0;D<b.trees.tree.edge.length;D++)w.push(b.trees.tree.edge[D]["@attributes"]);for(var D=0;D<b.trees.tree.node.length;D++){var W=b.trees.tree.node[D]["@attributes"];W.label&&(W.chart=b.trees.tree.node[D].chart),C.push(W)}}for(var D=0;D<C.length;D++)C[D].root&&C[D].root=="true"&&(M=C[D]);M?(M=f(M),M=s(M)):O="Error. Currently, only rooted NeXML trees are supported."}}();q.PhyloCanvas.NexmlParse.prototype={};q.PhyloCanvas.Render={};q.PhyloCanvas.Render.Style={line:{stroke:"rgb(0,0,0)","stroke-width":1},text:{"font-family":"Verdana","font-size":12,"text-anchor":"start"},path:{stroke:"rgb(0,0,0)","stroke-width":1},connectedDash:{stroke:"rgb(200,200,200)","stroke-dasharray":". "},textSecantBg:{fill:"#EEE",stroke:"#DDD"},highlightedEdgeCircle:{fill:"black",stroke:"black"},barChart:{fill:"#003300",stroke:"#DDD"},getStyle:function(d,S){return this[d]?this[d]:this[S]}};q.PhyloCanvas.Render.Parameters={jsOverride:0,Rectangular:{bufferX:200,paddingX:10,paddingY:20,bufferInnerLabels:10,bufferOuterLabels:5,minHeightBetweenLeaves:10,alignPadding:0,alignRight:!1,showScaleBar:!1},Circular:{bufferRadius:.33,bufferAngle:20,initStartAngle:160,innerCircleRadius:0,minHeightBetweenLeaves:5,bufferInnerLabels:2,bufferOuterLabels:5},binaryCharts:[],integratedBinaryCharts:[],barCharts:[],binaryChartBufferInner:5,binaryChartBufferSiblings:.01,binaryChartThickness:15,binaryChartDisjointed:!1,barChartBufferInner:3,barChartHeight:50,barChartWidth:.5,set:function(d,S,M){this.jsOverride||(M?M=="circular"?this.Circular[d]=parseFloat(S):M=="rectangular"&&(this.Rectangular[d]=parseFloat(S)):this[d]=parseFloat(S))}};q.PhyloCanvas.Render.Line=function(){return function(d,S,M,O,w,C,f,s){this.type="line",this.attr=q.PhyloCanvas.Render.Style.line,this.attr.stroke=["rgb(",w,",",C,",",f,")"].join(""),this.x1=d,this.x2=S,this.y1=M,this.y2=O,s&&(q.Common.apply(this,s),s.attr&&(this.attr=s.attr))}}();q.PhyloCanvas.Render.Text=function(){return function(d,S,M,O){this.type="text",this.attr=q.PhyloCanvas.Render.Style.text,this.x=d,this.y=S,this.text=M,O&&(q.Common.apply(this,O),O.attr&&(this.attr=O.attr))}}();q.PhyloCanvas.Render.Path=function(){var d=q.PhyloCanvas.Render.Style.path;return function(S,M){this.type="path",this.attr=q.PhyloCanvas.Render.Style.path,this.path=S,M&&(q.Common.apply(this,M),M.attr&&(this.attr=M.attr))}}();q.PhyloCanvas.Render.Circle=function(){return function(d,S,M,O){this.type="circle",this.x=d,this.y=S,this.radius=M,O&&(q.Common.apply(this,O),O.attr&&(this.attr=O.attr))}}();q.PhyloCanvas.Render.SVG=function(){var d,S;return function(M,O,w){d=M,this.canvasSize=[O,w],this.svg=Rt(M,this.canvasSize[0],this.canvasSize[1])}}();q.PhyloCanvas.Render.SVG.prototype={render:function(){for(var d=this.phylogramObject.getDrawInstructs(),S=0;S<d.length;S++)if(d[S].type=="line")var M=this.svg.path(["M",d[S].x1,d[S].y1,"L",d[S].x2,d[S].y2]).attr(q.PhyloCanvas.Render.Style.line);else if(d[S].type=="path")var O=this.svg.path(d[S].path).attr(d[S].attr);else if(d[S].type=="circle")var O=this.svg.circle(d[S].x,d[S].y,d[S].radius).attr({stroke:"black",fill:"black"});else{var w=this.svg.text(d[S].x,d[S].y,d[S].text).attr(q.PhyloCanvas.Render.Style.text);d[S].attr&&w.attr(d[S].attr),d[S].rotate&&w.rotate(d[S].rotate);var C=w.getBBox(),f=Math.sqrt(C.height*C.height+C.width*C.width)}},draw:function(d){var S,M;if(d.type=="line")S=this.svg.path(["M",d.x1,d.y1,"L",d.x2,d.y2]).attr(q.PhyloCanvas.Render.Style.line);else if(d.type=="path")S=this.svg.path(d.path).attr(d.attr);else if(d.type=="circle")S=this.svg.circle(d.x,d.y,d.radius).attr({stroke:"black",fill:"black"});else if(d.type=="text"){S=this.svg.text(d.x,d.y,d.text).attr(q.PhyloCanvas.Render.Style.text),d.attr&&S.attr(d.attr),d.rotate&&S.rotate(d.rotate);var O=S.getBBox();M=Math.sqrt(O.height*O.height+O.width*O.width)}return[S,M]}};q.PhyloCanvas.Render.Phylogram=function(){var d,S=q.PhyloCanvas.Render.Parameters.Rectangular,M,O,w,C,f,s,u=!0,v=0,b=0,T,z,D,B,L,W,Z,$,j,te,ae,pe,G=[],he=function(X){return X+Math.round(X/4)},se=function(X,xe,Ce,ee){return["M",X,xe,"L",Ce,xe,"L",Ce,ee,"L",X,ee,"Z"]},F=function(X,xe){if(X.len&&u==!1&&X.children.length==0&&(v=q.Common.roundFloat(v+C,4)),X.children.length>0){var Ce=[],ee,a,l,p,n,r,i;if(X.len&&(ee=xe,a=xe=q.Common.roundFloat(xe+w*X.len,4),l=v+X.getMidbranchPosition(u)*C,p=l,n=X.red,r=X.green,i=X.blue,d.draw(new q.PhyloCanvas.Render.Line(ee,a,l,p,n,r,i))),X.name){var h={};if(h=q.PhyloCanvas.Render.Style.getStyle("bootstrap","text"),X.font_color_hex?h.fill=X.font_color_hex:h.fill="#000000",X.uri&&(h.href=X.uri),X.description&&(h.title=X.description),X.level==0)var g=v+X.getMidbranchPosition(u)*C;else var g=p;d.draw(new q.PhyloCanvas.Render.Text((a||xe)+5,g,X.name,{attr:h}))}if(X.children&&X.children.length)for(var x=0;x<X.children.length;x++){var A=X.children[x];Ce.push(F(A,xe))}for(var I=[],x=0;x<Ce.length;x++)Ce[x][0]&&I.push(Ce[x][0]),Ce[x][1]&&I.push(Ce[x][1]);for(var N=Math.min.apply(null,I),V=Math.max.apply(null,I),U=(N+V)/2,re="",ge="",ye="",ve=0,x=0;x<X.children.length;++x){var _e=X.children[x];if(x==0)re=_e.red,ge=_e.green,ye=_e.blue;else if(re==_e.red&&ge==_e.green&&ye==_e.blue)ve=1;else{ve=0;break}}ve==0?q.PhyloCanvas.Render.Style.line.stroke="black":(n=X.children[0].red,r=X.children[0].green,i=X.children[0].blue,q.PhyloCanvas.Render.Style.line.stroke=["rgb(",n,",",r,",",i,")"].join("")),X.children.length==2?(n=X.children[0].red,r=X.children[0].green,i=X.children[0].blue,q.PhyloCanvas.Render.Style.line.stroke=["rgb(",n,",",r,",",i,")"].join(""),d.draw(new q.PhyloCanvas.Render.Path(["M",xe+1e-4,N,"L",xe,N,"L",xe,U],{attr:q.PhyloCanvas.Render.Style.line})),n=X.children[1].red,r=X.children[1].green,i=X.children[1].blue,q.PhyloCanvas.Render.Style.line.stroke=["rgb(",n,",",r,",",i,")"].join(""),d.draw(new q.PhyloCanvas.Render.Path(["M",xe,U,"L",xe,V,"L",xe+1e-4,V],{attr:q.PhyloCanvas.Render.Style.line}))):d.draw(new q.PhyloCanvas.Render.Path(["M",xe+1e-4,N,"L",xe,N,"L",xe,V,"L",xe+1e-4,V],{attr:q.PhyloCanvas.Render.Style.line}))}else{if(ee=xe,a=q.Common.roundFloat(xe+w*X.len,2),l=v,p=v,n=X.red,r=X.green,i=X.blue,X.y=v,G.push(X),d.draw(new q.PhyloCanvas.Render.Line(ee,a,l,p,n,r,i)),S.alignRight&&d.draw(new q.PhyloCanvas.Render.Path(["M",a,l,"L",S.alignPadding+f,p],{attr:q.PhyloCanvas.Render.Style.connectedDash})),X.name){var h={};X.style&&(h=q.PhyloCanvas.Render.Style.getStyle(X.style,"text")),X.font_color_hex?h.fill=X.font_color_hex:h.fill="#000000",h["text-anchor"]="start",X.uri&&(h.href=X.uri),X.description&&(h.title=X.description);var Se=d.draw(new q.PhyloCanvas.Render.Text(S.alignRight?f+S.bufferInnerLabels+S.alignPadding:a+S.bufferInnerLabels,p,X.name,{attr:h}));b=Math.max(Se[1],b),q.PhyloCanvas.Render.Parameters.mouseRollOver&&q.Common.addRaphEventHandler(Se[0],"mouseover",q.PhyloCanvas.Render.Parameters.mouseRollOver,{svg:d,node:X,x:a,y:p,textEl:Se[0]}),q.PhyloCanvas.Render.Parameters.mouseRollOut&&q.Common.addRaphEventHandler(Se[0],"mouseout",q.PhyloCanvas.Render.Parameters.mouseRollOut,{svg:d,node:X,x:a,y:p,textEl:Se[0]}),q.PhyloCanvas.Render.Parameters.onClickAction&&q.Common.addRaphEventHandler(Se[0],"click",q.PhyloCanvas.Render.Parameters.onClickAction,{svg:d,node:X,x:a,y:p,textEl:Se[0]})}u&&(u=!1)}return[l,p]},me=function(){y=v+C,B=0,L=S.showScaleBar*w,d.draw(new q.PhyloCanvas.Render.Line(B,L,y,y)),d.draw(new q.PhyloCanvas.Render.Text((B+L)/2,y-8,S.showScaleBar))},de=function(X,xe,Ce){for(var ee=(Ce&&Ce.bufferInner?Ce.bufferInner:0)|q.PhyloCanvas.Render.Parameters.binaryChartBufferInner,a=(Ce&&Ce.bufferSiblings?Ce.bufferSiblings*C:0)|(q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings<1?C*q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings:q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings),l=(Ce&&Ce.thickness?Ce.thickness:0)|q.PhyloCanvas.Render.Parameters.binaryChartThickness,p,n=0;n<G.length;n++){var r=G[n];d.draw(new q.PhyloCanvas.Render.Path(se(X+ee,r.y-C/2+a/2,X+ee+l,r.y+C/2-a/2),{attr:q.PhyloCanvas.Render.Style.getStyle(r.chart[xe],"textSecantBg")}))}return X+ee+l},we=function(X,xe,Ce){for(var ee=[],a,l=Ce&&Ce.bufferInner?Ce.bufferInner:0|q.PhyloCanvas.Render.Parameters.barChartBufferInner,p=Ce&&Ce.height?Ce.height:0|q.PhyloCanvas.Render.Parameters.barChartHeight,n=Ce&&Ce.width?Ce.width<1?C*Ce.width:Ce.width:0|(q.PhyloCanvas.Render.Parameters.barChartWidth<1?C*q.PhyloCanvas.Render.Parameters.barChartWidth:q.PhyloCanvas.Render.Parameters.barChartWidth),r=0,i=0;i<G.length;i++)ee.push(G[i].chart[xe]);a=Math.max.apply(null,ee),r=q.Common.roundFloat(p/a,4);for(var i=0;i<G.length;i++){var h=G[i];d.draw(new q.PhyloCanvas.Render.Path(se(X+l,h.y-n/2,X+l+r*h.chart[xe],h.y+n/2),{attr:q.PhyloCanvas.Render.Style.getStyle(h.chart[xe],"barChart")}))}return X+l+p};return function(X,xe){this.getCanvasSize=function(){return[M,O]},this.getRoot=function(){return xe.getRoot()},xe.getValidate()&&d.draw(0,0,xe.getValidate()),u=!0,d=X;var Ce=xe.getRoot(),ee=xe.getNewickLen();if(M=d.canvasSize[0],O=d.canvasSize[1],te=S.bufferX,ae=S.paddingX,pe=S.paddingY,s=S.minHeightBetweenLeaves,v=pe,w=Math.round((M-te-ae*2)/ee),C=Math.round((O-pe*2)/(S.showScaleBar?Ce.getCountAllChildren():Ce.getCountAllChildren()-1)),C<s&&(C=s),f=Math.round(M-te-ae*2),(q.PhyloCanvas.Render.Parameters.binaryCharts.length||q.PhyloCanvas.Render.Parameters.barCharts.length)&&(S.alignRight=!0),F(Ce,ae),S.showScaleBar&&me(),T=f+b+S.bufferInnerLabels,q.PhyloCanvas.Render.Parameters.binaryCharts.length){var a=q.PhyloCanvas.Render.Parameters.binaryCharts;for(var l in a)T=de(T,a[l].chart,a[l])}if(q.PhyloCanvas.Render.Parameters.barCharts.length){var p=q.PhyloCanvas.Render.Parameters.barCharts;for(var l in p)D=we(T,p[l].chart,p[l])}G=[],typeof bgLabelsHold!="undefined"&&(bgLabelsHold=[])}}();q.PhyloCanvas.Render.Phylogram.prototype={};q.PhyloCanvas.Render.CircularPhylogram=function(){var d,S=q.PhyloCanvas.Render.Parameters.Circular,M,O,w,C,f,s,u,v=!0,b=0,T,z,D,B=[],L=[],W,Z,$,j=0,te,ae=Math.PI/180;function pe(ee,a){return a+=te,[q.Common.roundFloat(T+ee*Math.sin(a*ae),4),q.Common.roundFloat(z+ee*Math.cos(a*ae),4)]}function G(ee){var a=F(90-ee-te);if(a>90&&a<270){a+=180;var l="end"}else var l="start";return[a,l]}function he(ee,a,l,p){var n=pe(ee,a),r=pe(ee,l),i=[],h,g=0;return Math.abs(F(l-a))>180?h=1:h=-1,p&&p.invertSecant&&(h*=-1,g=1),p&&p.noMove||i.push("M"),i.push(n[0],n[1],"A",ee,ee,0,h<1?0:1,g,r[0],r[1]),i}function se(ee,a,l,p){var n=[],r=pe(a,ee),i=pe(l,ee);return p&&p.noMove||n.push("M"),n.push(r[0],r[1],"L",i[0],i[1]),n}function F(ee){for(;ee>360||ee<0;)ee>360?ee-=360:ee<0&&(ee+=360);return ee}function me(ee,a,l,p){if(!a&&ee.length>1)var p=ee[3],l=ee[2],a=ee[1],ee=ee[0];var n=we("M",he(ee,l,p,{noMove:1,invertSecant:0}),"L",he(a,p,l,{noMove:1,invertSecant:1}),"Z");return n}function de(ee,a){if(a=a,ee.len&&(v?b=Z||1:ee.children.length==0&&(b=q.Common.roundFloat(b+f,4))),ee.children.length>0){var l=[],p,n,r,i;if(p=a,n=a+=q.Common.roundFloat(C*ee.len,4),ee.name,ee.children&&ee.children.length)for(var h=0;h<ee.children.length;h++){var g=ee.children[h],x=de(g,a);x>0&&l.push(x)}var A=q.Common.roundFloat(Math.min.apply(null,l),4),I=q.Common.roundFloat(Math.max.apply(null,l),4);ee.level!=0&&d.draw(new q.PhyloCanvas.Render.Path(we("M",pe(a+.01,A),"L",he(a,A,I,{noMove:!0}),"L",pe(a+.01,I)))),ee.len&&(r=q.Common.roundFloat(A+(I-A)/2,4),d.draw(new q.PhyloCanvas.Render.Path(se(r,p,n))))}else if(ee.y=b,B.push(ee),p=a,n=a=q.Common.roundFloat(a+C*ee.len),r=b,d.draw(new q.PhyloCanvas.Render.Path(se(r,p,n))),d.draw(new q.PhyloCanvas.Render.Path(se(r,n,D),{attr:q.PhyloCanvas.Render.Style.connectedDash})),ee.name){var N=pe(D+S.bufferInnerLabels,r),V=G(r),U=V[0],re=V[1],ge={};ee.style&&q.Common.apply(ge,q.PhyloCanvas.Render.Style.getStyle(ee.style,"text")),ee.font_color_hex?ge.fill=ee.font_color_hex:ge.fill="#000000",ge["text-anchor"]=re,ee.uri&&(ge.href=ee.uri),ee.description&&(ge.title=ee.description);var ye=d.draw(new q.PhyloCanvas.Render.Text(N[0],N[1],ee.name,{attr:ge,rotate:[U,N[0],N[1]]}));ee.bgStyle&&L.push([ee.bgStyle,r]);var N=pe(n,r);q.PhyloCanvas.Render.Parameters.mouseRollOver&&q.Common.addRaphEventHandler(ye[0],"mouseover",q.PhyloCanvas.Render.Parameters.mouseRollOver,{svg:d,node:ee,x:N[0],y:N[1],textEl:ye[0]}),q.PhyloCanvas.Render.Parameters.mouseRollOut&&q.Common.addRaphEventHandler(ye[0],"mouseout",q.PhyloCanvas.Render.Parameters.mouseRollOut,{svg:d,node:ee,x:N[0],y:N[1],textEl:ye[0]}),q.PhyloCanvas.Render.Parameters.onClickAction&&q.Common.addRaphEventHandler(ye[0],"click",q.PhyloCanvas.Render.Parameters.onClickAction,{svg:d,node:ee,x:N[0],y:N[1],textEl:ye[0]}),j=Math.max(ye[1],j)}return v&&(v=!1),r}function we(ee){for(var a=ee,l=1;l<arguments.length;l++)a=a.concat(arguments[l]);return a}function X(){var ee=[];if(L.length>0){if(q.PhyloCanvas.Render.Style.jsphylosvgGradientList)for(var a=0;a<q.PhyloCanvas.Render.Style.jsphylosvgGradientList.length;a++){var l=q.PhyloCanvas.Render.Style.jsphylosvgGradientList[a],p=q.Common.createGradientEl(l,q.PhyloCanvas.Render.Style[l],[T,z,D+j+S.bufferOuterLabels]);d.svg.defs.appendChild(p)}for(var a=0;a<L.length;a++){if(a!=L.length-1&&L[a][0]==L[a+1][0]){L[a+1][2]=L[a][2]?L[a][2]:L[a][1];continue}var ee=me(D,D+j+S.bufferOuterLabels,L[a][2]?L[a][2]-f/2:L[a][1]-f/2,L[a][1]+f/2),n=q.PhyloCanvas.Render.Style.getStyle(L[a][0],"textSecantBg"),r=d.draw(new q.PhyloCanvas.Render.Path(ee,{attr:n.type?{}:n}));n.type&&n.type=="radialGradient"&&r[0].node.setAttribute("fill","url(#"+n.name+")"),n.type&&n.type=="radialGradient"&&r[0].node.setAttribute("stroke","none"),r[0].toBack()}}var ee=me(D,D+j+S.bufferOuterLabels,(Z||1)-f/2,360-f/2),r=d.draw(new q.PhyloCanvas.Render.Path(ee,{attr:q.PhyloCanvas.Render.Style.textSecantBg}));return r[0].toBack(),D+j+S.bufferOuterLabels}function xe(ee,a,l){for(var p=l&&l.bufferInner?parseFloat(l.bufferInner):q.PhyloCanvas.Render.Parameters.binaryChartBufferInner,n=(l&&l.bufferSiblings?l.bufferSiblings*f:0)|(q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings<1?f*q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings:q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings),r=l&&l.thickness?parseFloat(l.thickness):q.PhyloCanvas.Render.Parameters.binaryChartThickness,i=(l&&l.disjointed?l.disjointed:!1)|q.PhyloCanvas.Render.Parameters.binaryChartDisjointed,h=l&&l.isInternal?l.isInternal:!1,g=!0,x,A=0;A<B.length;A++){var I=B[A];if((!B[A+1]||I.chart[a]!==B[A+1].chart[a]||i)&&I.chart[a]!="none"){var N=q.PhyloCanvas.Render.Style.getStyle(I.chart[a],"textSecantBg");if(h)var V=[D-p-r,D-p,(x||I.y)-f/2+(g&&!i?0:n/2),I.y+f/2-(A==B.length-1&&!i?0:n/2)];else var V=[ee+p,ee+p+r,(x||I.y)-f/2+(g&&!i?0:n/2),I.y+f/2-(A==B.length-1&&!i?0:n/2)];if(N.label){var U=q.PhyloCanvas.Render.Style.getStyle(N.labelStyle,"text"),re=pe((V[0]+V[1])/2,(V[2]+V[3])/2),ge=G((V[2]+V[3])/2),ye=F(ge[0]+(U.rotate?parseFloat(U.rotate):0)),ve=F(90-(V[2]+V[3])/2-te);ve>90&&ve<270&&(ye+=180),U["text-anchor"]||(U["text-anchor"]="middle"),I.font_color_hex?N.fill=I.font_color_hex:N.fill="#000000";var _e=d.draw(new q.PhyloCanvas.Render.Text(re[0],re[1],N.label,{attr:U,rotate:ye}));_e[0].toBack()}if(N.borderStyle){var Se=q.PhyloCanvas.Render.Style.getStyle(N.borderStyle,"textSecantBg"),Ae=[D,Se.fullsize?V[1]:V[0],V[2],V[3]],ke=d.draw(new q.PhyloCanvas.Render.Path(me(Ae),{attr:Se}));ke[0].toBack()}var Le=d.draw(new q.PhyloCanvas.Render.Path(me(V),{attr:N}));Le[0].toBack(),x=0,g=!1}else x||(x=I.y),I.chart[a]=="none"&&(x=0);g=!1}return h?ee:ee+p+r}function Ce(ee,a,l){for(var p=[],n,r=l&&l.bufferInner?parseFloat(l.bufferInner):q.PhyloCanvas.Render.Parameters.barChartBufferInner,i=l&&l.height?parseFloat(l.height):q.PhyloCanvas.Render.Parameters.barChartHeight?q.PhyloCanvas.Render.Parameters.barChartHeight:0,h=l&&l.width?parseFloat(l.width)<1?f*parseFloat(l.width):parseFloat(l.width):0|(q.PhyloCanvas.Render.Parameters.barChartWidth<1?f*q.PhyloCanvas.Render.Parameters.barChartWidth:q.PhyloCanvas.Render.Parameters.barChartWidth),g=0,x=0;x<B.length;x++)p.push(B[x].chart[a]);n=Math.max.apply(null,p),g=q.Common.roundFloat(i/n,4);for(var x=0;x<B.length;x++){var A=B[x];A.chart[a]>0&&d.draw(new q.PhyloCanvas.Render.Path(me(ee+r,ee+r+g*A.chart[a],A.y-h/2,A.y+h/2),{attr:q.PhyloCanvas.Render.Style.getStyle(A.chart[a],"barChart")}))}return ee+r+i}return function(ee,a,l){if(this.getCanvasSize=function(){return[M,O]},this.getRoot=function(){return a.getRoot()},a.getValidate()){ee.draw({type:"text",x:0,y:ee.canvasSize[1]/3,text:a.getValidate()});return}d=ee;var p=a.getRoot(),n=a.getNewickLen();if(M=d.canvasSize[0],O=d.canvasSize[1],T=M/2,z=O/2,w=Math.min.apply(null,[M,O]),l=S.bufferRadius>1?S.bufferRadius:q.Common.roundFloat(w*S.bufferRadius,4),Z=S.bufferAngle,u=S.innerCircleRadius,s=S.minHeightBetweenLeaves,te=S.initStartAngle,D=Math.round((w-l-u)/2),C=(D-u)/n,f=q.Common.roundFloat((360-Z)/p.getCountAllChildren(),4),de(p,u),$=D+j+S.bufferOuterLabels,q.PhyloCanvas.Render.Parameters.integratedBinaryCharts.length){var r=q.PhyloCanvas.Render.Parameters.integratedBinaryCharts;for(var i in r){var h=r[i].bufferInner?r[i].bufferInner:q.PhyloCanvas.Render.Parameters.binaryChartBufferInner,g=r[i].thickness?r[i].thickness:q.PhyloCanvas.Render.Parameters.binaryChartThickness;$=xe($-g-h,r[i].chart,r[i])}}if($=X(),q.PhyloCanvas.Render.Parameters.binaryCharts.length){var x=q.PhyloCanvas.Render.Parameters.binaryCharts;for(var i in x)$=xe($,x[i].chart,x[i])}if(q.PhyloCanvas.Render.Parameters.barCharts.length){var A=q.PhyloCanvas.Render.Parameters.barCharts;for(var i in A)$=Ce($,A[i].chart,A[i])}B=[],L=[]}}();q.PhyloCanvas.Render.CircularPhylogram.prototype={};var xt=function(){var d=function(O){if(!!O&&typeof O=="object"){let w=function(){};return w.prototype=O,new w}},S=function(O){var w="";!!O&&typeof O=="string"&&(w=O);var C=/^((-)?([0-9]*)((\.{0,1})([0-9]+))?$)/;return C.test(w)},M={xmlToJSON:function(O){try{let u=function(D){return D.replace(/^\s+|\s+$/gm,"")},v=function(D){var B=/-/g,L=String(D).replace(B,"_");return L},b=function(D,B){if(B.attributes.length>0){var L=B.attributes.length-1,W;D._attributes=[];do W=String(v(B.attributes[L].name)),D._attributes.push(W),D[W]=u(B.attributes[L].value);while(L--)}},T=function(D){D.getNodeByAttribute=function(B,L){if(this.length>0){var W,Z=this.length-1;try{do if(W=this[Z],W[B]==L)return W;while(Z--)}catch($){return!1}return!1}},D.contains=function(B,L){if(this.length>0){var W=this.length-1;try{do if(this[W][B]==L)return!0;while(W--)}catch(Z){return!1}return!1}},D.indexOf=function(B,L){var W=-1;if(this.length>0){var Z=this.length-1;try{do this[Z][B]==L&&(W=Z);while(Z--)}catch($){return-1}return W}},D.SortByAttribute=function(B,L){if(this.length){let W=function($,j){var te=$[j];return te=S(te)?parseFloat(te):te,te},Z=function($,j){var te=0,ae,pe;return ae=W($,B),pe=W(j,B),ae<pe?te=-1:pe<ae&&(te=1),L&&(te=L.toUpperCase()=="DESC"?0-te:te),te};this.sort(Z)}},D.SortByValue=function(B){if(this.length){let L=function(Z){var $=Z.Text;return $=S($)?parseFloat($):$,$},W=function(Z,$){var j=0,te,ae;return te=L(Z),ae=L($),te<ae?j=-1:ae<te&&(j=1),B&&(j=B.toUpperCase()=="DESC"?0-j:j),j};this.sort(W)}},D.SortByNode=function(B,L){if(this.length){let W=function($,j){var te=$[j][0].Text;return te=S(te)?parseFloat(te):te,te},Z=function($,j){var te=0,ae,pe;return ae=W($,B),pe=W(j,B),ae<pe?te=-1:pe<ae&&(te=1),L&&(te=L.toUpperCase()=="DESC"?0-te:te),te};this.sort(Z)}}},z=function(D,B){var L,W,Z,$="";if(!B)return null;if(B.attributes.length>0&&b(D,B),D.Text="",B.hasChildNodes()){var j=B.childNodes.length-1,te=0;do switch(W=B.childNodes[te],W.nodeType){case 1:D._children=[],L=W.localName?W.localName:W.baseName,L=v(L),$!=L&&D._children.push(L),D[L]||(D[L]=[]),Z={},D[L].push(Z),W.attributes.length>0&&b(Z,W),D[L].contains||T(D[L]),$=L,W.hasChildNodes()&&z(Z,W);break;case 3:D.Text+=u(W.nodeValue);break;case 4:D.Text+=W.text?u(W.text):u(W.nodeValue);break}while(te++<j)}};if(!O)return null;var w={};w.typeOf="JSXBObject";var C=O.nodeType==9?O.documentElement:O;if(w.RootName=C.nodeName||"",O.nodeType==3||O.nodeType==4)return O.nodeValue;var f=function(){var D={activate:function(){var B=[];return B&&(B.getNodesByAttribute=function(L,W){if(!!B&&B.length>0){var Z=[],$,j=B.length-1;try{do $=B[j],$[L]===W&&Z.push($);while(j--);return Z.reverse(),Z}catch(te){return null}return null}},B.getNodeByAttribute=function(L,W){if(!!B&&B.length>0){var Z,$=B.length-1;try{do if(Z=B[$],Z[L]===W)return Z;while($--)}catch(j){return null}return null}},B.getNodesByValue=function(L){if(!!B&&B.length>0){var W=[],Z,$=B.length-1;try{do Z=B[$],!!Z.Text&&Z.Text===L&&W.push(Z);while($--);return W}catch(j){return null}return null}},B.contains=function(L,W){if(!!B&&B.length>0){var Z=B.length-1;try{do if(B[Z][L]===W)return!0;while(Z--)}catch($){return!1}return!1}},B.indexOf=function(L,W){var Z=-1;if(!!B&&B.length>0){var $=B.length-1;try{do B[$][L]===W&&(Z=$);while($--)}catch(j){return-1}return Z}},B.SortByAttribute=function(L,W){if(!!B&&B.length>0){let Z=function(j,te){var ae=j[te];return ae=bam.validation.isNumeric(ae)?parseFloat(ae):ae,ae},$=function(j,te){var ae,pe;ae=Z(j,L),pe=Z(te,L);var G=ae<pe?-1:pe<ae?1:0;return W&&(G=W.toUpperCase()==="DESC"?0-G:G),G};B.sort($)}},B.SortByValue=function(L){if(!!B&&B.length>0){let W=function($){var j=$.Text;return j=bam.validation.isNumeric(j)?parseFloat(j):j,j},Z=function($,j){var te,ae;te=W($),ae=W(j);var pe=te<ae?-1:ae<te?1:0;return L&&(pe=L.toUpperCase()==="DESC"?0-pe:pe),pe};B.sort(Z)}},B.SortByNode=function(L,W){if(!!B&&B.length>0){let Z=function(j,te){var ae=j[te][0].Text;return ae=bam.validation.isNumeric(ae)?parseFloat(ae):ae,ae},$=function(j,te){var ae,pe;ae=Z(j,L),pe=Z(te,L);var G=ae<pe?-1:pe<ae?1:0;return W&&(G=W.toUpperCase()==="DESC"?0-G:G),G};B.sort($)}}),B}};return D}(),s=function(){var D=d(f);return D.activate()};return z(w,C),O=null,C=null,w}catch(u){return null}},textToXML:function(O){var w=null;try{w=document.all?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser,w.async=!1}catch(f){throw new Error("XML Parser could not be instantiated")}var C;try{document.all?C=w.loadXML(O)?w:!1:C=w.parseFromString(O,"text/xml")}catch(f){throw new Error("Error parsing XML string")}return C}};return M}();"use strict";var De={};De.defaults={skip_sgml:!1,syncope:!1};var Ft=De.schemes={balinese:{vowels:"ᬅ ᬆ ᬇ ᬈ ᬉ ᬊ ᬋ ᬌ ᬍ ᬎ  ᬏ ᬐ  ᬑ ᬒ".split(" "),vowel_marks:"ᬵ ᬶ ᬷ ᬸ ᬹ ᬺ ᬻ ᬼ ᬽ ᭂ ᬾ ᬿ ᭃ ᭀ ᭁ".split(" "),other_marks:["ᬂ","ᬄ","ᬁ",""],virama:["᭄"],consonants:"ᬓ ᬔ ᬕ ᬖ ᬗ ᬘ ᬙ ᬚ ᬛ ᬜ ᬝ ᬞ ᬟ ᬠ ᬡ ᬢ ᬣ ᬤ ᬥ ᬦ ᬧ ᬨ ᬩ ᬪ ᬫ ᬬ ᬭ ᬮ ᬯ ᬰ ᬱ ᬲ ᬳ".split(" "),symbols:"᭐ ᭑ ᭒ ᭓ ᭔ ᭕ ᭖ ᭗ ᭘ ᭙   ᭞ ᭟".split(" "),zwj:["‍"],skip:[""]},bengali:{vowels:"অ আ ই ঈ উ ঊ ঋ ৠ ঌ ৡ  এ ঐ  ও ঔ".split(" "),vowel_marks:"া ি ী ু ূ ৃ ৄ ৢ ৣ  ে ৈ  ো ৌ".split(" "),other_marks:"ং ঃ ঁ".split(" "),virama:["্"],consonants:"ক খ গ ঘ ঙ চ ছ জ ঝ ঞ ট ঠ ড ঢ ণ ত থ দ ধ ন প ফ ব ভ ম য র ল ব শ ষ স হ ळ ক্ষ জ্ঞ".split(" "),symbols:"০ ১ ২ ৩ ৪ ৫ ৬ ৭ ৮ ৯ ॐ ঽ । ॥".split(" "),other:"    ড ঢ  য ".split(" ")},newa:{vowels:["𑐀","𑐁","𑐂","𑐃","𑐄","𑐅","𑐆","𑐇","𑐈","𑐉","","𑐊","𑐋","","𑐌","𑐍"],vowel_marks:["𑐵","𑐶","𑐷","𑐸","𑐹","𑐺","𑐻","𑐼","𑐽","","𑐾","𑐿","","𑑀","𑑁"],other_marks:["𑑄","𑑅","𑑃","𑑠","𑑡",""],virama:["𑑂"],consonants:["𑐎","𑐏","𑐐","𑐑","𑐒","𑐔","𑐕","𑐖","𑐗","𑐘","𑐚","𑐛","𑐜","𑐝","𑐞","𑐟","𑐠","𑐡","𑐢","𑐣","𑐥","𑐦","𑐧","𑐨","𑐩","𑐫","𑐬","𑐮","𑐰","𑐱","𑐲","𑐳","𑐴"],symbols:["𑑐","𑑑","𑑒","𑑓","𑑔","𑑕","𑑖","𑑗","𑑘","𑑙","𑑉","𑑇","𑑋","𑑌"]},sarada:{vowels:["𑆃","𑆄","𑆅","𑆆","𑆇","𑆈","𑆉","𑆊","𑆋","𑆌","","𑆍","𑆎","","𑆏","𑆐"],vowel_marks:["𑆳","𑆴","𑆵","𑆶","𑆷","𑆸","𑆹","𑆺","𑆻","","𑆼","𑆽","","𑆾","𑆿"],other_marks:["𑆁","𑆂","𑆀","𑇂","𑇃"],virama:["𑇀"],consonants:["𑆑","𑆒","𑆓","𑆔","𑆕","𑆖","𑆗","𑆘","𑆙","𑆚","𑆛","𑆜","𑆝","𑆞","𑆟","𑆠","𑆡","𑆢","𑆣","𑆤","𑆥","𑆦","𑆧","𑆨","𑆩","𑆪","𑆫","𑆬","𑆮","𑆯","𑆰","𑆱","𑆲","𑆭"],symbols:["𑇐","𑇑","𑇒","𑇓","𑇔","𑇕","𑇖","𑇗","𑇘","𑇙","𑇄","𑇁","𑇅","𑇆"]},devanagari:{vowels:"अ आ इ ई उ ऊ ऋ ॠ ऌ ॡ ऎ ए ऐ ऒ ओ औ ए ऐ ओ".split(" "),vowel_marks:"ा ि ी ु ू ृ ॄ ॢ ॣ ॆ े ै ॊ ो ौ ॎ ॎे ॎा ॎो ॆ ॏ".split(" "),other_marks:"ं ः ँ ᳵ ᳶ ꣽ".split(" "),virama:["्"],consonants:"क ख ग घ ङ च छ ज झ ञ ट ठ ड ढ ण त थ द ध न प फ ब भ म य र ल व श ष स ह ळ".split(" "),symbols:"० १ २ ३ ४ ५ ६ ७ ८ ९ ॐ ऽ । ॥".split(" "),zwj:["‍"],skip:[""],accent:["॑","॒"],combo_accent:"ः॑ ः॒ ं॑ ं॒".split(" "),candra:["ॅ"],other:"क़ ख़ ग़ ज़ ड़ ढ़ फ़ य़ ऱ".split(" ")},gujarati:{vowels:"અ આ ઇ ઈ ઉ ઊ ઋ ૠ ઌ ૡ  એ ઐ  ઓ ઔ".split(" "),vowel_marks:"ા િ ી ુ ૂ ૃ ૄ ૢ ૣ  ે ૈ  ો ૌ".split(" "),other_marks:"ં ઃ ઁ".split(" "),virama:["્"],consonants:"ક ખ ગ ઘ ઙ ચ છ જ ઝ ઞ ટ ઠ ડ ઢ ણ ત થ દ ધ ન પ ફ બ ભ મ ય ર લ વ શ ષ સ હ ળ".split(" "),symbols:"૦ ૧ ૨ ૩ ૪ ૫ ૬ ૭ ૮ ૯ ૐ ઽ ૤ ૥".split(" "),candra:["ૅ"]},gurmukhi:{vowels:"ਅ ਆ ਇ ਈ ਉ ਊ      ਏ ਐ  ਓ ਔ".split(" "),vowel_marks:"ਾ ਿ ੀ ੁ ੂ      ੇ ੈ  ੋ ੌ".split(" "),other_marks:"ਂ ਃ ਁ".split(" "),virama:["੍"],consonants:"ਕ ਖ ਗ ਘ ਙ ਚ ਛ ਜ ਝ ਞ ਟ ਠ ਡ ਢ ਣ ਤ ਥ ਦ ਧ ਨ ਪ ਫ ਬ ਭ ਮ ਯ ਰ ਲ ਵ ਸ਼ ਸ਼ ਸ ਹ ਲ਼".split(" "),symbols:"੦ ੧ ੨ ੩ ੪ ੫ ੬ ੭ ੮ ੯ ॐ ऽ । ॥".split(" "),other:" ਖ ਗ ਜ ਡ  ਫ  ".split(" ")},kannada:{vowels:"ಅ ಆ ಇ ಈ ಉ ಊ ಋ ೠ ಌ ೡ ಎ ಏ ಐ ಒ ಓ ಔ".split(" "),vowel_marks:"ಾ ಿ ೀ ು ೂ ೃ ೄ ೢ ೣ ೆ ೇ ೈ ೊ ೋ ೌ".split(" "),other_marks:"ಂ ಃ ँ".split(" "),virama:["್"],consonants:"ಕ ಖ ಗ ಘ ಙ ಚ ಛ ಜ ಝ ಞ ಟ ಠ ಡ ಢ ಣ ತ ಥ ದ ಧ ನ ಪ ಫ ಬ ಭ ಮ ಯ ರ ಲ ವ ಶ ಷ ಸ ಹ ಳ".split(" "),symbols:"೦ ೧ ೨ ೩ ೪ ೫ ೬ ೭ ೮ ೯ ಓಂ ಽ । ॥".split(" "),other:"      ಫ  ಱ".split(" ")},malayalam:{vowels:"അ ആ ഇ ഈ ഉ ഊ ഋ ൠ ഌ ൡ എ ഏ ഐ ഒ ഓ ഔ".split(" "),vowel_marks:"ാ ി ീ ു ൂ ൃ ൄ ൢ ൣ െ േ ൈ ൊ ോ ൌ".split(" "),other_marks:"ം ഃ ँ".split(" "),virama:["്"],consonants:"ക ഖ ഗ ഘ ങ ച ഛ ജ ഝ ഞ ട ഠ ഡ ഢ ണ ത ഥ ദ ധ ന പ ഫ ബ ഭ മ യ ര ല വ ശ ഷ സ ഹ ള".split(" "),symbols:"൦ ൧ ൨ ൩ ൪ ൫ ൬ ൭ ൮ ൯ ഓം ഽ । ॥".split(" "),other:"        റ".split(" ")},oriya:{vowels:"ଅ ଆ ଇ ଈ ଉ ଊ ଋ ୠ ଌ ୡ  ଏ ଐ  ଓ ଔ".split(" "),vowel_marks:"ା ି ୀ ୁ ୂ ୃ ୄ ୢ ୣ  େ ୈ  ୋ ୌ".split(" "),other_marks:"ଂ ଃ ଁ".split(" "),virama:["୍"],consonants:"କ ଖ ଗ ଘ ଙ ଚ ଛ ଜ ଝ ଞ ଟ ଠ ଡ ଢ ଣ ତ ଥ ଦ ଧ ନ ପ ଫ ବ ଭ ମ ଯ ର ଲ ଵ ଶ ଷ ସ ହ ଳ".split(" "),symbols:"୦ ୧ ୨ ୩ ୪ ୫ ୬ ୭ ୮ ୯ ଓଂ ଽ । ॥".split(" "),other:"    ଡ ଢ  ଯ ".split(" ")},tamil:{vowels:"அ ஆ இ ஈ உ ஊ     எ ஏ ஐ ஒ ஓ ஔ".split(" "),vowel_marks:"ா ி ீ ு ூ     ெ ே ை ொ ோ ௌ".split(" "),other_marks:"ஂ ஃ ".split(" "),virama:["்"],consonants:"க க க க ங ச ச ஜ ச ஞ ட ட ட ட ண த த த த ந ப ப ப ப ம ய ர ல வ ஶ ஷ ஸ ஹ ள".split(" "),symbols:"௦ ௧ ௨ ௩ ௪ ௫ ௬ ௭ ௮ ௯ ௐ ऽ । ॥".split(" "),other:"        ற".split(" ")},telugu:{vowels:"అ ఆ ఇ ఈ ఉ ఊ ఋ ౠ ఌ ౡ ఎ ఏ ఐ ఒ ఓ ఔ".split(" "),vowel_marks:"ా ి ీ ు ూ ృ ౄ ౢ ౣ ె ే ై ొ ో ౌ".split(" "),other_marks:"ం ః ఁ ᳲ ᳲ".split(" "),virama:["్"],consonants:"క ఖ గ ఘ ఙ చ ఛ జ ఝ ఞ ట ఠ డ ఢ ణ త థ ద ధ న ప ఫ బ భ మ య ర ల వ శ ష స హ ళ".split(" "),symbols:"౦ ౧ ౨ ౩ ౪ ౫ ౬ ౭ ౮ ౯ ఓం ఽ । ॥".split(" "),other:"        ఱ".split(" ")},iast:{vowels:"a ā i ī u ū ṛ ṝ ḷ ḹ ẽ e ai õ o au ê aî ô aû".split(" "),other_marks:["ṃ","ḥ","m̐","ẖ","ḫ","oḿ"],virama:[""],consonants:"k kh g gh ṅ c ch j jh ñ ṭ ṭh ḍ ḍh ṇ t th d dh n p ph b bh m y r l v ś ṣ s h ḻ".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 oṁ ' | ||".split(" ")},iso:{vowels:"a ā i ī u ū r̥ r̥̄ l̥ l̥̄ ẽ e ai õ o au ê aî ô aû".split(" "),other_marks:["ṁ","ḥ","m̐","oḿ"],virama:[""],consonants:"k kh g gh ṅ c ch j jh ñ ṭ ṭh ḍ ḍh ṇ t th d dh n p ph b bh m y r l v ś ṣ s h ḷ kṣ jñ".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 om̐ ' | ||".split(" ")},itrans:{vowels:"a A i I u U RRi RRI LLi LLI  e ai  o au".split(" "),other_marks:["M","H",".N"],virama:[""],consonants:"k kh g gh ~N ch Ch j jh ~n T Th D Dh N t th d dh n p ph b bh m y r l v sh Sh s h L kSh j~n".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 OM .a | ||".split(" "),candra:[".c"],zwj:["{}"],skip:"_",accent:["\\'","\\_"],combo_accent:"\\'H \\_H \\'M \\_M".split(" "),other:"q K G z .D .Dh f Y R".split(" ")},hk:{vowels:"a A i I u U R RR lR lRR  e ai  o au".split(" "),other_marks:"M H ~".split(" "),virama:[""],consonants:"k kh g gh G c ch j jh J T Th D Dh N t th d dh n p ph b bh m y r l v z S s h L kS jJ".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 OM ' | ||".split(" ")},slp1:{vowels:"a A i I u U f F x X ẽ e E õ o O ê Ê ô Ô".split(" "),other_marks:"M H m̐ ẖ ḫ oḿ".split(" "),virama:[""],consonants:"k K g G N c C j J Y w W q Q R t T d D n p P b B m y r l v S z s h L".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 oṁ ' | ||".split(" ")},velthuis:{vowels:"a aa i ii u uu .r .rr .li .ll  e ai  o au".split(" "),other_marks:".m .h ".split(" "),virama:[""],consonants:'k kh g gh "n c ch j jh ~n .t .th .d .d .n t th d dh n p ph b bh m y r l v ~s .s s h L k.s j~n'.split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 o.m ' | ||".split(" ")},wx:{vowels:"a A i I u U q Q L   e E  o O".split(" "),other_marks:"M H z".split(" "),virama:[""],consonants:"k K g G f c C j J F t T d D N w W x X n p P b B m y r l v S R s h  kR jF".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 oM ' | ||".split(" ")}},x1={},Qt={iast:{ṛ:["r̥"],ṃ:["ṁ"]},itrans:{A:["aa"],I:["ii","ee"],U:["uu","oo"],RRi:["R^i"],RRI:["R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],"~N":["N^"],ch:["c"],Ch:["C","chh"],"~n":["JN"],v:["w"],Sh:["S","shh"],kSh:["kS","x"],"j~n":["GY","dny"],OM:["AUM"],"\\_":["\\`"],"\\_H":["\\`H"],"\\'M":["\\'.m","\\'.n"],"\\_M":"\\_.m \\_.n \\`M \\`.m \\`.n".split(" "),".a":["~"],"|":["."],"||":[".."],z:["J"]}},Lt={};De.isRomanScheme=function(d){return x1.hasOwnProperty(d)};De.addBrahmicScheme=function(d,S){De.schemes[d]=S};De.addRomanScheme=function(d,S){"vowel_marks"in S||(S.vowel_marks=S.vowels.slice(1)),De.schemes[d]=S,x1[d]=!0};var b1=function(d){var S={};for(var M in d)!d.hasOwnProperty(M)||(S[M]=d[M].slice(0));return S};(function(){var d=Ft.kolkata=b1(Ft.iast),S="iast itrans hk kolkata slp1 velthuis wx".split(" ");d.vowels="a ā i ī u ū ṛ ṝ ḷ ḹ e ē ai o ō au".split(" ");for(var M=0,O;O=S[M];M++)De.addRomanScheme(O,Ft[O]);var w=b1(Ft.itrans);w.vowels="a A i I u U Ri RRI LLi LLi e E ai o O au".split(" "),w.vowel_marks=w.vowels.slice(1),Qt.itrans_dravidian=Qt.itrans,De.addRomanScheme("itrans_dravidian",w)})();var Q1=function(d,S){var M=Qt[d]||{},O={},w=De.schemes[d],C={},f=[],s={},u=De.schemes[S];for(var v in w)if(!!w.hasOwnProperty(v)){var b=w[v],T=u[v];if(T!==void 0)for(var z=0;z<b.length;z++){var D=b[z],B=T[z],L=M[D]||[],W=L.length,Z=0;for(f.push(D.length),Z=0;Z<W;Z++)f.push(L[Z].length);if(v==="vowel_marks"||v==="virama")for(s[D]=B,Z=0;Z<W;Z++)s[L[Z]]=B;else{for(C[D]=B,Z=0;Z<W;Z++)C[L[Z]]=B;if(v==="consonants"||v==="other")for(O[D]=B,Z=0;Z<W;Z++)O[L[Z]]=B}}}return{consonants:O,fromRoman:De.isRomanScheme(d),letters:C,marks:s,maxTokenLength:Math.max.apply(Math,f),toRoman:De.isRomanScheme(S),virama:u.virama}},K1=function(d,S,M){for(var O=[],w=S.consonants,C=d.length,f=!1,s=S.letters,u=S.marks,v=S.maxTokenLength,b=M.skip_sgml,T=M.syncope,z,D,B="",L=S.toRoman,W=S.virama,Z=!1,$=!1,j=!1,te=0,ae;(ae=d.charAt(te))||B;te++){var pe=v-B.length;if(!(pe>0&&te<C&&(B+=ae,pe>1)))for(var G=0;G<v;G++){var he=B.substr(0,v-G);if(Z===!0)Z=he!==">";else if(he==="<")Z=b;else if(he==="##"){j=!j,B=B.substr(2);break}if($=Z||j,(z=s[he])!==void 0&&!$){L?O.push(z):(f?(D=u[he])?O.push(D):he!=="a"&&(O.push(W),O.push(z)):O.push(z),f=he in w),B=B.substr(v-G);break}else G===v-1&&(f&&(f=!1,T||O.push(W)),O.push(he),B=B.substr(1))}}return f&&!T&&O.push(W),O.join("")},Z1=function(d,S){for(var M=[],O=S.consonants,w=!1,C=!1,f=S.letters,s=S.marks,u,v=S.toRoman,b=!1,T=0,z;z=d.charAt(T);T++){if(z==="#"){w?(b=!b,w=!1):w=!0,C&&(M.push("a"),C=!1);continue}else if(b){M.push(z);continue}(u=s[z])!==void 0?(M.push(u),C=!1):(w&&(M.push("#"),w=!1),C&&(M.push("a"),C=!1),(u=f[z])?(M.push(u),C=v&&z in O):M.push(z))}return C&&M.push("a"),M.join("")};De.t=function(d,S,M,O){O=O||{};var w=Lt.options||{},C=De.defaults,f=Lt.from===S&&Lt.to===M,s;for(var u in C)if(C.hasOwnProperty(u)){var v=C[u];u in O&&(v=O[u]),O[u]=v,v!==w[u]&&(f=!1)}return f?s=Lt.map:(s=Q1(S,M,O),Lt={from:S,map:s,options:O,to:M}),S==="itrans"&&(d=d.replace(/\{\\m\+\}/g,".h.N"),d=d.replace(/\.h/g,""),d=d.replace(/\\([^'`_]|$)/g,"##$1##")),s.fromRoman?K1(d,s,O):Z1(d,s,O)};var w1=function(){let d=[{name:"valapalagilaka",search:"ṙ",replace:()=>"r"},{name:"short e",search:"ẽ",replace:()=>"e"},{name:"short o",search:"õ",replace:()=>"o"},{name:"pṛṣṭhamātrā e",search:"ê",replace:()=>"e"},{name:"pṛṣṭhamātrā o",search:"ô",replace:()=>"o"},{name:"pṛṣṭhamātrā ai",search:"Ê",replace:()=>"E"},{name:"pṛṣṭhamātrā au",search:"Ô",replace:()=>"O"},{name:"candrabindu",search:"m̐",replace:()=>"M"},{name:"oṃkāras",search:"oṁ",replace:()=>"oM"},{name:"additional punctuation",search:"[()\\[\\],;?!|_\\-=+\\d.'\\/]+",replace:()=>""},{name:"geminated aspirated consonants",search:"(?:kK|gG|cC|jJ|wW|qQ|tT|dD|pP|bB)",replace:f=>f[0].slice(-1)},{name:"geminated m after h",search:"(?:Mhm|hmm)",replace:()=>"hm"},{name:"geminated t",search:"([rfi]|p[aA])tt|tt(?=[rvy]\\S)",replace:f=>`${f[1]}t`},{name:"geminated consonants after r",search:"([rf]\\s*)([kgcjwqdpbRnmyvl])\\2{1,2}",replace:f=>`${f[1]}${f[2]}`},{name:"final nasal variants",search:"(?:M[lSs]|nn)(?!\\S)",replace:()=>"n"},{name:"internal nasal variants",search:"[mnNYR](?=[pPbBmdDtTnwWqQcCjJkKgG])",replace:()=>"M"},{name:"final anusvāra variants",search:"M?[mN](?!\\S)|n(?=\\s+[tdn])|Y(?=\\s+[jc])",replace:()=>"M"},{name:"visarga aḥ before voiced consonants",search:"(?<!\\sB)(?:a[Hr]|[o])(?=\\s+['gGjJqQdDnbBmrylvh])",replace:()=>"aH"},{name:"visarga aḥ before vowels",search:"aH(?=\\s+[AiIeuUof])",replace:()=>"a"},{name:"visarga aḥ before unvoiced consonants and space + anusvāra",search:"o\\s+(?=[kKcCwWtTpPszSM])",replace:()=>"aH a"},{name:"visarga āḥ variants",search:"AH(?=\\s+[aAiIeEuUogGjJqQdDbBnmyrlvh])",replace:()=>"A"},{name:"other visarga variants",search:"H?[rszS](?!\\S)",replace:()=>"H"},{name:"avagrahas",search:"'",replace:()=>"a"},{name:"internal visarga variants",search:"z(?=[kK])|s(?=s)",replace:()=>"H"},{name:"final au/āv",search:"Av(?!\\S)",replace:()=>"O"},{name:"final su",search:"(?<=[sz])v(?=\\s+[aAiIuUoOeE])",replace:()=>"u"},{name:"final i",search:"i(?=\\s+[aAuUoOeE])",replace:()=>"y"},{name:"kcch/kś",search:"k(\\s*)(?:S|c?C)",replace:f=>`k${f[1]}S`},{name:"cś/tś",search:"[tc](\\s*)S",replace:f=>`c${f[1]}C`},{name:"cch/ch",search:"([aAiIuUeEoO])C",replace:f=>`${f[1]}cC`},{name:"final t + hi",search:"d(\\s+)D(?=[iy](?:\\s|$))",replace:f=>`t${f[1]}h`},{name:"final t + voiced syllable",search:"d(?=(?:\\s+[aAiIeEuUoOgGdDbByrv]|\\s*$))",replace:()=>"t"},{name:"final t + n/m",search:"([ai])n(?=\\s+[nm])",replace:f=>`${f[1]}t`},{name:"final t + c/j",search:"j(?=\\s+j)|c(?=\\s+c)",replace:()=>"t"},{name:"i/y + vowel",search:"y(?=\\s+[aAuUeEoO])",replace:()=>"i"},{name:"bhd for bdh",search:"Bd",replace:()=>"bD"}],S=[{name:"valapalagilaka",search:"ṙ",replace:()=>"r"},{name:"short e",search:"ẽ",replace:()=>"e"},{name:"short o",search:"õ",replace:()=>"o"},{name:"pṛṣṭhamātrā e",search:"ê",replace:()=>"e"},{name:"pṛṣṭhamātrā o",search:"ô",replace:()=>"o"},{name:"pṛṣṭhamātrā ai",search:"aî",replace:()=>"ai"},{name:"pṛṣṭhamātrā au",search:"aû",replace:()=>"au"},{name:"candrabindu",search:"m̐",replace:()=>"ṃ"},{name:"oṃkāras",search:"oṁ",replace:()=>"oṃ"},{name:"additional punctuation",search:"[()\\[\\],;?!|_\\-=+\\d.'\\/]+",replace:()=>""},{name:"geminated aspirated consonants",search:"([kgcjṭḍtdpb]){2}h",replace:f=>`${f[1]}h`},{name:"geminated m after h",search:"(?:ṃhm|hmm)",replace:()=>"hm"},{name:"geminated t",search:"([rṛi]|p[aā])tt|tt(?=[rvy]\\S)",replace:f=>`${f[1]}t`},{name:"geminated consonants after r",search:"([rṛ]\\s*)([kgcjṭḍṇtdnpbmyvl])\\2{1,2}",replace:f=>`${f[1]}${f[2]}`},{name:"final nasal variants",search:"(?:ṃ[lṣs]|nn)(?!\\S)",replace:()=>"n"},{name:"internal nasal variants",search:"[mnṅñṇ](?=[pbmdtnṭḍcjkg])",replace:()=>"ṃ"},{name:"final anusvāra variants",search:"ṃ?[mṅ](?!\\S)|n(?=\\s+[tdn])|ñ(?=\\s+[jc])",replace:()=>"ṃ"},{name:"visarga aḥ before voiced consonants",search:"(?:a[ḥr]|[o])(?=\\s+['gjḍdnbmyrlvh])",replace:()=>"aḥ"},{name:"visarga aḥ before vowels",search:"aḥ(?=\\s+[āiīeuūoṛ])",replace:()=>"a"},{name:"visarga aḥ before unvoiced consonants and space + anusvāra",search:"o\\s+(?=[kcṭtpśṣsṃ])",replace:()=>"aḥ a"},{name:"visarga āḥ variants",search:"āḥ(?=\\s+[aāiīeuūogjḍdnbmyrlvh])",replace:()=>"ā"},{name:"other visarga variants",search:"ḥ?[rśṣs](?!\\S)",replace:()=>"ḥ"},{name:"avagrahas",search:"'",replace:()=>"a"},{name:"internal visarga variants",search:"ṣ(?=k)|s(?=s)",replace:()=>"s"},{name:"final au/āv",search:"āv(?!\\S)",replace:()=>"au"},{name:"final su",search:"(?<=[sṣ])v(?=\\s+[aāiīuūoe])",replace:()=>"u"},{name:"final i",search:"i(?=\\s+[aāuūeo])",replace:()=>"y"},{name:"kcch/kś",search:"k(\\s*)(?:ś|c?ch)",replace:f=>`k${f[1]}ś`},{name:"cś/tś",search:"[tc](\\s*)ś",replace:f=>`c${f[1]}ch`},{name:"cch/ch",search:"([aāiīuūeo])ch",replace:f=>`${f[1]}cch`},{name:"final t + hi",search:"d(\\s+)dh(?=[iy](?:\\s|$))",replace:f=>`t${f[1]}h`},{name:"final t + voiced syllable",search:"d(?=(?:\\s+[aāiīeuūogdbyrv]|\\s*$))",replace:()=>"t"},{name:"final t + n/m",search:"([ai])n(?=\\s+[nm])",replace:f=>`${f[1]}t`},{name:"final t + c/j",search:"j(?=\\s+j)|c(?=\\s+c)",replace:()=>"t"},{name:"i/y + vowel",search:"y(?=\\s+[aāuūeo])",replace:()=>"i"},{name:"bhd for bdh",search:"bhd",replace:()=>"bdh"}],M={none:{name:"remove spaces",search:"\\s",replace:()=>""},collapse:{name:"collapse spaces",search:"\\s+",replace:()=>" "}},O=function(f,s){let u=s.join(""),v=[],b=[...u.matchAll(f.search)],T=0,z=null;for(let D of s){let B=T+D.length,L=D,W=0;if(z)if(z.length<=D.length)L=w(D,0,z.length,z.text),W=z.text.length-z.length,z=null;else{L=z.text.slice(0,D.length);let $=z.text.slice(D.length);z={length:z.length-D.length,text:$};continue}for(;b.length>0&&b[0].index<B;){let Z=b.shift(),$=Z.index-T+W,j=f.replace(Z);if(Z.index+Z[0].length<B)L=w(L,$,Z[0].length,j),W=W+j.length-Z[0].length;else{let te=D.length-$+W,ae=j.slice(0,te);L=L.slice(0,$)+ae;let pe=j.slice(te);z={length:Z[0].length-te,text:pe}}}v.push(L),T=B}return v},w=function(f,s,u,v){return f.slice(0,s)+v+f.slice(s+u)};return function(f){let s=f.map(u=>De.t(u,"iast","slp1"));for(let u of[...d,M.none])s=O(u,s);return s.map(u=>De.t(u,"slp1","iast"))}}();var Bt={smush:function(d,S){return d.toLowerCase().replace(/([ḍdrmvynhs]) ([aāiīuūṛeoéó])/g,"$1$2"+S).replace(/([kgcjṭḍtdpb]) h/g,"$1‌"+S+"h").replace(/([kgcjñḍtdnpbmrlyvśṣsṙ]) ([kgcjṭḍtdnpbmyrlvśṣshḻ])/g,"$1"+S+"$2").replace(/([oóeéā]) ([ṃ'])/g,"$1"+S+"$2").replace(/^ṃ/,"'‍ṃ").replace(/^ḥ/,"'‍ḥ").replace(/^_y/,"'‍y").replace(/ü/g,"‌u").replace(/ï/g,"‌i").replace(/_{1,2}(?=\s*)/g,function(M){if(M==="__")return"‍";if(M==="_")return"‌"})},iast:function(d,S){let M=S||"devanagari";return De.t(d,M,"iast",{skip_sgml:!0})},devanagari:function(d,S){let M=S||"",O={skip_sgml:!0},w=d.replace(/ṙ/g,"r").replace(/^_ā/,"ऽ‍ा"),C=Bt.smush(w,M);return De.t(C,"iast","devanagari",O).replace(/¯/g,"ꣻ")},malayalam:function(d,S){let M=S||"",O={skip_sgml:!0},w={ക:"ൿ",ത:"ൽ",ന:"ൻ",മ:"ൔ",ര:"ർ"},C=d.replace(/^_ā/,"ഽ‍ാ"),f=Bt.smush(C,M).replace(/e/g,"ẽ").replace(/o/g,"õ").replace(/ṙ/g,"r").replace(/ṁ/g,"ṃ").replace(/ḿ/g,"ṃ").replace(/í/g,"i").replace(/ú/g,"u").replace(/é/g,"e");return De.t(f,"iast","malayalam",O).replace(/(^|[^്])ര്(?=\S)/g,"$1ൎ").replace(/([കതനമര])്(?![^\s\u200C,—’―])/g,function(u,v){return w[v]})},grantha:function(d,S){let M=S||"",O={skip_sgml:!0},w=new Map([["സ",""],["ര","ർ"],["യ",""],["ച",""],["ദ",""],["ശ",""]]),C=new RegExp("(["+[...w.keys()].join("")+"])്(?![^‌ ,—’―])","g"),f=d.replace(/^_ā/,"ഽ‍ാ"),s=Bt.smush(f,M).replace(/e/g,"ẽ").replace(/o/g,"õ").replace(/ṙ/g,"r").replace(/ṁ/g,"ṃ").replace(/ḿ/g,"ṃ").replace(/í/g,"i").replace(/ú/g,"u").replace(/é/g,"e");return De.t(s,"iast","malayalam",O).replace(/(^|[^്])ര്(?=\S)/g,"$1ൎ").replace(C,(v,b)=>w.get(b)).replace(/ക്ഷി/g,"க்ஷி")},telugu:function(d,S){var M=S||"";let O={skip_sgml:!0},w=d.replace(/^_ā/,"ఽ‍ా"),C=Bt.smush(w,M).replace(/e/g,"ẽ").replace(/o/g,"õ").replace(/ṙ/g,"r‍").replace(/ṁ/g,"ṃ").replace(/ḿ/g,"ṃ").replace(/í/g,"i").replace(/ú/g,"u").replace(/é/g,"e");return De.t(C,"iast","telugu",O)}},Ot=function(d,S,M=!1,O="sa"){let w=Bt[S],C=d.cloneNode(!0),f=function(s,u){let v=s.childNodes;for(let b of v)if(b.nodeType!==8){if(b.nodeType===3){if(u!=="sa")continue;b.data=w(b.data,M)}else if(b.hasChildNodes()){let T=b.getAttribute("lang")||u;T==="sa"&&b.classList.contains("subst")&&en(b,S),f(b,T)}}};return f(C,O),C},C1=function(d,S=!1){if(d.nodeType===3)return d;let M=document.createTreeWalker(d,NodeFilter.SHOW_TEXT,null,!1);if(S){let O;for(;M.nextNode();)O=M.currentNode;return O}else return M.nextNode},en=function(d,S){if(d.firstChild.nodeType!==3&&d.lastChild.nodeType!==3)return;let M=d.childNodes,O=/^[aāiīuūeoṛṝḷṃḥ]/,w=/[kgṅcjñṭḍṇtdnpbmyrlvṣśsh]$/,C=["ā","i","ī","e","o","_","ai","au"],f=["h","k","ś","y","g","gh","c","ch","jh","ṭh","ḍ","ḍh","t","th","d","dh","n","p","ph","bh","m","r","ḻ","v","ṣ","s"];var s=!1,u=[],v=[];let b=M[0].nodeType===3;for(let T of M){if(T.nodeType>3)continue;let z=T.textContent.trim();if(z!==""){if(z==="a"){T.textContent="";continue}if(z.match(w)){let D=C1(T,!0);D.textContent=D.textContent.replace(/\s+$/,"")+"a",S==="telugu"&&f.indexOf(z)>=0&&u.push(T)}if(T===d.lastChild&&T.nodeType===3){let D=document.createElement("span");D.appendChild(T.cloneNode(!1)),d.replaceChild(D,T),T=D,T.classList.add("aalt")}else b&&z.match(O)&&T.classList.add("aalt");switch(S){case"devanagari":(z==="i"||z==="é")&&v.unshift(T);break;case"grantha":case"malayalam":if(z==="e"||z==="ai")v.unshift(T);else if(z==="o"){let D=T.cloneNode(!0);k1("o","e",D),v.unshift(D),k1("o","ā",T)}break;case"telugu":!s&&C.indexOf(z)>=0&&(s=!0);break}}}for(let T of v)d.insertBefore(T,d.firstChild);if(s)for(let T of u){let z=C1(T,!0);z.textContent=z.textContent+"‍్"}},k1=function(d,S,M){let O=document.createTreeWalker(M,NodeFilter.SHOW_TEXT,null,!1);for(;O.nextNode();)O.currentNode.textContent.match(d)&&(O.currentNode.textContent=S)};"use strict";var tn=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,10,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,116,101,105,45,99,46,111,114,103,47,110,115,47,49,46,48,34,10,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,116,101,120,116,34,32,111,109,105,116,45,120,109,108,45,100,101,99,108,97,114,97,116,105,111,110,61,34,121,101,115,34,47,62,10,32,32,32,32,60,120,115,108,58,115,116,114,105,112,45,115,112,97,99,101,32,101,108,101,109,101,110,116,115,61,34,42,34,47,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,47,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,112,97,114,97,91,99,111,110,116,101,110,116,45,115,116,121,108,101,93,91,110,111,116,40,116,101,120,116,40,41,41,93,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,110,111,114,109,97,108,105,122,101,45,115,112,97,99,101,40,46,41,34,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,105,67,111,114,112,117,115,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,84,69,73,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,120,115,108,58,116,101,120,116,62,44,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,120,97,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,120,116,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,119,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,34,60,47,120,115,108,58,116,101,120,116,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,60,120,115,108,58,116,101,120,116,62,34,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,60,33,45,45,120,115,108,58,105,102,32,116,101,115,116,61,34,110,111,116,40,112,111,115,105,116,105,111,110,40,41,32,61,32,108,97,115,116,40,41,41,34,45,45,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,44,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,60,33,45,45,47,120,115,108,58,105,102,45,45,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,33,45,45,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,110,111,100,101,40,41,124,64,42,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,45,45,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),_1=tn;"use strict";var nn=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,10,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,116,101,105,45,99,46,111,114,103,47,110,115,47,49,46,48,34,10,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,32,32,32,32,60,120,115,108,58,111,117,116,112,117,116,32,105,110,100,101,110,116,61,34,121,101,115,34,47,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,112,97,114,97,91,99,111,110,116,101,110,116,45,115,116,121,108,101,93,91,110,111,116,40,116,101,120,116,40,41,41,93,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,110,111,114,109,97,108,105,122,101,45,115,112,97,99,101,40,46,41,34,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,105,72,101,97,100,101,114,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,120,101,110,111,68,97,116,97,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,84,69,73,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,120,116,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,119,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,60,33,45,45,120,115,108,58,105,102,32,116,101,115,116,61,34,110,111,116,40,112,111,115,105,116,105,111,110,40,41,32,61,32,108,97,115,116,40,41,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,45,45,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,110,111,100,101,40,41,124,64,42,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),S1=nn;"use strict";var rn=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,116,101,105,45,99,46,111,114,103,47,110,115,47,49,46,48,34,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,104,116,109,108,34,47,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,105,67,111,114,112,117,115,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,116,97,98,108,101,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,84,69,73,34,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,120,116,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,116,114,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,46,46,47,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,46,46,47,64,99,111,114,114,101,115,112,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,114,101,101,110,97,109,101,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,46,46,47,64,99,111,114,114,101,115,112,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,111,100,101,110,97,109,101,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,46,46,47,64,115,101,108,101,99,116,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,116,104,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,115,99,111,112,101,34,62,114,111,119,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,114,97,103,103,97,98,108,101,34,62,116,114,117,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,46,46,47,64,110,34,47,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,119,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,116,100,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,119,104,101,110,32,116,101,115,116,61,34,112,97,114,101,110,116,58,58,120,58,99,108,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,119,104,101,110,32,116,101,115,116,61,34,112,111,115,105,116,105,111,110,40,41,32,61,32,39,49,39,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,32,103,114,111,117,112,45,115,116,97,114,116,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,119,104,101,110,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,119,104,101,110,32,116,101,115,116,61,34,112,111,115,105,116,105,111,110,40,41,32,61,32,108,97,115,116,40,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,32,103,114,111,117,112,45,101,110,100,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,119,104,101,110,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,32,103,114,111,117,112,45,105,110,116,101,114,110,97,108,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,119,104,101,110,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,108,101,109,109,97,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,111,114,109,97,108,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,108,101,109,109,97,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,101,109,101,110,100,101,100,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,101,109,101,110,100,101,100,34,62,116,114,117,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,105,110,115,105,103,110,105,102,105,99,97,110,116,61,39,116,114,117,101,39,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,105,110,115,105,103,110,105,102,105,99,97,110,116,34,62,116,114,117,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,98,105,110,97,114,121,61,39,116,114,117,101,39,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,98,105,110,97,114,121,34,62,116,114,117,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),A1=rn;"use strict";var sn=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,34,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,104,116,109,108,34,32,111,109,105,116,45,120,109,108,45,100,101,99,108,97,114,97,116,105,111,110,61,34,121,101,115,34,47,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,112,98,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,104,114,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,105,109,103,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,101,100,105,116,98,117,116,116,111,110,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,115,114,99,34,62,101,100,105,116,95,105,99,111,110,46,115,118,103,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,104,51,32,99,108,97,115,115,61,34,112,98,34,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,104,51,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,98,34,62,10,60,98,114,32,47,62,10,60,115,112,97,110,32,99,108,97,115,115,61,34,108,98,34,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,102,119,34,62,10,60,100,105,118,32,99,108,97,115,115,61,34,102,119,34,62,40,60,105,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,116,121,112,101,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,112,108,97,99,101,34,47,62,60,47,105,62,41,58,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,60,47,100,105,118,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,105,118,91,64,116,121,112,101,61,39,115,116,111,114,121,39,93,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,115,116,111,114,121,34,32,108,97,110,103,61,34,101,110,34,62,40,115,116,111,114,121,32,110,111,46,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,117,109,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,99,105,116,121,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,107,105,110,103,34,47,62,41,60,47,115,112,97,110,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,105,118,91,64,116,121,112,101,61,39,118,101,114,115,101,39,93,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,118,101,114,115,101,34,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,101,108,34,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,114,101,110,100,34,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,100,101,108,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,100,101,108,101,116,101,100,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,32,40,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,114,101,110,100,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,41,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,97,100,100,34,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,112,108,97,99,101,34,32,115,101,108,101,99,116,61,34,64,112,108,97,99,101,34,47,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,114,101,110,100,34,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,105,110,115,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,97,100,100,101,100,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,32,111,114,32,115,116,114,105,110,103,40,36,112,108,97,99,101,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,32,40,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,114,101,110,100,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,32,97,110,100,32,115,116,114,105,110,103,40,36,112,108,97,99,101,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,44,32,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,112,108,97,99,101,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,41,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,115,117,98,115,116,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,115,117,98,115,116,34,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,103,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,103,97,105,106,105,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,103,34,62,10,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,116,114,101,101,45,118,101,114,115,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,108,97,110,103,34,62,101,110,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,120,116,62,91,118,101,114,115,101,32,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,10,32,32,32,32,60,120,115,108,58,116,101,120,116,62,93,60,47,120,115,108,58,116,101,120,116,62,10,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,34,62,10,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),P1=sn;"use strict";var an=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,116,101,105,45,99,46,111,114,103,47,110,115,47,49,46,48,34,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,104,116,109,108,34,47,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,119,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,108,101,109,109,97,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,111,114,109,97,108,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,108,101,109,109,97,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,101,109,101,110,100,101,100,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,101,109,101,110,100,101,100,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,101,109,101,110,100,101,100,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,60,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,119,104,101,110,32,116,101,115,116,61,34,110,111,116,40,110,111,114,109,97,108,105,122,101,45,115,112,97,99,101,40,46,41,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,32,105,110,118,105,115,105,98,108,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,120,48,48,65,48,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,119,104,101,110,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,55,51,59,60,47,120,115,108,58,116,101,120,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,99,108,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,103,114,111,117,112,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,112,98,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,104,114,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,105,109,103,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,101,100,105,116,98,117,116,116,111,110,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,115,114,99,34,62,101,100,105,116,95,105,99,111,110,46,115,118,103,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,104,51,32,99,108,97,115,115,61,34,112,98,34,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,104,51,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,98,34,62,10,60,98,114,32,47,62,10,60,115,112,97,110,32,99,108,97,115,115,61,34,108,98,34,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,102,119,34,62,10,60,100,105,118,32,99,108,97,115,115,61,34,102,119,34,62,40,60,105,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,116,121,112,101,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,112,108,97,99,101,34,47,62,60,47,105,62,41,58,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,60,47,100,105,118,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,105,118,91,64,116,121,112,101,61,39,115,116,111,114,121,39,93,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,115,116,111,114,121,34,32,108,97,110,103,61,34,101,110,34,62,40,115,116,111,114,121,32,110,111,46,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,117,109,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,99,105,116,121,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,107,105,110,103,34,47,62,41,60,47,115,112,97,110,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,105,118,91,64,116,121,112,101,61,39,118,101,114,115,101,39,93,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,118,101,114,115,101,34,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,101,108,34,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,114,101,110,100,34,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,100,101,108,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,100,101,108,101,116,101,100,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,32,40,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,114,101,110,100,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,41,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,97,100,100,34,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,112,108,97,99,101,34,32,115,101,108,101,99,116,61,34,64,112,108,97,99,101,34,47,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,114,101,110,100,34,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,105,110,115,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,97,100,100,101,100,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,32,111,114,32,115,116,114,105,110,103,40,36,112,108,97,99,101,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,32,40,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,114,101,110,100,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,32,97,110,100,32,115,116,114,105,110,103,40,36,112,108,97,99,101,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,44,32,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,112,108,97,99,101,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,41,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,115,117,98,115,116,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,115,117,98,115,116,34,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,103,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,103,97,105,106,105,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,103,34,62,10,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,103,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,34,62,10,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),E1=an;"use strict";var on=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,34,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,116,101,120,116,34,32,111,109,105,116,45,120,109,108,45,100,101,99,108,97,114,97,116,105,111,110,61,34,121,101,115,34,47,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,103,34,62,10,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),R1=on;var bt=function(d){let M=new DOMParser().parseFromString(d,"text/xml"),O=new XSLTProcessor;return O.importStylesheet(M),O},L1=function(d){this.transformString=function(S,M){let O=d.xml.createElementNS(d.teins,"ab");return O.innerHTML=S,M.transformToFragment(O,document)},this.sheets={csv:bt(_1),xml:bt(S1),matrix:bt(A1),lemma:bt(E1),lg:bt(R1),tree:bt(P1)}};var B1=function(d){let S={curxml(){return d.xml},teins(){return d.teins},basename(){return d.filename.split(/\.[^.]+$/)[0]},range(w,C){return Array.from(Array(parseInt(C)-parseInt(w)+1).keys(),f=>f+w)},maxlemma(){return[...S.firsttext().querySelectorAll("w[n]")].length-1},lemmata(w,C){let f=C||document.querySelector("#views");return w===!1?f.querySelectorAll(".lemma"):f.querySelectorAll(`.lemma[data-n="${w}"]`)},tds(w,C){let f=C||d.matrix.boxdiv;return w===!1?f.querySelectorAll("td[data-n]"):f.querySelectorAll(`td[data-n="${w}"]`)},firsttd(w,C){return(C||d.matrix.boxdiv).querySelector(`td[data-n="${w}"]`)},tr(w){return d.matrix.boxdiv.querySelector(`tr[data-n="${w}"]`)},trs(w){return(w||d.matrix.boxdiv).querySelectorAll("tr[data-n]")},firsttr(w){return(w||d.matrix.boxdiv).querySelector("tr[data-n]")},lasttr(w){return(w||d.matrix.boxdiv).querySelector("tr[data-n]:last-of-type")},trWalker(w){return document.createNodeIterator(w,NodeFilter.SHOW_ELEMENT,{acceptNode:function(C){if(C.tagName==="TD")return NodeFilter.FILTER_ACCEPT}},!1)},textWalker(w){return document.createNodeIterator(w,NodeFilter.SHOW_ELEMENT,{acceptNode:function(C){if(C.tagName.toLowerCase()==="w")return NodeFilter.FILTER_ACCEPT}},!1)},tei(w,C=d.xml){return C.querySelector(`TEI[n="${w}"]`)},teis(w=d.xml){return w.querySelectorAll("TEI")},texts(w){return(w||d.xml).querySelectorAll("text")},serializedtexts(w,C){let f=[...w.querySelectorAll("otu[label]")].map(u=>u.getAttribute("label"));return[...S.teis()].filter(u=>f.indexOf(u.getAttribute("n"))!==-1).map(u=>[w.querySelector(`node[label="${u.getAttribute("n")}"]`).getAttribute("id"),[...u.querySelectorAll("w")].map(v=>C&&v.hasAttribute("lemma")?v.getAttribute("lemma"):v.textContent)])},serializedlevels(w){return w.map(C=>{if(C instanceof Map){let f=new Map;for(let[s,u]of C)f.set(s.getAttribute("id"),u.map(v=>v.getAttribute("id")));return f}else return C.map(f=>f.getAttribute("id"))})},firsttext(w){return w?d.xml.querySelector(`[n="${w}"] text`):d.xml.querySelector("text")},words(w,C){let f=C||d.xml;return w===!1?f.querySelectorAll("w[n]"):f.querySelectorAll(`w[n="${w}"]`)},firstword(w,C){return(C||d.xml).querySelector(`w[n="${w}"]`)},normal(w){return(w||document.getElementById("views")).querySelectorAll(".lemma[data-normal], .tree-lemma[data-normal]")},htmlreading(w,C){return C&&w.dataset.normal?w.dataset.normal:w.IAST.textContent},ths(){return d.matrix.boxdiv.querySelectorAll("th[data-ref]")},firstth(w){return d.matrix.boxdiv.querySelector(`th[data-ref="${w}"]`)},checkbox(w,C){return d.matrix.boxdiv.querySelector(`th[data-ref="${w}"] input.${C}`)},highlit(){let C=S.firsttr().querySelectorAll(".highlit"),f=new Set;for(let s of C)f.add(s.dataset.n);return f},highlitcell(){return d.matrix.boxdiv.querySelector("td.highlitcell")},highlitrow(){let w=S.highlitcell();return w?w.closest("tr"):!1},lowhigh(w){let C=[...w].sort((u,v)=>parseInt(u)-parseInt(v)),f=parseInt(C[0]),s=C.length>1?parseInt(C[C.length-1]):void 0;return[f,s]},readings(w,C){let f=C||d.matrix.boxdiv,s=S.tds(w,f);var u=0;let v=new Set;for(let b of s){let T=b.textContent;T!==""&&(u++,v.add(T))}return[u,v.size]},attr(w,C){let f=S.firsttr();var s=[];for(let u of C)S.firsttd(u,f).dataset[w]==="true"?s.push([u,!0]):s.push([u,!1]);return new Map(s)},whichattr(w){return w.hasAttribute("n")?"n":w.hasAttribute("data-n")?"data-n":w.hasAttribute("data-ref")?"data-ref":!1},clauses(w,C=!1){let f=S.firsttext();var s=!1;let u=new Set;for(let v of w){let T=S.firstword(v,f).closest("cl");T?u.add(T):C&&(s=!0)}if(u.size===0)return!1;{let v=[...u].map(b=>{let T=b.querySelectorAll("w");return new Set([...T].map(z=>z.getAttribute("n")))});return s?[null].concat(v):v}},clausesToRemove(w,C,f=0){let s=new Set;for(let u of w){let v=new Set(u);for(let b of C)v.delete(b);v.size<=f&&s.add(u)}return[...s]},empty(){let w=new Set,C=[...S.trs()],f=C.map(v=>S.trWalker(v)),s=C[0].querySelector("td:last-of-type").dataset.n;for(let v=0;v<=s;v++){var u=!0;for(let b of f){let T=b.nextNode();u&&T.textContent!==""&&(u=!1)}u&&w.add(v)}return w},prevNonempty(w,C){for(let f=w;f>=0;f--)if(C[f].textContent!=="")return f;return!1},nextNonempty(w,C){for(let f=w;f<C.length;f++)if(C[f].textContent!=="")return f;return!1},cursorPos(w){let C=window.getSelection().getRangeAt(0),f=C.cloneRange();f.selectNodeContents(w);let s=f.toString().length;return f.setEnd(C.endContainer,C.endOffset),[f.toString().length,s]},selection(){let w=window.getSelection();if(w.isCollapsed)return!1;let C=w.rangeCount>1?w.getRangeAt(1).cloneContents():w.getRangeAt(0).cloneContents();if(!C)return!1;let f=new Set,s=C.querySelectorAll(".lemma");for(let u of s)f.add(u.dataset.n);return f}},M={undo(){return d.undo.length>0},redo(){return d.redo.length>0},checkbox(w,C=null){if(!M.anyhighlit())return!1;let f=C===null?S.highlit():C,s=S.attr(w,f);for(let u of s.values())if(u===!1)return!1;return!0},grouped(){let w=S.highlit();if(!w)return!1;let C=S.firsttr();for(let f of w){let s=S.firsttd(f,C);if(s.classList.contains("group-start")||s.classList.contains("group-internal")||s.classList.contains("group-end"))return!0}return!1},oneGrouped(){let w=S.highlit();if(w.size===0)return!1;if(w.size===1){let C=S.firsttr(),f=S.firsttd([...w][0],C);return!!(f.classList.contains("group-start")||f.classList.contains("group-end")||f.classList.contains("group-internal"))}return!0},anyhighlit(){return!!d.matrix.boxdiv.querySelector("td.highlit")},manyhighlit(){return S.highlit().size>1},highlitcell(){return!!d.matrix.boxdiv.querySelector("td.highlitcell")},normalizedView(){return document.getElementById("views").classList.contains("normalized")},anyNormalized(){return d.matrix.boxdiv.querySelector(".lemma[data-normal]")},headerView(){return d.matrix.boxdiv.querySelector("tr.header").style.display!=="none"}},O={tei:function(w){let C=d.xml.createElementNS(d.teins,"TEI");C.setAttribute("n",w);let f=S.firsttext().cloneNode(!0);C.appendChild(f);for(let s of S.words(!1,f))for(s.removeAttribute("lemma");s.firstChild;)s.firstChild.remove();return C},xmlel:function(w,C=d.xml){return C.createElementNS(d.teins,w)},emptycell:function(w){let C=document.createElement("td");return C.className="lemma",C.dataset.n=w,C},emptyword:function(w,C=d.xml){let f=C.createElementNS(d.teins,"w");return f.setAttribute("n",w),f},emptywords:function(w,C,f){let s=C||d.maxlemma,u=f||0;for(let v=u;v<=s;v++){let b=O.emptyword(v);w.appendChild(b)}},row:function(w,C){let f=document.createElement("tr"),s=document.createElement("th");s.scope="row",s.draggable=!0,s.appendChild(document.createTextNode(w)),f.dataset.n=w,f.appendChild(s);let u=S.firsttr();for(let v of u.querySelectorAll("td")){let b=document.createElement("td");b.dataset.n=v.dataset.n,b.className=v.className,C&&b.classList.add(C),f.appendChild(b)}return f},blackout(w,C){let f=document.createElement("div");f.id="blackout",f.appendChild(w),document.body.appendChild(f);let s=function(b){C(b),f.parentNode.removeChild(f)},u=function(b){if(!b.target.closest(".popup")){let z=document.querySelector("#blackout");z.parentNode.removeChild(z)}};f.querySelector("button").addEventListener("click",s),f.addEventListener("click",u)}};return{find:S,check:M,make:O}};var T1=function(d,S){let M={Intersection:function(...s){let u=s[0];return new Set([...u].filter(v=>{for(let b=1;b<s.length;b++)if(!s[b].has(v))return!1;return!0}))},Union:function(...s){return new Set(s.reduce((u,v)=>(u=[...u,...v],u),[]))}},O=function(s){let u=new Map;for(let v of S[0]){let b=d.get(v),T=b!==void 0?[b]:[];u.set(v,new Set(T))}for(let v=1;v<S.length;v++)for(let[b,T]of S[v]){let z=T.map(L=>u.get(L)),D=M.Intersection(...z);if(s&&b===s&&D.size===1)return[...D][0];let B=D.size>0?D:M.Union(...z);u.set(b,B)}return u},w=function(s,u){let v=S[0],b=new Map;for(let T of S[S.length-1])b.set(T[0],s.get(T[0]));for(let T=S.length-1;T>1;T--)for(let[z,D]of S[T]){let B=b.get(z);for(let L of D){if(v.indexOf(L)!==-1)continue;let W=s.get(L),Z=(()=>{if(W.size===1)return W;let $=M.Intersection(B,W);return $.size>0?$:W})();if(u&&L===u)return Z;b.set(L,Z)}}return u?b.get(u):b},C=function(s=null){let u=O(s);if(typeof u=="string")return u;let v=w(u,s);return s?f(v):new Map(Array.from(v,([b,T])=>[b,f(T,!0)]))},f=function(s,u=!1){if(!u&&s.size===1)return[...s][0].trim();let v=[...s].map(b=>b.trim()===""?"_":b);return v.length===1?v[0]:"{"+v.join(", ")+"}"};return{run:C}};import{showSaveFilePicker as Kt}from"https://cdn.jsdelivr.net/npm/native-file-system-adapter/mod.js";var N1=function(d,S){let M=d.find,O=d.make,w=M.teins(),C={write:async function(f,s){let u=await s.createWritable();u.write(f),u.close()},xml:async function(f){let s=new XMLSerializer().serializeToString(S.sheets.xml.transformToDocument(f)),u=new Blob([s],{type:"text/xml;charset=utf-8"}),v=M.basename()+".xml",b=await Kt({_preferPolyfill:!1,suggestedName:v,types:[{description:"TEI XML",accept:{"text/xml":[".xml"]}}]});C.write(u,b)},csv:async function(f){let s=S.sheets.csv.transformToDocument(f).documentElement.textContent,u=new Blob([s],{type:"text/csv;charset=utf-8"}),v=M.basename()+".csv",b=await Kt({_preferPolyfill:!1,suggestedName:v,types:[{description:"CSV file",accept:{"text/csv":[".csv"]}}]});C.write(u,b)},nexus:async function(f){let s=[...M.texts(f)],u=s.length,v="0 1 2 3 4 5 6 7 8 9 A B C D E F G H K L M N P Q R S T U V W X Y Z a b c d e f g h k l m n p q r s t u v w x y z",[b,...T]=v.split(" "),z="-",D=s.map(he=>"'"+he.parentElement.getAttribute("n")+"'"),B=s.map(he=>M.textWalker(he)),L=s[0].querySelectorAll("w").length,W=[],Z=D.map(he=>[he+" "]);for(let he=0;he<L;he++){let se=new Set,F=[];for(let de=0;de<B.length;de++){let X=B[de].nextNode(),xe=De.t(X.textContent.trim().toLowerCase(),"iast","hk").replace(/'/g,"()");F.push(xe),xe!==""&&xe!=="[]"&&se.add(xe)}W.push(["[]",...se]);let me=new Map([...se].map((de,we)=>[de,T[we]]));for(let de=0;de<F.length;de++){let we=(X=>{switch(F[X]){case"":return z;case"[]":return b;default:return me.get(F[X])}})(de);Z[de].push(we)}}let $=W.map((he,se)=>se+1+" / "+[...he].map(F=>`'${F}'`).join(" ")).join(`,
`),j=Z.map(he=>he.join("")).map(he=>he.replace(/0{8,}/g,se=>se.replace(/0/g,"-"))).reduce((he,se)=>he+`
`+se),te=`#NEXUS

BEGIN TAXA;
  DIMENSIONS NTAX=${u};
  TAXLABELS ${D.join(" ")};
END;

BEGIN CHARACTERS;
  DIMENSIONS
    NCHAR=${L};
  FORMAT 
    DATATYPE=STANDARD 
    RESPECTCASE 
    GAP=${z} 
    MISSING=? 
    SYMBOLS="${v}";
  CHARSTATELABELS
${$}
;
MATRIX
${j}
;
END;
`,ae=new Blob([te],{type:"text/nexus;charset=iso8859-1"}),pe=M.basename()+".nex",G=await Kt({_preferPolyfill:!1,suggestedName:pe,types:[{description:"NEXUS file",accept:{"text/nexus":[".nex"]}}]});C.write(ae,G)},processOptions:function(f){let s=M.curxml().cloneNode(!0);if(f.get("option_normalize")){let u=s.querySelectorAll("w[lemma]");for(let v of u)v.textContent=v.getAttribute("lemma")}if(f.get("option_mergegroups")){let u=s.querySelectorAll("cl");for(let v of u){let b=v.removeChild(v.firstChild);for(;v.firstChild;){let T=b.getAttribute("lemma")||b.textContent,z=v.firstChild.getAttribute("lemma")||v.firstChild.textContent;for(b.setAttribute("lemma",T+z);v.firstChild.firstChild;)b.appendChild(v.firstChild.firstChild);v.firstChild.remove()}b.getAttribute("lemma")===b.textContent&&b.removeAttribute("lemma"),v.parentNode.insertBefore(b,v),v.parentNode.removeChild(v)}}if(f.get("option_insignificant")){let u=s.querySelectorAll('w[insignificant="true"]');for(let v of u)v.parentNode.removeChild(v)}if(f.get("option_binary")){let v=[...M.firsttext().querySelectorAll('w[binary="true"]')].map(b=>b.getAttribute("n"));for(let b of v){let T=s.querySelectorAll(`w[n="${b}"]:not(:empty)`);if(T.length===0)continue;let z=`[${T[0].textContent}]`;for(let D of T)D.textContent=z}}if(f.get("option_noempty")){let u=s.querySelectorAll("w:empty");for(let v of u)v.textContent="[]"}return f.get("option_basetext")?C.makeApp(f,s):s},makeHeader(f,s){let u=f.createElementNS(w,"teiHeader"),v=f.createElementNS(w,"fileDesc"),b=f.createElementNS(w,"sourceDesc"),T=f.createElementNS(w,"listWit");for(let z of M.teis(s)){let D=z.getAttribute("n"),B=f.createElementNS(w,"witness");B.setAttribute("xml:id",D);let L=f.createElementNS(w,"idno");L.setAttribute("type","siglum"),L.append(D),B.appendChild(L),T.appendChild(B)}return b.appendChild(T),v.appendChild(b),u.appendChild(v),u},makeApp(f,s){let u=f.get("option_basetext"),v=M.tei(u,s),b=f.get("option_app_normalize"),T=document.implementation.createDocument(w,"",null);T.appendChild(v);let z=C.makeHeader(T,s);v.insertBefore(z,v.firstChild);let D=M.words(!1,v);for(let B of D){let L=B.getAttribute("n"),W=b&&B.getAttribute("lemma")||B.textContent,Z=[],$=new Map,j=M.words(L,s);for(let te of j){let ae=te.closest("TEI").getAttribute("n");if(b&&te.getAttribute("lemma")===W)Z.push(ae);else if(te.textContent===W)Z.push(ae);else{let pe=te.textContent===""?"[om.]":te.textContent,G=$.get(pe)||[];G.push(ae),$.set(pe,G)}}if($.size===0)for(;B.firstChild;)B.parentElement.insertBefore(B.firstChild,B);else{let te=T.createElementNS(w,"app");te.setAttribute("n",L);let ae=T.createElementNS(w,"lem"),pe=Z.map(G=>`#${G}`).join(" ");for(pe!==""&&ae.setAttribute("wit",pe);B.firstChild;)ae.appendChild(B.firstChild);te.appendChild(ae);for(let[G,he]of $){let se=T.createElementNS(w,"rdg"),F=he.map(me=>`#${me}`).join(" ");se.setAttribute("wit",F),se.append(G),te.appendChild(se)}B.parentElement.insertBefore(te,B),ae.textContent.match(/\s$/)&&B.parentElement.insertBefore(T.createTextNode(" "),B)}B.remove()}return T},options(){return document.createRange().createContextualFragment(`<div id="exportoptions" class="popup">
    <form id="exportform">
      <div style="font-weight: bold">Export</div>
      <div>
        <input type="checkbox" id="option_insignificant" name="option_insignificant"><label for="option_insignificant">Remove insignifiant lemmata</label>
      </div>
      <div>
        <input type="checkbox" id="option_binary" name="option_binary"><label for="option_binary">Binarize marked lemmata</label>
      </div>
      <div>
        <input type="checkbox" id="option_noempty" name="option_noempty"><label for="option_noempty">Gaps are significant</label>
      </div>
      <div>
        <input type="checkbox" id="option_mergegroups" name="option_mergegroups"><label for="option_mergegroups">Merge groups</label>
      </div>
      <div>
        <input type="checkbox" id="option_normalize" name="option_normalize"><label for="option_normalize">Normalize spellings</label>
      </div>
      <div>
        <button type="submit">Export</button>
      </div>
    </form>
</div>`)},appOptions(){let f=document.createRange().createContextualFragment(`<div id="exportoptions" class="popup">
    <form id="exportform">
      <div style="font-weight: bold">Export</div>
      <div>
        <label for="option__basetext">Base text</label>
        <select id="option__basetext" name="option_basetext"></select>
      </div>
      <div>
        <input type="checkbox" id="option__app_insignificant" name="option_app_insignificant"><label for="option_app_insignificant">Ignore insignifiant lemmata</label>
      </div>
      <div>
        <input type="checkbox" id="option_mergegroups" name="option_mergegroups" checked><label for="option_mergegroups">Merge groups</label>
      </div>
      <div>
        <input type="checkbox" id="option_app_normalize" name="option_app_normalize" checked><label for="option_app_normalize">Normalized spellings in positive apparatus</label>
      </div>
      <div>
        <input type="checkbox" id="option_normalize" name="option_normalize"><label for="option_normalize">Normalize spellings in negative apparatus</label>
      </div>
      <div>
        <button type="submit">Export</button>
      </div>
    </form>
</div>`),s=f.getElementById("option__basetext"),u=[...M.trs()].map(v=>v.dataset.n);for(let v of u){let b=document.createElement("option");b.value=v,b.append(v),s.appendChild(b)}return f},showOptions:function(f,s){let u=s(),v=function(b){b.preventDefault();var T=[];let z=document.getElementById("exportform").elements;for(let B of z)B.type==="checkbox"?T.push([B.name,B.checked]):T.push([B.name,B.value]);let D=C.processOptions(new Map(T));f(D)};O.blackout(u,v)}};return C};var M1=function(d){let{find:S,check:M,make:O}=d;return{group:function(f){let s=[...f],u=s.shift(),v=S.texts();for(let T of v){let z=O.xmlel("cl"),D=S.firstword(u,T);D.parentNode.insertBefore(z,D),z.appendChild(D);for(let B of f)z.appendChild(S.firstword(B,T))}let b=s.pop();for(let T of S.tds(u))T.classList.add("group-start");for(let T of S.tds(b))T.classList.add("group-end");for(let T of s)for(let z of S.tds(T))z.classList.add("group-internal")},ungroup:function(f){let s=S.texts();for(let v of s){let b;for(let T of f){let z=S.firstword(T,v);b||(b=z.closest("cl")),b.parentNode.insertBefore(z,b)}b.parentNode.removeChild(b)}let u=[...f].flatMap(v=>[...S.tds(v)]);for(let v of u)v.classList.remove("group-start","group-internal","group-end")}}};function Ht(d){var S=[],M=0;if(this.trie=this.createTrie(d.patterns),this.leftMin=d.leftmin,this.rightMin=d.rightmin,this.exceptions={},d.exceptions)for(S=d.exceptions.split(/,\s?/g);M<S.length;M+=1)this.exceptions[S[M].replace(/\u2027/g,"").toLowerCase()]=new RegExp("("+S[M].split("‧").join(")(")+")","i")}Ht.prototype.createTrie=function(d){var S=0,M=0,O=0,w=0,C=null,f=null,s=null,u=null,v={_points:[]},b;for(S in d)if(d.hasOwnProperty(S))for(b=d[S].match(new RegExp(".{1,"+ +S+"}","g")),M=0;M<b.length;M+=1){for(C=b[M].replace(/[0-9]/g,"").split(""),f=b[M].split(/\D/),u=v,O=0;O<C.length;O+=1)s=C[O].charCodeAt(0),u[s]||(u[s]={}),u=u[s];for(u._points=[],w=0;w<f.length;w+=1)u._points[w]=f[w]||0}return v};Ht.prototype.hyphenateText=function(d,S){S=S||4;for(var M=d.split(/([a-zA-Z0-9_\u0027\u00AD\u00DF-\u00EA\u00EB\u00EC-\u00EF\u00F1-\u00F6\u00F8-\u00FD\u0101\u0103\u0105\u0107\u0109\u010D\u010F\u0111\u0113\u0117\u0119\u011B\u011D\u011F\u0123\u0125\u012B\u012F\u0131\u0135\u0137\u013C\u013E\u0142\u0144\u0146\u0148\u0151\u0153\u0155\u0159\u015B\u015D\u015F\u0161\u0165\u016B\u016D\u016F\u0171\u0173\u017A\u017C\u017E\u017F\u0219\u021B\u02BC\u0390\u03AC-\u03CE\u03F2\u0401\u0410-\u044F\u0451\u0454\u0456\u0457\u045E\u0491\u0531-\u0556\u0561-\u0587\u0902\u0903\u0905-\u090B\u090E-\u0910\u0912\u0914-\u0928\u092A-\u0939\u093E-\u0943\u0946-\u0948\u094A-\u094D\u0982\u0983\u0985-\u098B\u098F\u0990\u0994-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BE-\u09C3\u09C7\u09C8\u09CB-\u09CD\u09D7\u0A02\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A14-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A82\u0A83\u0A85-\u0A8B\u0A8F\u0A90\u0A94-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABE-\u0AC3\u0AC7\u0AC8\u0ACB-\u0ACD\u0B02\u0B03\u0B05-\u0B0B\u0B0F\u0B10\u0B14-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3E-\u0B43\u0B47\u0B48\u0B4B-\u0B4D\u0B57\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C02\u0C03\u0C05-\u0C0B\u0C0E-\u0C10\u0C12\u0C14-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3E-\u0C43\u0C46-\u0C48\u0C4A-\u0C4D\u0C82\u0C83\u0C85-\u0C8B\u0C8E-\u0C90\u0C92\u0C94-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBE-\u0CC3\u0CC6-\u0CC8\u0CCA-\u0CCD\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D60\u0D61\u0D7A-\u0D7F\u1F00-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB2-\u1FB4\u1FB6\u1FB7\u1FBD\u1FBF\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD2\u1FD3\u1FD6\u1FD7\u1FE2-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u200D\u2019]+)/gi),O=0;O<M.length;O+=1)M[O].indexOf("/")!==-1?O!==0&&O!==M.length-1&&!/\s+\/|\/\s+/.test(M[O])&&(M[O]+="​"):M[O].length>S&&(M[O]=this.hyphenate(M[O]).join("­"));return M.join("")};Ht.prototype.hyphenate=function(d){var S,M=[],O,w,C,f,s,u=[],v,b=d.toLowerCase(),T,z,D=Math.max,B=this.trie,L=[""];if(this.exceptions.hasOwnProperty(b))return d.match(this.exceptions[b]).slice(1);if(d.indexOf("­")!==-1)return[d];for(d="_"+d+"_",S=d.toLowerCase().split(""),O=d.split(""),v=S.length,w=0;w<v;w+=1)u[w]=0,M[w]=S[w].charCodeAt(0);for(w=0;w<v;w+=1)for(s=B,C=w;C<v&&(s=s[M[C]],s);C+=1)if(T=s._points,T)for(f=0,z=T.length;f<z;f+=1)u[w+f]=D(u[w+f],T[f]);for(w=1;w<v-1;w+=1)w>this.leftMin&&w<v-this.rightMin&&u[w]%2?L.push(O[w]):L[L.length-1]+=O[w];return L};var ln=Ht,I1=ln;var D1={id:"sa",leftmin:2,rightmin:2,patterns:{2:"a1e1i1o1u1é1í1ï1ó1ú1ü1ā1ī1ū1ḷ1ḹ1ṛ1ṝ1",3:"2b_2c_2d_2g_2h_2j_2k_2l_2m_2n_2p_2r_2s_2t_2v_2y_2ñ_2ś_2ḍ_2ḥ12ḫ12ḷ_2ṁ12ṃ12ṅ_2ṇ_2ṭ_2ẖ1l̥1r̥1",4:"2bh_2ch_2dh_2gh_2jh_2kh_2m̐12ph_2rb_2rd_2rg_2rk_2rp_2rt_2rḍ_2rṭ_2th_2ḍh_2ṭh_a2i1a2u1a3ï1a3ü1l̥̄1r̥̄1"}};window.comboView=function(){let d={teins:"http://www.tei-c.org/ns/1.0",scripts:["iast","devanagari","telugu","grantha","malayalam"],filename:null,xml:null,treelist:new Map,trees:[],textboxes:[],matrix:null,viewdiv:null,descs:null,maxlemma:null,windows:[window],dragged:null,undo:[],redo:[],editing:!1},S=new I1(D1),M=new L1(d),O=new B1(d),w=new M1(O),C=new N1(O,M),{find:f,check:s,make:u}=O,v=function(){let a=document.getElementById("tooltip");a&&a.remove()},b={matrix:function(){return d.matrix=new ee,d.matrix.init(),d.matrix.show(),document.getElementById("matrixmenu").style.display="none",T(),L.rehighlight(),d.matrix},text:function(a){let l=new Ce(a);return d.textboxes.push(l),l.init(),l.show(),T(),L.rehighlight(),document.querySelector(".highlit")||se.textClick({target:l.boxdiv.querySelector(".lemma:not(.invisible)")}),l},tree:function(a,l){let p=new xe(a,l);return d.trees.push(p),p.init(),p.show(),T(),L.rehighlight(),p}},T=function(){for(let a of d.trees)a.draw()},z=function(){let a=window.getSelection?window.getSelection():document.selection;a&&(a.removeAllRanges?a.removeAllRanges():a.empty&&a.empty())},D=function(a){let l=document.createTreeWalker(a,NodeFilter.SHOW_TEXT);for(;l.nextNode();){let p=B(l.currentNode.nodeValue);l.currentNode.nodeValue=p}},B=function(a){return S.hyphenateText(a.replace(/ \|/g," |").replace(/\| (?=\d)/g,"| ").replace(/\|\|/g,"॥").replace(/\|/g,"।"))},L={getAllWindows:function(){return window.mainWindow?window.mainWindow.comboView.getWindows():d.windows},forEachWindow:function(a){let l=L.getAllWindows();for(let p of l)if(!p.closed&&a(p)===!1)break},highlightLemma:function(a,l){var p=!!l;L.forEachWindow(n=>{let r=n.comboView.getViewdiv().querySelectorAll('[data-n="'+a+'"]');for(let h of r)(!p||!h.classList.contains("invisible"))&&h.classList.add("highlit");let i=n.comboView.getViewdiv().querySelectorAll('[data-n-trans="'+a+'"]');for(let h of i)h.classList.add("translit")})},highlightRange:function(a){if(!a||a.size===0)return;L.unHighlightAll();let[l,p]=f.lowhigh(a);if(p!==void 0)for(let n=l;n<=p;n++)L.highlightLemma(n,!0);else L.highlightLemma(l);L.repopulateTrees(l,p);for(let n of d.viewdiv.querySelectorAll(".text-box"))n.querySelector(".highlit")||n.querySelector('[data-n="'+l+'"]').classList.add("highlit");me.xScroll(l)},highlightAll:function(){s.anyhighlit()?L.unHighlightAll():L.highlightRange(new Set([0,f.maxlemma()]))},unHighlightAll:function(){L.forEachWindow(a=>{let l=a.comboView.getViewdiv().querySelectorAll(".highlit");for(let n of l)n.classList.remove("highlit");let p=a.comboView.getViewdiv().querySelectorAll(".translit");for(let n of p)n.classList.remove("translit");L.unCelllightAll()})},unCelllightAll:function(){L.forEachWindow(a=>{let l=a.comboView.getViewdiv().querySelectorAll(".highlitcell");for(let p of l)p.classList.remove("highlitcell")})},rehighlight:function(){var a;if(L.forEachWindow(p=>{if(a=p.document.querySelectorAll(".highlit"),a.length>0)return!1}),a.length>0){var l=new Set;for(let p of a)l.add(p.dataset.n);L.highlightRange(l)}},clearTrees:function(){L.forEachWindow(a=>{let l=a.comboView.getTrees();for(let p of l)p.clearlemmata()})},repopulateTrees:function(a,l){L.forEachWindow(p=>{let n=p.comboView.getTrees();for(let r of n)r.populate(a,l),r.colourizeVariants(a,l),r.updatescript()})},highlightTreeLemma:function(a){L.forEachWindow(l=>{let p=l.comboView.getTrees();for(let n of p){let r=n.boxdiv.querySelector('.tree-lemma[data-id="'+a+'"]'),i=n.boxdiv.querySelectorAll(".tree-lemma");for(let h of i)(r.dataset.nodes&&h.dataset.nodes===r.dataset.nodes||!r.dataset.nodes&&h.dataset.id===r.dataset.id)&&h.classList.add("highlit");n.clearLabels()}})},unhighlightTrees:function(){L.forEachWindow(a=>{let l=a.comboView.getViewdiv().querySelectorAll(".tree-lemma.highlit");for(let n of l)n.classList.remove("highlit");let p=a.comboView.getTrees();for(let n of p)n.clearLabels()})}},W=function(a,l){let p=l.target.files[0],n=[...l.target.files].slice(1),r=new FileReader;r.onload=a.bind(null,p,n),r.readAsText(p)},Z=function(a,l,p){d.filename=a.name,document.title=document.title+`: ${d.filename}`,d.filename.split(".").pop()==="csv"?te(a,l,p):ae(a,l,p)},$=function(a,l,p){let n=p.target.result,i=new DOMParser().parseFromString(n,"text/xml"),h=d.xml.querySelector("teiHeader > xenoData")||function(){let x=d.xml.querySelector("teiHeader")||function(){let I=u.xmlel("teiHeader");return d.xml.documentElement.appendChild(I),I}(),A=u.xmlel("xenoData");return x.appendChild(A),A}(),g=u.xmlel("stemma");g.setAttribute("format","nexml"),g.id="stemma"+[...h.querySelectorAll("stemma")].length,g.appendChild(i.firstChild.cloneNode(!0)),h.appendChild(g),j(i,g.id)},j=function(a,l,p=!0){let n=a.querySelectorAll("tree"),r=document.querySelector("#treemenu ul");for(let i of n){let h=i.id,g=a.cloneNode(!0);for(let I of g.querySelectorAll("tree"))I.id!==h&&I.parentNode.removeChild(I);let x=i.getAttribute("label")||"New Tree "+d.treelist.size;d.treelist.set(`#${l} #${h}`,g);let A=document.createElement("li");A.dataset.name=x,A.dataset.treeid=h,A.dataset.stemmaid=l,A.appendChild(document.createTextNode(x)),r.insertBefore(A,r.lastElementChild),p&&b.tree(l,h)}},te=function(a,l,p){let n=Jt.parse(p.target.result,{delimiter:","});d.xml=document.implementation.createDocument(d.teins,"",null);let r=u.xmlel("teiCorpus"),i=u.xmlel("teiHeader");r.appendChild(i),d.xml.appendChild(r);for(let h of n){let g=h[0],x=h.slice(1),A=u.xmlel("TEI");A.setAttribute("n",g);let I=u.xmlel("text");for(let N=0;N<x.length;N++){let V=x[N],U=u.xmlel("w");V&&U.appendChild(document.createTextNode(V)),U.setAttribute("n",N),I.appendChild(U)}A.appendChild(I),r.appendChild(A)}d.xml.normalize(),d.maxlemma=f.maxlemma(),he()},ae=function(a,l,p){let n=new DOMParser;d.xml=n.parseFromString(p.target.result,"text/xml");let r=d.xml.querySelectorAll("teiHeader xenoData stemma nexml");for(let i of r){let h=document.implementation.createDocument("http://www.nexml.org/2009","",null);h.appendChild(i.cloneNode(!0)),j(h,i.closest("stemma").id,!1)}d.maxlemma=f.maxlemma(),l.length>0?pe(l):he()},pe=function(a){let l=a[0],p=a.slice(1),n=function(h,g){let x=new Set(h);for(let A of g)x.delete(A);return x},r=function(h,g){let A=new DOMParser().parseFromString(g.target.result,"text/xml"),I=new Map;for(let Se of f.teis()){let Ae=Se.getAttribute("n");I.set(Ae,Se)}let N=new Set(I.keys()),V=new Map;for(let Se of A.querySelectorAll("TEI")){let Ae=Se.getAttribute("n");V.set(Ae,Se)}let U=new Set(V.keys()),re=n(N,U),ge=n(U,N);for(let Se of ge)u.tei(Se);let ye=[...A.querySelector("text").querySelectorAll("w[n]")].length,ve=d.maxlemma+ye;for(let[Se,Ae]of V)if(I.has(Se)){let ke=I.get(Se).querySelector("text"),Me=Ae.querySelector("text").querySelectorAll("w[n]");var _e=d.maxlemma+1;for(let Ie of Me)Ie.setAttribute("n",_e),ke.appendChild(Ie),_e=_e+1}else{let ke=u.xmlel("TEI");ke.setAttribute("n",Se);let Le=u.xmlel("text");u.emptywords(Le,ve,0),ke.appendChild(Le),d.xml.documentElement.appendChild(ke)}for(let Se of re){let Ae=I.get(Se).querySelector("text");u.emptywords(Ae,ve,d.maxlemma+1)}d.maxlemma=f.maxlemma(),h.length>0?pe(h):he()},i=new FileReader;i.onload=r.bind(null,p),i.readAsText(l)},G=function(){var a="";let l=[...f.teis()].map(p=>p.getAttribute("n"));for(let p of l)a+=`<li data-name="${p}">${p}</li>`;document.getElementById("menu").querySelector(".ms").innerHTML=a},he=function(){G();let a=new we("Export");a.populate([{text:"TEI corpus",func:C.showOptions.bind(null,C.xml,C.options)},{text:"TEI apparatus",func:C.showOptions.bind(null,C.xml,C.appOptions)},{text:"CSV",func:C.showOptions.bind(null,C.csv,C.options)},{text:"NEXUS",func:C.showOptions.bind(null,C.nexus,C.options)}]);let l=new we("Edit");l.populate([{text:"Undo",greyout:s.undo,func:F.undo},{text:"Redo",greyout:s.redo,func:F.redo},{text:"Select all",alt:"Deselect all",toggle:s.anyhighlit,func:L.highlightAll},{text:"Group all words",func:F.doGroupWords},{text:"Delete empty columns",func:F.startRemoveEmpty}]);let p=new we("Column");p.populate([{text:"(Re)normalize column",alt:"(Re)normalize columns",greyout:s.anyhighlit,toggle:s.manyhighlit,func:F.startRenormalize.bind(null,!1)},{text:"Delete column",alt:"Delete columns",greyout:s.anyhighlit,toggle:s.manyhighlit,func:F.removeCol.start.bind(null,!1)},{text:"Merge columns",greyout:s.manyhighlit,func:F.startMerge.bind(null,!1)},{text:"Group columns",alt:"Ungroup columns",greyout:s.oneGrouped,toggle:s.grouped,func:F.group.start.bind(null,!1)},{text:"Insert column",greyout:s.anyhighlit,func:F.insertCol.start},{text:"Mark insignificant",checkbox:s.checkbox.bind(null,"insignificant"),greyout:s.anyhighlit,func:F.startMarkAs.bind(null,"insignificant",!1)},{text:"Mark binary",checkbox:s.checkbox.bind(null,"binary"),greyout:s.anyhighlit,func:F.startMarkAs.bind(null,"binary",!1)}]);let n=new we("Row");n.populate([{text:"Insert row",func:F.startNewRow}]);let r=new we("Cell");r.populate([{text:"Edit cell",greyout:s.highlitcell,func:F.startEditCell.bind(null,!1)}]);let i=new we("View");i.populate([{text:"Header",checkbox:s.headerView,func:me.toggleHeader},{text:"Normalized",checkbox:s.normalizedView,greyout:s.anyNormalized,func:me.toggleNormalize}]);let h=document.getElementById("left_menu");h.appendChild(i.box),h.appendChild(l.box),h.appendChild(p.box),h.appendChild(n.box),h.appendChild(r.box),h.appendChild(a.box);let g=document.getElementById("views");g.style.justifyContent="flex-start",g.removeChild(g.querySelector("#splash")),b.matrix();let x=document.getElementById("matrixmenu");x.addEventListener("click",b.matrix),x.removeChild(x.querySelector("ul")),document.getElementById("mssmenu").style.display="block",document.getElementById("treemenu").style.display="block"},se={selectAll(a){let l=document.createRange();l.selectNodeContents(a);let p=window.getSelection();p.removeAllRanges(),p.addRange(l)},deselect(){let a=window.getSelection();a.removeAllRanges?a.removeAllRanges():a.empty&&a.empty()},treeMouseover(a){let l=a.target.classList.contains("tree-lemma")?a.target:a.target.closest(".tree-lemma");l&&(L.highlightTreeLemma(l.dataset.id),l.addEventListener("mouseout",L.unhighlightTrees));let p=a.target.dataset.reconstructed;if(!p)return;let n=document.createElement("div");n.id="tooltip",n.style.top=a.pageY+"px",n.style.left=a.pageX+"px",n.style.opacity=0,n.style.transition="opacity 0.2s ease-in",d.viewdiv.parentElement.appendChild(n);let r=document.createElement("div");if(r.appendChild(document.createTextNode(p)),this.script!==0?n.appendChild(Ot(r,d.scripts[this.script])):n.appendChild(r),a.target.classList.contains("reconstructed")){let i=a.target.parentNode.querySelector("span.tree-lemma");if(i&&i.dataset.hasOwnProperty("emended")){let h=document.createElement("div");h.classList.add("emphasis"),h.appendChild(document.createTextNode(i.textContent)),this.script!==0?n.prepend(Ot(h,d.scripts[this.script])):n.prepend(h)}}window.getComputedStyle(n).opacity,n.style.opacity=1,a.target.addEventListener("mouseout",v)},treeClick(a){a.target.classList.contains("witness")?b.text(a.target.dataset.key):a.target.classList.contains("reconstructed")?b.text(a.target.dataset.label):a.target.classList.contains("internal")&&F.startReconstruction(a),v()},keyDown(a){if(!d.editing&&a.key.substring(0,5)==="Arrow")se.cycleVariant(a);else if(a.ctrlKey||a.metaKey)a.key==="Z"?F.redo():a.key==="z"&&F.undo();else if(!d.editing&&d.matrix&&!d.matrix.closed&a.key==="Enter"){let l=f.highlitcell();l&&(a.preventDefault(),F.startEditCell(l))}},cycleVariant(a){let l=f.highlitcell()||d.viewdiv.querySelector("td.highlit")||d.viewdiv.querySelector('td[data-n="0"]');switch(a.key){case"ArrowRight":{if(!d.matrix.closed&&l){let p=l.nextElementSibling;p&&se.textClick({target:p})}else{let p=d.viewdiv.querySelector(".highlit"),n=p?p.dataset.n:0,r=parseInt(n)+1;for(;r<=d.maxlemma;){let i=d.viewdiv.querySelectorAll('[data-n="'+r+'"]');for(let h of i)if(h&&!h.classList.contains("invisible")){se.textClick({target:h});return}r++}}break}case"ArrowLeft":{if(!d.matrix.closed&&l){let p=l.previousElementSibling;p&&se.textClick({target:p})}else{let p=d.viewdiv.querySelector(".highlit"),n=p?p.dataset.n:0,r=parseInt(n)-1;for(;r>=0;){let i=d.viewdiv.querySelectorAll('[data-n="'+r+'"]');for(let h of i)if(h&&!h.classList.contains("invisible")){se.textClick({target:h});return}if(r--,l){se.textClick({target:l.previousElementSibling});return}}}break}case"ArrowUp":{if(d.matrix.closed||!l)return;let n=l.closest("tr").previousElementSibling;if(!n||!n.dataset.n)return;let r=n.querySelector(`td[data-n="${l.dataset.n}"]`);se.textClick({target:r});break}case"ArrowDown":{if(d.matrix.closed||!l)return;let n=l.closest("tr").nextElementSibling;if(!n||n.tagName!=="TR")return;let r=n.querySelector(`td[data-n="${l.dataset.n}"]`);se.textClick({target:r})}}},textClick(a,l=!1){if(a.target.closest("tr.header")){se.matrixHeaderClick(a);return}let p=a.target.classList.contains("lemma")?a.target:a.target.closest(".lemma");if(p){if(!l&&a.ctrlKey){se.rightClick(a);return}let n=p.dataset.n,r=f.highlitrow();if(L.unHighlightAll(),L.highlightLemma(n),L.repopulateTrees(n),me.xScroll(n,r),p.tagName==="TD")p.classList.add("highlitcell");else{let i=p.closest(".text-box");if(i){let h=i.dataset.id;f.tr(h).querySelector(`td[data-n="${n}"]`).classList.add("highlitcell")}}}},textMouseup(){let a=f.selection();!a||(L.highlightRange(a),z())},menuMouseover(a){let l=a.target.classList.contains("menubox")?a.target:a.target.closest(".menubox");if(l){let p=l.querySelector("ul");p&&(p.style.display="block"),l.classList.add("open")}},menuMouseout(a){let l=a.target.classList.contains("menubox")?a.target:a.target.closest(".menubox");if(l){let p=l.querySelector("ul");p&&(p.style.display="none"),l.classList.remove("open")}},menuClick(a){!a.target.parentElement||(a.target.parentElement.className==="ms"&&(se.menuMouseout(a),b.text(a.target.dataset.name)),a.target.parentElement.className==="tree"&&(se.menuMouseout(a),a.target.closest("li[data-name]")&&b.tree(a.target.dataset.stemmaid,a.target.dataset.treeid)))},thDragStart(a){!a.target.closest('th[scope="row"]')||(a.dataTransfer.setData("text/plain",a.target.textContent),F.startMoveRow(a.target.parentNode,a))},trDragEnter(a){let l=a.target.nodeType===1?a.target.closest("tr"):a.target.parentElement.closest("tr");l&&l.classList.add("dragenter")},trDragLeave(a){let l=a.target.nodeType===1?a.target.closest("tr"):a.target.parentElement.closest("tr");l&&l.classList.remove("dragenter")},trDragDrop(a){a.preventDefault(),F.finishMoveRow(a)},matrixMousedown(a){if(a.button!==0)return;if(a.ctrlKey){se.rightClick(a);return}let l=a.target.nodeType===1?a.target.closest(".lemma"):a.target.parentElement.closest(".lemma");if(l){if(l.isContentEditable)return;L.unHighlightAll(),L.highlightLemma(l.dataset.n);let p=d.matrix.boxdiv.querySelector("table");p.addEventListener("mouseover",se.matrixMouseover),p.addEventListener("mouseup",se.matrixMouseup)}},matrixMouseup(a){let l=f.highlit();l.size===1?se.textClick(a):L.highlightRange(l);let p=d.matrix.boxdiv.querySelector("table");p.removeEventListener("mouseover",se.matrixMouseover),p.removeEventListener("mouseup",se.matrixMouseup)},matrixMouseover(a){let l=a.target.nodeType===1?a.target.closest(".lemma"):a.target.parentElement.closest(".lemma");l&&L.highlightLemma(l.dataset.n)},matrixHeaderClick(a){if(a.target.tagName!=="INPUT")return;let l=a.target.className;if(l!=="insignificant"&&l!=="binary")return;let p=a.target.closest("th").dataset.ref,n=f.firsttd(p).dataset[l]!=="true",r=new Map([[p,n]]);F.doMarkAs(l,r)},rightClick(a){let l=a.target.nodeType===1?a.target.closest("tr[data-n] th"):a.target.parentElement.closest("tr[data-n] th");if(l){a.preventDefault(),de.remove();let n=de.create(a),r=[{text:"move row",func:F.startMoveRow.bind(null,l.parentNode)},{text:"delete row",func:F.doDeleteRow.bind(null,l.parentNode.dataset.n)}];de.populate(n,r),de.show(n);return}let p=a.target.nodeType===1?a.target.closest("td.lemma"):a.target.parentElement.closest("td.lemma");if(p){a.preventDefault();let n=p.classList.contains("highlit")?function(){let h=f.highlit();return h.size===1&&!p.classList.contains("highlitcell")&&(L.unCelllightAll(),p.classList.add("highlitcell")),h}():(se.textClick(a,!0),new Set([p.dataset.n])),r=n.size>1?[{text:"merge columns",func:F.startMerge.bind(null,n)},{text:"ungroup columns",alt:"group columns",toggle:s.grouped,func:F.group.start.bind(null,!1)},{text:"delete columns",func:F.removeCol.start.bind(null,n)}]:[{text:"edit cell",func:F.startEditCell.bind(null,p)},{text:"delete column",func:F.removeCol.start.bind(null,n)},{text:"insert column",func:F.insertCol.start}];de.remove();let i=de.create(a);de.populate(i,r),de.show(i)}}},F={undo:function(){let a=d.undo.pop();a&&a[0](...a[1])},redo:function(){let a=d.redo.pop();a&&a[0](...a[1])},doStack:function(a,l="do"){l==="undo"?(a[1].push("redo"),d.redo.push(a)):l==="redo"?(a[1].push("undo"),d.undo.push(a)):(a[1].push("undo"),d.undo.push(a),d.redo=[])},doMulti:function(a,l){let p=[];for(let n of a){let r=n[0](...n[1],"multido");p.unshift(r)}F.doStack([F.doMulti,[p]],l)},startMoveRow:function(a,l){if(d.dragged=a,d.dragged.classList.add("dragging"),l.type!=="dragstart"){for(let p of f.trs())p.classList.add("moveinprogress");d.matrix.boxdiv.querySelector("table").addEventListener("mousedown",F.finishMoveRow)}},startMerge:function(a){let l=a===!1?f.highlit():a,p=f.clauses(l,!0);if(!p)F.doMerge(l,"do");else if(p[0]===null){let n=p.filter(r=>r!==null).map(r=>[F.ungroup.go,[r]]).concat([[F.doMerge,[l]]]);F.doMulti(n,"do")}else{let n=f.clausesToRemove(p,l);if(!n)F.doMerge(l,"do");else{let r=n.map(i=>[F.ungroup.go,[i]]).concat([[F.doMerge,[l]]]);F.doMulti(r,"do")}}},group:{start:function(a){let l=a===!1?f.highlit():a;s.grouped()?F.ungroup.start(l):F.group.go(l,"do")},go:function(a,l="do"){w.group(a);for(let p of d.textboxes)p.refresh();if(l==="multido")return[F.ungroup.go,[a]];F.doStack([F.ungroup.go,[a]],l)}},ungroup:{start:function(a){let p=[...f.clauses(a)].map(n=>[F.ungroup.go,[n]]);F.doMulti(p,"do")},go:function(a,l="do"){w.ungroup(a);for(let p of d.textboxes)p.refresh();if(l==="multido")return[F.group.go,[a]];F.doStack([F.group.go,[a]],l)}},insertCol:{start:function(){let a=Math.max([...f.highlit()])||d.maxlemma;F.insertCol.go({mode:"append",start:a})},go:function(a,l="do"){let p=function(i,h,g,x){let A=i();for(var I=0;I<A.length;I++){let N=h(a.start,A[I]);if(a.mode==="append")if(g)for(let V of g[I].reverse())N.insertAdjacentElement("afterend",V);else{let V=x(a.start+1);N.insertAdjacentElement("afterend",V)}else if(g)for(let V of g[I])N.insertAdjacentElement("beforebegin",V);else{let V=x(a.start);N.insertAdjacentElement("beforebegin",V)}}return g?g[0].length:1};L.unHighlightAll();var n;a.hasOwnProperty("xml")?(p(...a.xml),n=p(...a.html)):(p(f.trs,f.firsttd,null,u.emptycell),p(f.texts,f.firstword,null,u.emptyword),n=1);let r=a.mode==="append"?[...Array(n).keys()].map(i=>a.start+i+1):[...Array(n).keys()].map(i=>a.start+i);if(F.renumber(a.start),L.highlightRange(new Set(r)),F.refresh(),F.reIAST(r),F.restyleGroups(r,!0),me.updateAllHeaders(),l==="multido")return[F.removeCol.go,[r]];F.doStack([F.removeCol.go,[r]],l)}},removeCol:{start:function(a){let l=a===!1?f.highlit():a,p=f.clauses(l);if(!p)F.removeCol.go(l,"do");else{let n=p.map(r=>[F.ungroup.go,[r]]).concat([[F.removeCol.go,[l]]]);F.doMulti(n,"do")}},go:function(a,l="do"){let p=function(I,N){let V=I(),U=[];for(let re of V){let ge=[...a].map(ve=>{let _e=N(ve,re);return F.unnormalize(_e),_e}),ye=ge.map(ve=>ve.cloneNode(!0));U.push(ye);for(let ve of ge)ve.parentNode.removeChild(ve)}return[I,N,U]},n={mode:"insert"},r=[...a].map(I=>parseInt(I)),i=Math.min(...a),h=Math.max(...a);f.firstword(h).nextElementSibling||(n.mode="append");let x=p(f.trs,f.firsttd),A=p(f.texts,f.firstword);if(F.renumber(i-1),F.refresh(),F.restyleGroups(a,!0),me.updateAllHeaders(),n.html=x,n.xml=A,n.mode==="append"?n.start=i-1:n.start=i,l==="multido")return[F.insertCol.go,[n]];F.doStack([F.insertCol.go,[n]],l)}},startRemoveEmpty:function(){let a=f.empty(),l=f.clauses(a);if(!l)F.removeCol.go(a,"do");else{let p=f.clausesToRemove(l,a,1);if(!p)F.removeCol.go(a,"do");else{let n=p.map(r=>[F.ungroup.go,[r]]).concat([[F.removeCol.go,[a]]]);F.doMulti(n,"do")}}},startEditCell:function(a){let l=a||f.highlitcell();!l||(F.unnormalize(l),l.dataset.oldContent=l.textContent,l.contentEditable="true",l.focus(),d.editing=!0,se.selectAll(l),l.addEventListener("blur",F.finishEditCell),l.addEventListener("keydown",F.cellKeyDown))},cellKeyDown:function(a){switch(a.key){case"Enter":F.finishEditCell(a);break;case"Escape":F.finishEditCell(a,!0);break;case"ArrowRight":{let l=f.cursorPos(a.target);l[0]===l[1]&&(a.preventDefault(),F.finishEditCell(a),se.cycleVariant({key:"ArrowRight"}),F.startEditCell(f.highlitcell()));break}case"ArrowLeft":{f.cursorPos(a.target)[0]===0&&(a.preventDefault(),F.finishEditCell(a),se.cycleVariant({key:"ArrowLeft"}),F.startEditCell(f.highlitcell()));break}}},startMarkAs:function(a,l,p){let n=p.target.tagName==="INPUT"?p.target:p.target.querySelector("input"),r=l===!1?f.highlit():l,i=new Map([...r].map(h=>[h,!n.checked]));F.doMarkAs(a,i)},startNewRow:function(){let a=u.row("new row"),l=a.querySelector("th");l.contentEditable=!0,l.addEventListener("blur",F.finishNewRow),l.addEventListener("keydown",F.thKeyDown),d.matrix.boxdiv.querySelector("tbody").appendChild(a),l.scrollIntoView(),l.focus(),document.execCommand("selectAll",!1,null),d.editing=!0},startRenameRow:function(){},startReconstruction:function(a){let l=a.target.dataset.key,p=a.target.closest(".tree-box").myTree,n=p.desc,r=document.createRange().createContextualFragment(`<div id="reconstructionoptions" class="popup">
    <form id="reconstructionform">
      <div>
        <label for="reconstructed_node_name">Label for node:</label>
        <input type="text" id="reconstructed_node_name" name="reconstructed_node_name" placeholder="${n}-${l}" size="15">
      </div>
      <div style="width: 100%; display: flex; justify-content: center;padding-top: 1em;">
        <button type="submit">Add to matrix</button>
      </div>
    </form>
</div>`),i=function(h){h.preventDefault();let g=blackout.querySelector("input"),x=g.value?g.value:g.placeholder;F.doReconstruction(p,l,x)};u.blackout(r,i)},thKeyDown:function(a){a.key==="Enter"&&F.finishNewRow(a)},finishNewRow:function(a){let l=a.target,p=l.textContent;l.closest("tr").dataset.n=p;let n=u.tei(p);d.xml.documentElement.appendChild(n),d.editing=!1,l.contentEditable=!1,l.removeEventListener("blur",F.finishNewRow),l.removeEventListener("keydown",F.thKeyDown),F.doStack([F.doDeleteRow,[p]],"do")},finishEditCell:function(a,l=!1){let p=a.target;d.editing=!1,p.contentEditable="false",p.removeEventListener("blur",F.finishEditCell),p.removeEventListener("keydown",F.cellKeyDown),p.blur(),se.deselect();let n=p.textContent;if(n===""){let g=p.querySelector("br");g&&g.remove()}if(l||n===p.dataset.oldContent)return;p.hasOwnProperty("IAST")||(p.IAST=p.cloneNode(!0)),p.IAST.textContent=n;let r=parseInt(p.dataset.n),i=p.closest("tr"),h=i.dataset.n;if(F.xmlChangeCell(r,h,n),i.dataset.hasOwnProperty("treename")&&!p.dataset.hasOwnProperty("emended")){let g=F.doEmend(r,h,"multido"),x=[];x.push([F.doChangeCell,[r,h,p.dataset.oldContent]]),x.push(g),F.doStack([F.doMulti,[x]],"do")}else F.doStack([F.doChangeCell,[r,h,p.dataset.oldContent]],"do");delete p.dataset.oldContent,F.refresh(),me.updateAllHeaders(!0),p.classList.add("highlitcell")},finishMoveRow:function(a){let l=a.target.nodeType===1?a.target.closest("tr"):a.target.parentElement.closest("tr");if(l&&F.doMoveRow(d.dragged,l,"do"),a.type!=="drop"){for(let p of f.trs())p.classList.remove("moveinprogress");d.matrix.boxdiv.querySelector("table").removeEventListener("mousedown",F.finishMoveRow)}else for(let p of f.trs())p.classList.remove("dragenter");d.dragged.classList.remove("dragging"),d.dragged=null},doReconstruction:function(a,l,p){let n=u.row(p,"pending");n.dataset.treename=a.name,n.dataset.nodename=l;let r=n.querySelector("th"),i=document.createElement("div");i.id="spinner",r.prepend(i);let h=u.tei(p);h.setAttribute("type","reconstructed"),h.setAttribute("corresp",a.name),h.setAttribute("select",`#${l}`);let g=[...f.tds(!1,n)],x=[...f.words(!1,h)];d.matrix.boxdiv.querySelector("tbody").appendChild(n),r.scrollIntoView();let A=new Worker("./worker.js"),I=s.normalizedView(),N=f.serializedtexts(a.nexml,I),V=new Map(N.map(U=>[U[0],U[1][0]]));A.postMessage({readings:V,levels:a.levels,num:0,id:l}),A.onmessage=function(U){let re=U.data.n,ge=U.data.result;if(g[re].textContent=ge,g[re].IAST=g[re].cloneNode(!0),g[re].classList.remove("pending"),x[re].textContent=ge,re<d.maxlemma){let ye=new Map(N.map(ve=>[ve[0],ve[1][re+1]]));A.postMessage({readings:ye,levels:a.levels,num:re+1,id:l})}else{r.removeChild(i),d.xml.documentElement.appendChild(h),me.updateAllHeaders(),a.draw();let ye=f.highlit();ye.size>0&&L.repopulateTrees(...f.lowhigh(ye));let ve=document.getElementById("menu").querySelector(".ms"),_e=document.createElement("li");_e.setAttribute("data-name",p),_e.appendChild(document.createTextNode(p)),ve.appendChild(_e),F.doStack([F.doDeleteRow,[p]],"do")}}},doDeleteRow:function(a,l="do"){let p=f.tr(a),n=f.tei(a),i=[...f.teis()].indexOf(n);p.parentNode.removeChild(p),n.parentNode.removeChild(n),me.updateAllHeaders(),G(),T(),F.doStack([F.doUndeleteRow,[p,n,i]],l)},doUndeleteRow:function(a,l,p,n="do"){let r=l.getAttribute("n"),i=[...f.teis()];if(p===i.length)d.xml.documentElement.appendChild(l),d.matrix.boxdiv.querySelector("tbody").appendChild(a);else{let h=[...f.trs()];d.xml.documentElement.insertBefore(l,i[p]),h[p].parentNode.insertBefore(a,h[p])}me.updateAllHeaders(),G(),T(),F.doStack([F.doDeleteRow,[r]],n)},doMoveRow:function(a,l,p="do"){let n=a.parentNode,r=[...f.trs()],i=a.previousElementSibling,h=r.indexOf(a),g=l!==null?r.indexOf(l):null,x=function(){l===null?n.insertBefore(a,n.firstChild):l.nextElementSibling?n.insertBefore(a,l.nextElementSibling):n.appendChild(a)},A=function(){let I=d.xml.documentElement,N=[...f.teis()],V=N[h];if(g===null)I.insertBefore(V,N[0]);else{let U=N[g];U.nextElementSibling?I.insertBefore(V,U.nextElementSibling):I.appendChild(V)}};if(x(),A(),p==="multido")return[F.doMoveRow,[a,i]];F.doStack([F.doMoveRow,[a,i]],p)},doMerge:function(a,l="do"){let p=function(h,g,x){let A=h();var I=[];for(let N of A){let V=[...x].map(ge=>g(ge,N)),U=V.map(ge=>ge.cloneNode(!0));I.push(U);for(let ge of V)F.unnormalize(ge);let re=V.reduce(function(ge,ye){if(ye.hasChildNodes())for(;ye.firstChild;)ge.appendChild(ye.firstChild);return ye.parentNode.removeChild(ye),ge});re.normalize(),re.dataset?(delete re.dataset.normal,re.IAST=re.cloneNode(!0)):re.removeAttribute("lemma")}return[h,g,I]},n=p(f.trs,f.firsttd,a),r=p(f.texts,f.firstword,a),i=parseInt([...a][0]);if(F.renumber(i),F.restyleGroups(a),F.refresh(),me.updateAllHeaders(),l==="multido")return[F.doUnmerge,[n,r]];F.doStack([F.doUnmerge,[n,r]],l)},doUnmerge:function(a,l,p="undo"){let n=function(g,x,A){let I=f.whichattr(A[0][0]),N=A[0].map(ge=>ge.getAttribute(I)),V=N[0],U=g();for(var re=0;re<U.length;re++){let ge=A[re].pop(),ye=x(V,U[re]);ye.parentNode.replaceChild(ge,ye);for(let ve of A[re])ge.parentNode.insertBefore(ve,ge)}return N};n(...a);let r=n(...l),h=[...r].sort((g,x)=>parseInt(g)-parseInt(x))[0];if(F.renumber(h),F.reIAST(r),F.refresh(),F.restyleGroups(r),me.updateAllHeaders(),p==="multido")return[F.doMerge,[r]];F.doStack([F.doMerge,[r]],p)},doGroupWords:function(){let a=0,l=[];for(let p=0;p<=d.maxlemma;p++){let n=f.tds(p),r=n[0].classList;if(r.contains("group-start")||r.contains("group-internal")||r.contains("group-end")){a=p+1;continue}let i=n.length,h=0;if(p===d.maxlemma)h=i;else for(let g of n)(g.IAST?g.IAST.textContent:g.textContent).slice(-1)===" "&&h++;if(h/i>=.5)if(a===p){a++;continue}else{let g=f.range(a,p);l.push([F.group.go,[g]]),a=p+1}}F.doMulti(l)},doEmend:function(a,l,p="do"){let n=[...f.trs()][l],r=f.firsttd(a,n);r.dataset.emended=!0;let i=f.tei(l).querySelector("text");if(f.firstword(a,i).setAttribute("emended","true"),p==="multido")return[F.doUnemend,[a,l]];F.doStack([F.doUnemend,[a,l]],p)},doUnemend:function(a,l,p="do"){let n=[...f.trs()][l],r=f.firsttd(a,n);delete r.dataset.emended;let i=f.tei(l).querySelector("text");if(f.firstword(a,i).removeAttribute("emended"),p==="multido")return[F.doEmend,[a,l]];F.doStack([F.doEmend,[a,l]],p)},doChangeCell:function(a,l,p,n="do"){let r=F.xmlChangeCell(a,l,p),i=F.htmlChangeCell(a,l,p);if(F.refresh(),me.updateAllHeaders(!0),se.textClick({target:i}),n==="multido")return[F.doChangeCell,[a,l,r]];F.doStack([F.doChangeCell,[a,l,r]],n)},htmlChangeCell:function(a,l,p){let n=f.tr(l),r=f.firsttd(a,n);return F.unnormalize(r),r.textContent=p,r.IAST&&(r.IAST=r.cloneNode(!0)),r},xmlChangeCell:function(a,l,p){let n=f.tei(l).querySelector("text"),r=f.firstword(a,n);F.unnormalize(r);let i=r.textContent;return r.childNodes.length===0?r.appendChild(document.createTextNode(p)):r.textContent=p,i},doMarkAs:function(a,l,p="do"){let n=[...l.keys()],r=f.attr(a,n);for(let i of n){let h=f.tds(i),g=f.words(i);if(l.get(i)===!0){for(let A of h)A.dataset[a]="true";for(let A of g)A.setAttribute(a,"true")}else{for(let A of h)delete A.dataset[a];for(let A of g)A.removeAttribute(a)}let x=f.checkbox(i,a);x.checked=l.get(i)}if(p==="multido")return[F.doMarkAs,[a,r]];F.doStack([F.doMarkAs,[a,r]],p)},refresh:function(){for(let a of d.textboxes)a.refresh();L.rehighlight(),s.anyhighlit()?L.repopulateTrees(...f.lowhigh(f.highlit())):L.clearTrees()},renumber:function(a=0){let l=function(p,n,r){let i=p();for(let g of i){let x=[...n(!1,g)],A=f.whichattr(x[0]);for(var h=parseInt(r)+1;h<x.length;h++)x[h].setAttribute(A,h)}};l(f.trs,f.tds,a),l(()=>[!0],f.ths,a),l(f.texts,f.words,a),d.maxlemma=f.maxlemma()},reIAST:function(a){let l=[...a].map(p=>[...f.lemmata(p)]).flat();for(let p of l)p.IAST=p.cloneNode(!0)},restyleGroups:function(a,l=!1){let n=l?function(i){var h=[...i];let g=parseInt(a[0])-1,x=parseInt(a[a.length-1])+1;return h.unshift(g),h.push(x),h}(a):a,r=function(i,h=!1){let g=new Set(["group-start","group-internal","group-end"]);h&&g.delete(h);for(let x of i){for(let A of g)x.classList.remove(A);h&&x.classList.add(h)}};for(let i of n){let h=f.firstword(i),g=f.tds(i);if(g.length===0)continue;let x=h.closest("cl");x?h===x.firstElementChild?r(g,"group-start"):h===x.lastElementChild?r(g,"group-end"):r(g,"group-internal"):r(g)}},startRenormalize:function(a){let l=a===!1?f.highlit():a;F.doRenormalize(Math.min(...l),Math.max(...l))},doRenormalize:function(a,l,p=!1,n="do"){s.normalizedView()||me.showNormalized();let r=new Map,i=[...f.trs()],h=[...f.texts()],g=p?[p]:[...i.keys()];for(let x of g){let A=new Map,I=h[x],N=[...f.words(!1,I)],V=f.firstword(a,I),U=f.firstword(l,I),re=N.indexOf(V),ge=N.indexOf(U),ye=N.slice(re,ge+1),ve=i[x],Se=[...f.tds(!1,ve)].slice(re,ge+1),Ae=ye.map(Le=>Le.textContent),ke=w1(Ae);for(let Le=0;Le<ke.length;Le++){let Me=ye[Le],Ie=ke[Le],Te=Ae[Le],qe=Se[Le],ze=Me.hasAttribute("lemma")?Me.getAttribute("lemma"):!1;if(ze!==!1){if(ze===Ie)continue;A.set(qe.dataset.n,ze),F.unnormalize(Me),F.unnormalize(qe)}else A.set(qe.dataset.n,null);Ie!==Te&&(Me.setAttribute("lemma",Ie),qe.dataset.normal=Ie,qe.textContent=Ie)}r.set(x,A)}me.updateAllHeaders(!0),me.xScrollToHighlit(),F.doStack([F.doUnrenormalize,[r]],n)},doUnrenormalize:function(a,l="undo"){s.normalizedView()||me.showNormalized();let p=new Map,n=[...f.trs()],r=[...f.texts()];for(let[i,h]of a.entries()){let g=n[i],x=r[i],A=new Map;for(let[I,N]of h.entries()){let V=f.firsttd(I,g),U=f.firstword(I,x),re=U.hasAttribute("lemma")?U.getAttribute("lemma"):null;A.set(I,re),N===null?(F.unnormalize(V),F.unnormalize(U)):(V.dataset.normal=N,U.setAttribute("lemma",N),V.textContent=N)}p.set(i,A)}F.doStack([F.doUnrenormalize,[p]],l)},unnormalize:function(a){a.hasOwnProperty("IAST")&&(a.textContent=a.IAST.textContent),a.dataset&&a.dataset.hasOwnProperty("normal")&&delete a.dataset.normal,a.getAttribute("lemma")&&a.removeAttribute("lemma")}},me={toggleNormalize:function(){s.normalizedView()?me.showUnnormalized():me.showNormalized()},showNormalized:function(a){if(a)a.updatescript();else{document.getElementById("views").classList.add("normalized");for(let p of d.textboxes)p.updatescript();d.matrix.updatescript(),s.anyhighlit()?L.repopulateTrees(...f.lowhigh(f.highlit())):L.clearTrees()}me.updateAllHeaders(!0),me.xScrollToHighlit()},showUnnormalized:function(){document.getElementById("views").classList.remove("normalized"),d.matrix.updatescript();for(let a of d.textboxes)a.updatescript();s.anyhighlit()?L.repopulateTrees(...f.lowhigh(f.highlit())):L.clearTrees(),me.updateAllHeaders(!0),me.xScrollToHighlit()},toggleHeader:function(){let a=d.matrix.boxdiv.querySelector("tr.header");a.style.display==="none"?a.style.display="table-row":a.style.display="none"},updateHeaders(a){for(let l of a){let p=f.firstth(l),[n,r]=f.readings(l),i=p.querySelector("span.readings"),h=n<2?n:`${n}(${r.size})`;i.textContent=h}},updateAllHeaders(a=!1){let l=[...f.trs()],p=l.map(g=>f.trWalker(g)),n=[...f.tds(!1,l[0])],r=[...f.ths()],i=d.matrix.boxdiv.querySelector("tr.header"),h=function(){let g=document.createElement("th"),x=document.createElement("span");x.classList.add("readings"),g.appendChild(x);let A=document.createElement("form");return A.innerHTML='<div><input class="insignificant" type="checkbox">Insignificant</div><div><input class="binary" type="checkbox">Binary</div>',g.appendChild(A),i.appendChild(g),g};for(let g=0;g<n.length;g++){let x=g>=r.length?h():r[g],A=n[g];x.dataset.ref=A.dataset.n;let I=0,N=new Set;for(let U of p){let re=U.nextNode().textContent;re!==""&&(I++,N.add(re))}let V=I<2?I:`${I}(${N.size})`;x.querySelector("span.readings").textContent=V,a||(x.querySelector("input.insignificant").checked=!!A.dataset.insignificant,x.querySelector("input.binary").checked=!!A.dataset.binary)}if(r.length>n.length)for(let g=n.length;g<r.length;g++)i.removeChild(r[g])},xScrollToHighlit:function(){let a=f.highlit();a.size>0&&me.xScroll([...a][0])},xScroll:function(a,l){if(!a)return;let p=l||f.firsttr(),n=f.firsttd(a,p),r=n.getBoundingClientRect(),i=d.matrix.boxdiv,g=i.getBoundingClientRect().right,x=p.querySelector("th").getBoundingClientRect(),A=x.right,I=r.right>g,N=r.left+.1<A;I&&n.scrollIntoView({inline:"end",block:"nearest"}),N&&(n.scrollIntoView({inline:"start",block:"nearest"}),i.scroll({left:i.scrollLeft-x.width}))}},de={create:function(a){let l=document.createElement("div");return l.classList.add("contextmenu"),l.style.left=a.clientX-12+"px",l.style.top=a.clientY-22+"px",l},remove:function(){for(let a of document.querySelectorAll(".contextmenu"))a.parentNode.removeChild(a)},show:function(a){document.body.appendChild(a)},populate:function(a,l){let p=document.createElement("ul");for(let n of l){let r=document.createElement("li");if(n.hasOwnProperty("cond")){let i=document.createRange().createContextualFragment('<form><input type="checkbox"'+(n.cond()?" checked":"")+"></form>");r.appendChild(i)}if(n.hasOwnProperty("toggle")){let i=n.toggle()?n.text:n.alt;r.appendChild(document.createTextNode(i))}else r.appendChild(document.createTextNode(n.text));r.addEventListener("mouseup",n.func),p.appendChild(r)}a.appendChild(p)}};class we{constructor(l){this.name=l,this.box=document.createElement("div"),this.box.classList.add("menubox");let p=document.createElement("div");p.classList.add("heading"),p.appendChild(document.createTextNode(l)),this.box.appendChild(p),p.addEventListener("mouseover",this.checkConditions.bind(this)),this.box.addEventListener("mouseup",this.click.bind(this)),this.items=new Map,this.conditions=new Map}populate(l){let p=this.box.querySelector("ul")||function(n){let r=document.createElement("ul");return n.box.appendChild(r),r}(this);for(let n of l){let r=document.createElement("li");if(n.hasOwnProperty("checkbox")){let i=document.createElement("form"),h=document.createElement("input");h.type="checkbox",h.addEventListener("click",g=>g.preventDefault()),i.appendChild(h),r.appendChild(i),r.appendChild(document.createTextNode(n.text)),this.conditions.set(h,n.checkbox)}else if(n.hasOwnProperty("toggle")){let i=document.createElement("span");i.appendChild(document.createTextNode(n.text)),i.dataset.text=n.text,i.dataset.alt=n.alt,this.conditions.set(i,n.toggle),r.appendChild(i)}else r.appendChild(document.createTextNode(n.text));n.hasOwnProperty("greyout")&&this.conditions.set(r,n.greyout),this.items.set(r,n.func),p.appendChild(r)}}click(l){let p=l.target.tagName==="LI"?l.target:l.target.closest("li");if(p&&!p.classList.contains("greyedout")){let n=this.items.get(p);n&&(n(l),this.checkConditions())}}checkConditions(){let l=new Map;for(let[p,n]of this.conditions){let r=l.get(n)||function(){let i=n();return l.set(n,i),i}();p.tagName==="INPUT"?p.checked=r:p.tagName==="SPAN"?r?p.textContent=p.dataset.alt:p.textContent=p.dataset.text:p.tagName==="LI"&&(r?p.classList.remove("greyedout"):p.classList.add("greyedout"))}}}class X{constructor(l){this.name=l,this.script=0}show(){d.descs.appendChild(this.descbox),s.normalizedView()&&me.showNormalized(this),d.viewdiv.appendChild(this.boxdiv),this.closed=!1}clear(){for(;this.boxdiv.firstChild;)this.boxdiv.removeChild(this.boxdiv.firstChild);this.svgcontainer&&(this.clearsvg(),this.boxdiv.appendChild(this.svgcontainer))}destroy(){d.viewdiv.removeChild(this.boxdiv),d.descs.removeChild(this.descbox);let l=d.trees.indexOf(this);l>-1&&d.trees.splice(l,1);let p=d.textboxes.indexOf(this);p>-1&&d.textboxes.splice(p,1),this.closed=!0,this.name==="Matrix"&&(document.getElementById("matrixmenu").style.display="block"),T(),L.rehighlight()}pullout(){this.destroy();let l="menubar=no,location=no,status=no,height=620,width=620,scrollbars=yes,centerscreen=yes",p=window.mainWindow?window.mainWindow.comboView.getWindows().length:d.windows.length,n=window.open("branch.html","branch"+p,l);n.mainWindow=window.mainWindow?window.mainWindow:window,n.startbox=this.text?{text:{name:this.name}}:{tree:this.name},n.mainWindow.comboView.addWindow(n)}makeDescBox(){let l=document.createElement("div"),p=document.createElement("div");p.classList.add("closer"),p.innerHTML="x",p.title="close";let n=document.createElement("div");n.classList.add("scripter"),n.innerHTML="A",n.title="change script",l.appendChild(p),l.appendChild(n),l.appendChild(document.createTextNode(this.desc)),this.descbox=l,p.addEventListener("click",this.destroy.bind(this)),n.addEventListener("click",this.cyclescript.bind(this))}cyclescript(){this.script=this.script+1,this.script===d.scripts.length&&(this.script=0);let l=this.descbox.querySelector(".scripter");this.script===0?l.innerHTML="A":l.innerHTML=to[d.scripts[this.script]]("a"),d.scripts[this.script]==="grantha"?l.classList.add("grantha"):l.classList.remove("grantha"),this.updatescript()}updatescript(){let l=this.boxdiv.querySelectorAll(".lemma,.tree-lemma");for(let p of l){let n=p.dataset.hasOwnProperty("normal");if(!n&&p.textContent.trim()==="")continue;let r=function(){if(s.normalizedView()&&n){let h=document.createElement("span");return h.appendChild(document.createTextNode(p.dataset.normal)),h}else return p.IAST.cloneNode(!0)}(),i=this.script===0?r:Ot(r,d.scripts[this.script]);for(p.innerHTML="";i.firstChild;)p.appendChild(i.firstChild)}d.scripts[this.script]==="grantha"?this.boxdiv.classList.add("grantha"):this.boxdiv.classList.remove("grantha"),this.boxdiv.classList.contains("matrix")&&me.xScrollToHighlit()}}class xe extends X{constructor(l,p){super(`#${l} #${p}`);this.stemmaid=l,this.id=p,this.nexml=d.treelist.get(this.name).cloneNode(!0),this.desc=this.nexml.querySelector("tree").getAttribute("label")}init(){this.makeDescBox();let l=document.createElement("div");l.classList.add("tree-box");var p,n=0;do p="tree"+n,n++;while(document.getElementById(p));l.id=p,this.boxdiv=l,this.boxdiv.addEventListener("mouseover",se.treeMouseover.bind(this)),this.boxdiv.addEventListener("click",se.treeClick),this.svgcontainer=document.createElement("div"),this.svgcontainer.id=this.boxdiv.id+"container",this.boxdiv.appendChild(this.svgcontainer),this.boxdiv.myTree=this,this.calcPaths(),this.jiggleroot(),this.findLevels(),this.labelInternal()}show(){d.descs.appendChild(this.descbox),d.viewdiv.appendChild(this.boxdiv)}jiggleroot(){let l=this.nexml.evaluate('//nex:node[@root="true"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,p=this.nexml.evaluate('//nex:edge[@source="'+l.id+'"]|//nex:edge[@target="'+l.id+'"]',this.nexml,this.nsResolver,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);if(p.snapshotLength===3){var n,r;for(let i=0;i<p.snapshotLength;i++){let h=p.snapshotItem(i),g=h.getAttribute("source"),x=h.getAttribute("target"),A=this.nexml.evaluate('//nex:node[@id="'+g+'"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,I=this.nexml.evaluate('//nex:node[@id="'+x+'"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(!A.hasAttribute("otu")&&!I.hasAttribute("otu")){n=h,r=x===l.id?"target":"source";break}}if(n){let i=this.nexml.createElementNS(l.namespaceURI,"node");i.id="fakeroot",i.setAttribute("root","true"),l.removeAttribute("root"),l.parentElement.insertBefore(i,l);let h=this.nexml.createElementNS(l.namespaceURI,"edge");h.id="newrootedge",h.setAttribute("length","0"),h.setAttribute("source","fakeroot"),h.setAttribute("target",l.id),l.parentElement.insertBefore(h,n),n.setAttribute(r,i.id)}}}findLevels(){let l=this.nexml.querySelectorAll("edge"),p=[...this.nexml.querySelectorAll("node[otu]")],n=this.nexml,r=[p],i=function(x,A){let I=x.map(ve=>ve.id),N=new Map,V=new Map,U=[];for(let ve of A){let _e=ve.getAttribute("target"),Se=ve.getAttribute("source"),Ae=(()=>I.indexOf(_e)!==-1?{ancestor:n.getElementById(Se),child:n.getElementById(_e)}:I.indexOf(Se)!==-1?{ancestor:n.getElementById(_e),child:n.getElementById(Se)}:null)();if(Ae!==null)if(V.has(Ae.ancestor)){let ke=V.get(Ae.ancestor);N.set(Ae.ancestor,[ke.child,Ae.child]),U.push(ve),U.push(ke.edge)}else V.set(Ae.ancestor,{child:Ae.child,edge:ve})}let re=[...N.keys()],ge=[...V.keys()].reduce((ve,_e)=>(re.indexOf(_e)===-1&&ve.push(V.get(_e).child),ve),[]),ye=[...A].reduce((ve,_e)=>(U.indexOf(_e)===-1&&ve.push(_e),ve),[]);return{match:N,remainder:[...new Set(ge)],edges:ye}};var h=p,g=l;do{let x=i(h,g);r.push(x.match),h=[...x.match.keys(),...x.remainder],g=x.edges}while(g.length>0);this.levels=f.serializedlevels(r)}labelInternal(){for(let l of this.nexml.querySelectorAll("node:not([label])"))l.setAttribute("label",l.id)}fitch(){let l=new Map(this.levels[0].map(n=>{let r=s.normalizedView(),i=this.nexml.querySelector(`node[id="${n}"]`).getAttribute("label"),h=this.boxdiv.querySelector(`span.tree-lemma[data-id="${i}"]`),g=h?f.htmlreading(h,r):void 0;return[n,g]})),p=new T1(l,this.levels).run();for(let[n,r]of p){let i=this.boxdiv.querySelector(`span.internal[data-key="${n}"]`);i.dataset.reconstructed=r}}clearsvg(){for(;this.svgcontainer.firstChild;)this.svgcontainer.removeChild(this.svgcontainer.firstChild)}removecolors(){let l=this.nexml.querySelectorAll("node[color]");for(let p=0;p<l.snapshotLength;p++)l.snapshotItem(p).removeAttribute("color")}drawlines(l,p){if(this.removecolors(),l){let g=this.getPath(...l.split(";")).path,x=new Set;for(let A of g)x.add(A.getAttribute("target")),x.add(A.getAttribute("source"));for(let A of x){let I=this.nexml.evaluate('//nex:node[@id="'+A+'"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;I.getAttribute("root")||I.setAttribute("color",p)}}let n=parseInt(window.getComputedStyle(this.svgcontainer,null).width)-15,r=parseInt(window.getComputedStyle(this.boxdiv,null).height)-10,i=function(){return r<600?600:r}();q.PhyloCanvas.Render.Style.line.stroke="rgb(162,164,170)",this.phylocanvas=new q.PhyloCanvas({nexml:this.nexml,fileSource:!0},this.svgcontainer.id,n,i);let h=this.svgcontainer.querySelectorAll('path:not([stroke="#a2a4aa"])');for(let g of h)g.style.strokeWidth="2"}draw(){this.clear(),this.drawlines(),this.makeLabels()}clearLabels(){for(let l of this.boxdiv.firstChild.querySelectorAll("text"))l.parentElement.removeChild(l)}makeLabels(){let l=[...f.texts()],p=new Set(l.map(r=>r.parentNode.getAttribute("n"))),n=new Map(l.filter(r=>r.parentNode.hasAttribute("corresp")&&r.parentNode.getAttribute("corresp")===this.name).map(r=>[r.parentNode.getAttribute("select").replace(/^#/,""),r.parentNode.getAttribute("n")]));for(let r of this.boxdiv.firstChild.querySelectorAll("text")){let i=document.createElement("div");i.setAttribute("class","tree-div");let h=parseInt(r.getAttribute("x")-5),g=parseInt(r.getAttribute("y"))-15;i.style.left=h+"px",i.style.top=g+"px";let x=r.textContent.trim();p.has(x)?i.innerHTML=`<span class="witness inactive" data-key="${x}">${x}</span><span class="tree-lemma ${x}" data-id="${x}"></span>`:x!=="fakeroot"?n.has(x)?i.innerHTML=`<span class="internal reconstructed" data-key="${x}" data-label="${n.get(x)}">${n.get(x)}</span><span class="tree-lemma invisible ${x}" data-id="${x}" data-label="${n.get(x)}"></span>`:i.innerHTML=`<span class="internal" data-key="${x}">0</span>`:i.innerHTML=`<span class="internal" data-key="${x}"></span>`,r.parentElement.removeChild(r),this.boxdiv.appendChild(i)}}clearlemmata(){for(let l of this.boxdiv.querySelectorAll("span.tree-lemma"))l.innerHTML="",l.dataset.hasOwnProperty("normal")&&delete l.dataset.normal,l.IAST=l.cloneNode(!0)}populate(l,p){let n=f.texts();for(let h of n){let g=h.parentNode.getAttribute("n"),x=this.boxdiv.querySelector(`span.tree-lemma[data-id="${g}"]`)||this.boxdiv.querySelector(`span.tree-lemma[data-label="${g}"]`);if(!!x){if(x.hasOwnProperty("IAST")||(x.IAST=x.cloneNode(!0)),x.IAST.innerHTML="",p){let A=[],I=[];var r=!1;for(let N=l;N<=p;N++){let V=f.firstword(N,h);A.push(V.innerHTML),V.hasAttribute("lemma")&&(I[N-l]=V.getAttribute("lemma")),V.hasAttribute("emended")&&(r=!0)}if(x.IAST.appendChild(M.transformString(A.join(" ").replace(/\s+/g," ").trim(),M.sheets.tree)),I.length!==0){let N=A.slice(0).map((U,re)=>I.hasOwnProperty(re)?I[re]:U),V=document.createElement("span");V.appendChild(M.transformString(N.join(" ").replace(/\s+/g," ").trim(),M.sheets.tree)),x.dataset.normal=V.innerHTML}r?x.dataset.emended=!0:x.dataset.hasOwnProperty("emended")&&delete x.dataset.emended}else{let A=f.firstword(l,h);x.IAST.appendChild(M.transformString(A.innerHTML,M.sheets.tree)),A.hasAttribute("lemma")?x.dataset.normal=A.getAttribute("lemma"):delete x.dataset.normal,A.hasAttribute("emended")?x.dataset.emended=!0:x.dataset.hasOwnProperty("emended")&&delete x.dataset.emended}s.normalizedView()&&x.dataset.hasOwnProperty("normal")?x.innerHTML=x.dataset.normal:x.innerHTML=x.IAST.innerHTML}}let i=this.boxdiv.querySelectorAll(".inactive");for(let h of i)h.classList.remove("inactive");this.fitch()}calcPaths(){this.nodes=[],this.paths=[],this.longest={path:[]},this.nsResolver=this.nexml.createNSResolver(this.nexml.ownerDocument==null?this.nexml.documentElement:this.nexml.ownerDocument.documentElement);let l=this.nexml.evaluate("//nex:node[@label]",this.nexml,this.nsResolver,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE);for(let p=0;p<l.snapshotLength;p++)this.nodes.push(l.snapshotItem(p));for(let p=0;p<this.nodes.length;p++){let n=this.nodes[p],r=n.getAttribute("label"),i=n.id;for(let h=p+1;h<this.nodes.length;h++){let g=this.nodes[h],x=g.getAttribute("label"),A=g.id;this.paths.push({nodes:[r,x],path:this.pathFind(i,A)})}}for(let p of Object.keys(this.paths))this.paths[p].path.length>this.longest.path.length&&(this.longest=this.paths[p])}pathFind(l,p,n){n||(n=[]);let r=this.nexml.evaluate('//nex:edge[@source="'+l+'"]|//nex:edge[@target="'+l+'"]',this.nexml,this.nsResolver,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);var i;for(let h=0;h<r.snapshotLength;h++){let g=r.snapshotItem(h);if(i=[g],n.indexOf(g.id)!=-1)continue;n.push(g.id);let x=g.getAttribute("source")!==l?g.getAttribute("source"):g.getAttribute("target");if(x===p)return i;if(!this.nexml.evaluate('//nex:node[@id="'+x+'"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue.hasAttribute("otu")){let I=this.pathFind(x,p,n);if(I)return i.concat(I);continue}}return!1}analyzeVariants(l,p){let n=[],r=[],i=function(I){return I.startsWith("<lg")?M.transformString(I,M.sheets.lg).firstChild.data.slice(1):I},h=function(I){return I.map(N=>i(N)).join(" ").replace(/\s+/g," ").trim()},g=s.normalizedView()?function(I,N){let V=f.firstword(I,N);return V.hasAttribute("lemma")?V.getAttribute("lemma"):V.textContent}:function(I,N){return f.firstword(I,N).textContent};for(let I of f.texts()){let N=I.parentNode.getAttribute("n");if(!this.nexml.querySelector(`otu[label="${N}"]`))continue;let V=p?h(f.range(l,p).map(U=>g(U,I))):i(g(l,I));V===""?n.hasOwnProperty("")?n[""].push(N):n[""]=[N]:n.hasOwnProperty(V)?n[V].push(N):n[V]=[N]}let x={};for(let I of Object.keys(n)){var A={length:0,branch_length:0,paths:[]};if(n[I].length===1)A=!1;else for(let N=0;N<n[I].length;N++)for(let V=N+1;V<n[I].length;V++){let U=this.getPath(n[I][N],n[I][V]);if(U.hasOwnProperty("path")||alert(U),U.path.length===A.length){let re=this.calcBranchLength(U.path);re===A.branch_length?A.paths.push(U):re>A.branch_length&&(A={length:U.path.length,branch_length:re,paths:[U]})}else U.path.length>A.length&&(A={length:U.path.length,branch_length:this.calcBranchLength(U.path),paths:[U]})}x[I]=A}for(let I of Object.keys(r))x[I]=r[I];return x}getPath(l,p){for(let n of this.paths)if(n.nodes.indexOf(l)>-1&&n.nodes.indexOf(p)>-1)return n;return!1}calcBranchLength(l){return l.map(p=>p.getAttribute("length")).reduce((p,n)=>parseFloat(p)+parseFloat(n))}pickColour(l,p,n,r){var i=p,h=n,g=l;r&&(g=g*2,g>=1&&(g-=1,i=n,h=r));let x=h.red-i.red,A=h.green-i.green,I=h.blue-i.blue,N={red:parseInt(Math.floor(i.red+x*g),10),green:parseInt(Math.floor(i.green+A*g),10),blue:parseInt(Math.floor(i.blue+I*g),10)};return"rgb("+N.red+","+N.green+","+N.blue+")"}colourizeVariants(l,p){let n=this.analyzeVariants(l,p);for(let r of this.boxdiv.querySelectorAll("span.tree-lemma")){let i=n.hasOwnProperty(r.dataset.id)?n[n[r.dataset.id]]:n[r.textContent],h={red:252,green:70,blue:107},g={red:63,green:94,blue:251};i?(r.style.color=this.pickColour(i.length/this.longest.path.length,g,h),r.dataset.length=i.length,r.dataset.branch_length=i.branch_length,r.dataset.nodes=i.paths[0].nodes.join(";")):(r.style.color=this.pickColour(1/this.longest.path.length,g,h),r.dataset.length=0,r.dataset.branch_length=0,r.dataset.nodes=""),r.textContent.trim()===""?(r.innerHTML='<span lang="en">   </span>',r.style.backgroundColor=r.style.color):r.style.backgroundColor=""}}}class Ce extends X{constructor(l){super(l);this.desc=l,this.text=f.firsttext(l)}init(){this.makeTextBox(),this.makeDescBox(),this.descbox.style.maxWidth="595px",this.descbox.style.paddingLeft="5px",this.boxdiv.addEventListener("mouseup",se.textMouseup)}refresh(){this.boxdiv.innerHTML="",this.boxdiv.appendChild(M.sheets.lemma.transformToFragment(this.text,document)),D(this.boxdiv);for(let l of f.lemmata(!1,this.boxdiv))l.IAST=l.cloneNode(!0);this.updatescript()}makeTextBox(){let l=document.createElement("div");l.dataset.id=this.name,l.classList.add("text-box"),l.appendChild(M.sheets.lemma.transformToFragment(this.text,document)),D(l);for(let p of f.lemmata(!1,l))p.IAST=p.cloneNode(!0);this.boxdiv=l}}class ee extends X{constructor(){super(name);this.desc="Matrix",this.name="Matrix",this.makeDescBox(),this.makeViewBox(),this.descbox.style.maxWidth="100vw",this.descbox.style.paddingLeft="5px"}init(){this.makeTable()}makeViewBox(){let l=document.createElement("div");l.classList.add("matrix"),l.dataset.id=this.name,this.boxdiv=l}makeTable(){let l=document.createElement("div");l.classList.add("scroller"),l.append(M.sheets.matrix.transformToFragment(d.xml,document)),l.addEventListener("dragstart",se.thDragStart),l.addEventListener("dragenter",se.trDragEnter),l.addEventListener("dragleave",se.trDragLeave),l.addEventListener("dragover",x=>x.preventDefault()),l.addEventListener("drop",se.trDragDrop),l.addEventListener("mousedown",se.matrixMousedown);let p=document.createElement("tr");p.classList.add("header");let n=document.createElement("td");n.classList.add("anchor"),p.appendChild(n);let r=[...f.trs(l)],i=r.map(x=>f.trWalker(x)),h=f.tds(!1,r[0]);for(let x of h){let A=document.createElement("th");A.dataset.ref=x.dataset.n;let I=0,N=new Set;for(let ge of i){let ye=ge.nextNode();ye.IAST=ye.cloneNode(!0);let ve=ye.textContent;ve!==""&&(I++,N.add(ve))}let V=I<2?I:`${I}(${N.size})`,U=document.createElement("span");U.classList.add("readings"),U.appendChild(document.createTextNode(V)),A.appendChild(U);let re=document.createElement("form");re.innerHTML='<div><input class="insignificant" title="insignificant" type="checkbox"'+(x.dataset.insignificant?"checked":"")+'></div><div><input class="binary" title="binary" type="checkbox"'+(x.dataset.binary?"checked":"")+"></div>",A.appendChild(re),p.appendChild(A)}let g=l.querySelector("tbody");g.insertBefore(p,g.firstChild),this.boxdiv.append(l)}}return{branchinit:function(){comboView.init(),window.startbox!==void 0&&(window.startbox.tree?b.tree(window.startbox.tree.stemmaid,window.startbox.tree.id):window.startbox.text&&b.text(window.startbox.text.name,window.startbox.text.map))},maininit:function(){let a=document.getElementById("menu");a.addEventListener("mouseover",se.menuMouseover),a.addEventListener("mouseout",se.menuMouseout),a.addEventListener("click",se.menuClick),a.querySelector("#file").addEventListener("change",W.bind(null,Z),!1),a.querySelector("#treefile").addEventListener("change",W.bind(null,$),!1),a.style.display="block",comboView.init()},init:function(){d.viewdiv=document.getElementById("views"),d.descs=document.getElementById("descs"),d.viewdiv.addEventListener("click",se.textClick),document.addEventListener("keydown",se.keyDown,{capture:!0}),document.addEventListener("contextmenu",se.rightClick),document.addEventListener("mouseup",de.remove)},getWindows:function(){return d.windows},addWindow:function(a){d.windows.push(a)},getViewdiv:function(){return d.viewdiv},getTrees:function(){return d.trees}}}();window.addEventListener("load",window.comboView.maininit);
//# sourceMappingURL=script.js.map
