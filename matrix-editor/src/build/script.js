var Jt={};(function(f){"use strict";f.__type__="csv";var S=typeof jQuery!="undefined"&&jQuery.Deferred||typeof _!="undefined"&&_.Deferred||function(){var s,u,g=new Promise(function(b,T){s=b,u=T});return{resolve:s,reject:u,promise:function(){return g}}};f.fetch=function(s){var u=new S;if(s.file){var g=new FileReader,b=s.encoding||"UTF-8";g.onload=function(D){var B=f.extractFields(f.parse(D.target.result,s),s);B.useMemoryStore=!0,B.metadata={filename:s.file.name},u.resolve(B)},g.onerror=function(D){u.reject({error:{message:"Failed to load file. Code: "+D.target.error.code}})},g.readAsText(s.file,b)}else if(s.data){var T=f.extractFields(f.parse(s.data,s),s);T.useMemoryStore=!0,u.resolve(T)}else if(s.url){var F=window.fetch||function(D){var B=jQuery.get(D),L={then:function(W){return B.done(W),L},catch:function(W){return B.fail(W),L}};return L};F(s.url).then(function(D){return D.text?D.text():D}).then(function(D){var B=f.extractFields(f.parse(D,s),s);B.useMemoryStore=!0,u.resolve(B)}).catch(function(D,B){u.reject({error:{message:"Failed to load file. "+D.statusText+". Code: "+D.status,request:D}})})}return u.promise()},f.extractFields=function(s,u){return u.noHeaderRow!==!0&&s.length>0?{fields:s[0],records:s.slice(1)}:{records:s}},f.normalizeDialectOptions=function(s){var u={delimiter:",",doublequote:!0,lineterminator:`
`,quotechar:'"',skipinitialspace:!0,skipinitialrows:0};for(var g in s)g==="trim"?u.skipinitialspace=s.trim:u[g.toLowerCase()]=s[g];return u},f.parse=function(s,u){(!u||u&&!u.lineterminator)&&(s=f.normalizeLineTerminator(s,u));var g=f.normalizeDialectOptions(u);s=d(s,g.lineterminator);var b="",T=!1,F=!1,D="",B=[],L=[],W,Z;for(Z=function($){return F!==!0&&($===""?$=null:g.skipinitialspace===!0&&($=C($)),N.test($)?$=parseInt($,10):O.test($)&&($=parseFloat($,10))),$},W=0;W<s.length;W+=1)b=s.charAt(W),T===!1&&(b===g.delimiter||b===g.lineterminator)?(D=Z(D),B.push(D),b===g.lineterminator&&(L.push(B),B=[]),D="",F=!1):b!==g.quotechar?D+=b:T?s.charAt(W+1)===g.quotechar?(D+=g.quotechar,W+=1):T=!1:(T=!0,F=!0);return D=Z(D),B.push(D),L.push(B),g.skipinitialrows&&(L=L.slice(g.skipinitialrows)),L},f.normalizeLineTerminator=function(s,u){return u=u||{},u.lineterminator?s:s.replace(/(\r\n|\n|\r)/gm,`
`)},f.objectToArray=function(s){for(var u=[],g=[],b=[],T=0;T<s.fields.length;T++){var F=s.fields[T].id;b.push(F);var D=s.fields[T].label?s.fields[T].label:F;g.push(D)}u.push(g);for(var T=0;T<s.records.length;T++){for(var B=[],L=s.records[T],W=0;W<b.length;W++)B.push(L[b[W]]);u.push(B)}return u},f.serialize=function(s,u){var g=null;s instanceof Array?g=s:g=f.objectToArray(s);var b=f.normalizeDialectOptions(u),T="",F="",D="",B="",L,W,Z;for(Z=function($){return $===null?$="":typeof $=="string"&&w.test($)?(b.doublequote&&($=$.replace(/"/g,'""')),$=b.quotechar+$+b.quotechar):typeof $=="number"&&($=$.toString(10)),$},L=0;L<g.length;L+=1)for(T=g[L],W=0;W<T.length;W+=1)F=Z(T[W]),W===T.length-1?(D+=F,B+=D+b.lineterminator,D=""):D+=F+b.delimiter,F="";return B};var N=/^\d+$/,O=/^\d*\.\d+$|^\d+\.\d*$/,w=/^\s|\s$|,|"|\n/,C=function(){return String.prototype.trim?function(s){return s.trim()}:function(s){return s.replace(/^\s*/,"").replace(/\s*$/,"")}}();function d(s,u){return s.charAt(s.length-u.length)!==u?s:s.substring(0,s.length-u.length)}})(Jt);function G1(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function X1(f,S,N){return N={path:S,exports:{},require:function(O,w){return W1(O,w==null?N.path:w)}},f(N,N.exports),N.exports}function W1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Y1=X1(function(f,S){(function(N,O){f.exports=O()})(window,function(){return function(N){var O={};function w(C){if(O[C])return O[C].exports;var d=O[C]={i:C,l:!1,exports:{}};return N[C].call(d.exports,d,d.exports,w),d.l=!0,d.exports}return w.m=N,w.c=O,w.d=function(C,d,s){w.o(C,d)||Object.defineProperty(C,d,{enumerable:!0,get:s})},w.r=function(C){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},w.t=function(C,d){if(1&d&&(C=w(C)),8&d||4&d&&typeof C=="object"&&C&&C.__esModule)return C;var s=Object.create(null);if(w.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:C}),2&d&&typeof C!="string")for(var u in C)w.d(s,u,function(g){return C[g]}.bind(null,u));return s},w.n=function(C){var d=C&&C.__esModule?function(){return C.default}:function(){return C};return w.d(d,"a",d),d},w.o=function(C,d){return Object.prototype.hasOwnProperty.call(C,d)},w.p="",w(w.s=1)}([function(N,O,w){var C,d;C=[w(2)],(d=function(s){function u(e){if(u.is(e,"function"))return g?e():s.on("raphael.DOMload",e);if(u.is(e,l))return u._engine.create[$](u,e.splice(0,3+u.is(e[0],o))).add(e);var t=Array.prototype.slice.call(arguments,0);if(u.is(t[t.length-1],"function")){var a=t.pop();return g?a.call(u._engine.create[$](u,t)):s.on("raphael.DOMload",function(){a.call(u._engine.create[$](u,t))})}return u._engine.create[$](u,arguments)}u.version="2.3.0",u.eve=s;var g,b,T=/[, ]+/,F={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},D=/\{(\d+)\}/g,B="hasOwnProperty",L={doc:document,win:window},W={was:Object.prototype[B].call(L.win,"Raphael"),is:L.win.Raphael},Z=function(){this.ca=this.customAttributes={}},$="apply",j="concat",te="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,oe="",me=" ",G=String,he="split",se="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[he](me),z={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},ge=G.prototype.toLowerCase,de=Math,we=de.max,X=de.min,xe=de.abs,Ce=de.pow,ee=de.PI,o="number",l="array",p=Object.prototype.toString,r=(u._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),n={NaN:1,Infinity:1,"-Infinity":1},i=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,h=de.round,v=parseFloat,x=parseInt,A=G.prototype.toUpperCase,I=u._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},M=u._availableAnimAttrs={blur:o,"clip-rect":"csv",cx:o,cy:o,fill:"colour","fill-opacity":o,"font-size":o,height:o,opacity:o,path:"path",r:o,rx:o,ry:o,stroke:"colour","stroke-opacity":o,"stroke-width":o,transform:"transform",width:o,x:o,y:o},V=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,U={hs:1,rg:1},ne=/,?([achlmqrstvxz]),?/gi,fe=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ve=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ye=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,_e=(u._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Se=function(e,t){return v(e)-v(t)},Ae=function(e){return e},ke=u._rectPath=function(e,t,a,c,m){return m?[["M",e+m,t],["l",a-2*m,0],["a",m,m,0,0,1,m,m],["l",0,c-2*m],["a",m,m,0,0,1,-m,m],["l",2*m-a,0],["a",m,m,0,0,1,-m,-m],["l",0,2*m-c],["a",m,m,0,0,1,m,-m],["z"]]:[["M",e,t],["l",a,0],["l",0,c],["l",-a,0],["z"]]},Me=function(e,t,a,c){return c==null&&(c=a),[["M",e,t],["m",0,-c],["a",a,c,0,1,1,0,2*c],["a",a,c,0,1,1,0,-2*c],["z"]]},Te=u._getPath={path:function(e){return e.attr("path")},circle:function(e){var t=e.attrs;return Me(t.cx,t.cy,t.r)},ellipse:function(e){var t=e.attrs;return Me(t.cx,t.cy,t.rx,t.ry)},rect:function(e){var t=e.attrs;return ke(t.x,t.y,t.width,t.height,t.r)},image:function(e){var t=e.attrs;return ke(t.x,t.y,t.width,t.height)},text:function(e){var t=e._getBBox();return ke(t.x,t.y,t.width,t.height)},set:function(e){var t=e._getBBox();return ke(t.x,t.y,t.width,t.height)}},Ie=u.mapPath=function(e,t){if(!t)return e;var a,c,m,k,E,P,R;for(m=0,E=(e=St(e)).length;m<E;m++)for(k=1,P=(R=e[m]).length;k<P;k+=2)a=t.x(R[k],R[k+1]),c=t.y(R[k],R[k+1]),R[k]=a,R[k+1]=c;return e};if(u._g=L,u.type=L.win.SVGAngle||L.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",u.type=="VML"){var Le,Oe=L.doc.createElement("div");if(Oe.innerHTML='<v:shape adj="1"/>',(Le=Oe.firstChild).style.behavior="url(#default#VML)",!Le||typeof Le.adj!="object")return u.type=oe;Oe=null}function qe(e){if(typeof e=="function"||Object(e)!==e)return e;var t=new e.constructor;for(var a in e)e[B](a)&&(t[a]=qe(e[a]));return t}u.svg=!(u.vml=u.type=="VML"),u._Paper=Z,u.fn=b=Z.prototype=u.prototype,u._id=0,u.is=function(e,t){return(t=ge.call(t))=="finite"?!n[B](+e):t=="array"?e instanceof Array:t=="null"&&e===null||t==typeof e&&e!==null||t=="object"&&e===Object(e)||t=="array"&&Array.isArray&&Array.isArray(e)||p.call(e).slice(8,-1).toLowerCase()==t},u.angle=function(e,t,a,c,m,k){if(m==null){var E=e-a,P=t-c;return E||P?(180+180*de.atan2(-P,-E)/ee+360)%360:0}return u.angle(e,t,m,k)-u.angle(a,c,m,k)},u.rad=function(e){return e%360*ee/180},u.deg=function(e){return Math.round(180*e/ee%360*1e3)/1e3},u.snapTo=function(e,t,a){if(a=u.is(a,"finite")?a:10,u.is(e,l)){for(var c=e.length;c--;)if(xe(e[c]-t)<=a)return e[c]}else{var m=t%(e=+e);if(m<a)return t-m;if(m>e-a)return t-m+e}return t};var je,wt;u.createUUID=(je=/[xy]/g,wt=function(e){var t=16*de.random()|0;return(e=="x"?t:3&t|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(je,wt).toUpperCase()}),u.setWindow=function(e){s("raphael.setWindow",u,L.win,e),L.win=e,L.doc=L.win.document,u._engine.initWin&&u._engine.initWin(L.win)};var Je=function(e){if(u.vml){var t,a=/^\s+|\s+$/g;try{var c=new ActiveXObject("htmlfile");c.write("<body>"),c.close(),t=c.body}catch(E){t=createPopup().document.body}var m=t.createTextRange();Je=Fe(function(E){try{t.style.color=G(E).replace(a,oe);var P=m.queryCommandValue("ForeColor");return"#"+("000000"+(P=(255&P)<<16|65280&P|(16711680&P)>>>16).toString(16)).slice(-6)}catch(R){return"none"}})}else{var k=L.doc.createElement("i");k.title="Raphaël Colour Picker",k.style.display="none",L.doc.body.appendChild(k),Je=Fe(function(E){return k.style.color=E,L.doc.defaultView.getComputedStyle(k,oe).getPropertyValue("color")})}return Je(e)},ot=function(){return"hsb("+[this.h,this.s,this.b]+")"},at=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ct=function(){return this.hex},lt=function(e,t,a){if(t==null&&u.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(a=e.b,t=e.g,e=e.r),t==null&&u.is(e,"string")){var c=u.getRGB(e);e=c.r,t=c.g,a=c.b}return(e>1||t>1||a>1)&&(e/=255,t/=255,a/=255),[e,t,a]},Tt=function(e,t,a,c){var m={r:e*=255,g:t*=255,b:a*=255,hex:u.rgb(e,t,a),toString:Ct};return u.is(c,"finite")&&(m.opacity=c),m};function Fe(e,t,a){return function c(){var m=Array.prototype.slice.call(arguments,0),k=m.join("␀"),E=c.cache=c.cache||{},P=c.count=c.count||[];return E[B](k)?(function(R,H){for(var J=0,ae=R.length;J<ae;J++)if(R[J]===H)return R.push(R.splice(J,1)[0])}(P,k),a?a(E[k]):E[k]):(P.length>=1e3&&delete E[P.shift()],P.push(k),E[k]=e[$](t,m),a?a(E[k]):E[k])}}u.color=function(e){var t;return u.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=u.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):u.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=u.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.hex=t.hex):(u.is(e,"string")&&(e=u.getRGB(e)),u.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(t=u.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=u.rgb2hsb(e),e.v=t.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=Ct,e},u.hsb2rgb=function(e,t,a,c){var m,k,E,P,R;return this.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(a=e.b,t=e.s,c=e.o,e=e.h),P=(R=a*t)*(1-xe((e=(e*=360)%360/60)%2-1)),m=k=E=a-R,Tt(m+=[R,P,0,0,P,R][e=~~e],k+=[P,R,R,P,0,0][e],E+=[0,0,P,R,R,P][e],c)},u.hsl2rgb=function(e,t,a,c){var m,k,E,P,R;return this.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(a=e.l,t=e.s,e=e.h),(e>1||t>1||a>1)&&(e/=360,t/=100,a/=100),P=(R=2*t*(a<.5?a:1-a))*(1-xe((e=(e*=360)%360/60)%2-1)),m=k=E=a-R/2,Tt(m+=[R,P,0,0,P,R][e=~~e],k+=[P,R,R,P,0,0][e],E+=[0,0,P,R,R,P][e],c)},u.rgb2hsb=function(e,t,a){var c,m;return e=(a=lt(e,t,a))[0],t=a[1],a=a[2],{h:(((m=(c=we(e,t,a))-X(e,t,a))==0?null:c==e?(t-a)/m:c==t?(a-e)/m+2:(e-t)/m+4)+360)%6*60/360,s:m==0?0:m/c,b:c,toString:ot}},u.rgb2hsl=function(e,t,a){var c,m,k,E;return e=(a=lt(e,t,a))[0],t=a[1],a=a[2],c=((m=we(e,t,a))+(k=X(e,t,a)))/2,{h:(((E=m-k)==0?null:m==e?(t-a)/E:m==t?(a-e)/E+2:(e-t)/E+4)+360)%6*60/360,s:E==0?0:c<.5?E/(2*c):E/(2-2*c),l:c,toString:at}},u._path2string=function(){return this.join(",").replace(ne,"$1")},u._preload=function(e,t){var a=L.doc.createElement("img");a.style.cssText="position:absolute;left:-9999em;top:-9999em",a.onload=function(){t.call(this),this.onload=null,L.doc.body.removeChild(this)},a.onerror=function(){L.doc.body.removeChild(this)},L.doc.body.appendChild(a),a.src=e};function Qe(){return this.hex}function ct(e,t){for(var a=[],c=0,m=e.length;m-2*!t>c;c+=2){var k=[{x:+e[c-2],y:+e[c-1]},{x:+e[c],y:+e[c+1]},{x:+e[c+2],y:+e[c+3]},{x:+e[c+4],y:+e[c+5]}];t?c?m-4==c?k[3]={x:+e[0],y:+e[1]}:m-2==c&&(k[2]={x:+e[0],y:+e[1]},k[3]={x:+e[2],y:+e[3]}):k[0]={x:+e[m-2],y:+e[m-1]}:m-4==c?k[3]=k[2]:c||(k[0]={x:+e[c],y:+e[c+1]}),a.push(["C",(-k[0].x+6*k[1].x+k[2].x)/6,(-k[0].y+6*k[1].y+k[2].y)/6,(k[1].x+6*k[2].x-k[3].x)/6,(k[1].y+6*k[2].y-k[3].y)/6,k[2].x,k[2].y])}return a}u.getRGB=Fe(function(e){if(!e||(e=G(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Qe};if(e=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:Qe};!U[B](e.toLowerCase().substring(0,2))&&e.charAt()!="#"&&(e=Je(e));var t,a,c,m,k,E,P=e.match(r);return P?(P[2]&&(c=x(P[2].substring(5),16),a=x(P[2].substring(3,5),16),t=x(P[2].substring(1,3),16)),P[3]&&(c=x((k=P[3].charAt(3))+k,16),a=x((k=P[3].charAt(2))+k,16),t=x((k=P[3].charAt(1))+k,16)),P[4]&&(E=P[4][he](V),t=v(E[0]),E[0].slice(-1)=="%"&&(t*=2.55),a=v(E[1]),E[1].slice(-1)=="%"&&(a*=2.55),c=v(E[2]),E[2].slice(-1)=="%"&&(c*=2.55),P[1].toLowerCase().slice(0,4)=="rgba"&&(m=v(E[3])),E[3]&&E[3].slice(-1)=="%"&&(m/=100)),P[5]?(E=P[5][he](V),t=v(E[0]),E[0].slice(-1)=="%"&&(t*=2.55),a=v(E[1]),E[1].slice(-1)=="%"&&(a*=2.55),c=v(E[2]),E[2].slice(-1)=="%"&&(c*=2.55),(E[0].slice(-3)=="deg"||E[0].slice(-1)=="°")&&(t/=360),P[1].toLowerCase().slice(0,4)=="hsba"&&(m=v(E[3])),E[3]&&E[3].slice(-1)=="%"&&(m/=100),u.hsb2rgb(t,a,c,m)):P[6]?(E=P[6][he](V),t=v(E[0]),E[0].slice(-1)=="%"&&(t*=2.55),a=v(E[1]),E[1].slice(-1)=="%"&&(a*=2.55),c=v(E[2]),E[2].slice(-1)=="%"&&(c*=2.55),(E[0].slice(-3)=="deg"||E[0].slice(-1)=="°")&&(t/=360),P[1].toLowerCase().slice(0,4)=="hsla"&&(m=v(E[3])),E[3]&&E[3].slice(-1)=="%"&&(m/=100),u.hsl2rgb(t,a,c,m)):((P={r:t,g:a,b:c,toString:Qe}).hex="#"+(16777216|c|a<<8|t<<16).toString(16).slice(1),u.is(m,"finite")&&(P.opacity=m),P)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Qe}},u),u.hsb=Fe(function(e,t,a){return u.hsb2rgb(e,t,a).hex}),u.hsl=Fe(function(e,t,a){return u.hsl2rgb(e,t,a).hex}),u.rgb=Fe(function(e,t,a){function c(m){return m+.5|0}return"#"+(16777216|c(a)|c(t)<<8|c(e)<<16).toString(16).slice(1)}),u.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},a=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),a.hex},u.getColor.reset=function(){delete this.start},u.parsePathString=function(e){if(!e)return null;var t=Ue(e);if(t.arr)return He(t.arr);var a={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},c=[];return u.is(e,l)&&u.is(e[0],l)&&(c=He(e)),c.length||G(e).replace(fe,function(m,k,E){var P=[],R=k.toLowerCase();if(E.replace(ye,function(H,J){J&&P.push(+J)}),R=="m"&&P.length>2&&(c.push([k][j](P.splice(0,2))),R="l",k=k=="m"?"l":"L"),R=="r")c.push([k][j](P));else for(;P.length>=a[R]&&(c.push([k][j](P.splice(0,a[R]))),a[R]););}),c.toString=u._path2string,t.arr=He(c),c},u.parseTransformString=Fe(function(e){if(!e)return null;var t=[];return u.is(e,l)&&u.is(e[0],l)&&(t=He(e)),t.length||G(e).replace(ve,function(a,c,m){var k=[];ge.call(c),m.replace(ye,function(E,P){P&&k.push(+P)}),t.push([c][j](k))}),t.toString=u._path2string,t},this,function(e){if(!e)return e;for(var t=[],a=0;a<e.length;a++){for(var c=[],m=0;m<e[a].length;m++)c.push(e[a][m]);t.push(c)}return t});var Ue=function(e){var t=Ue.ps=Ue.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var a in t)t[B](a)&&a!=e&&(t[a].sleep--,!t[a].sleep&&delete t[a])}),t[e]};function ut(e,t,a,c,m){return e*(e*(-3*t+9*a-9*c+3*m)+6*t-12*a+6*c)-3*t+3*a}function Ge(e,t,a,c,m,k,E,P,R){R==null&&(R=1);for(var H=(R=R>1?1:R<0?0:R)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ae=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0,Y=0;Y<12;Y++){var re=H*J[Y]+H,le=ut(re,e,a,m,E),ie=ut(re,t,c,k,P),Q=le*le+ie*ie;K+=ae[Y]*de.sqrt(Q)}return H*K}function kt(e,t,a,c,m,k,E,P){if(!(we(e,a)<X(m,E)||X(e,a)>we(m,E)||we(t,c)<X(k,P)||X(t,c)>we(k,P))){var R=(e-a)*(k-P)-(t-c)*(m-E);if(R){var H=((e*c-t*a)*(m-E)-(e-a)*(m*P-k*E))/R,J=((e*c-t*a)*(k-P)-(t-c)*(m*P-k*E))/R,ae=+H.toFixed(2),K=+J.toFixed(2);if(!(ae<+X(e,a).toFixed(2)||ae>+we(e,a).toFixed(2)||ae<+X(m,E).toFixed(2)||ae>+we(m,E).toFixed(2)||K<+X(t,c).toFixed(2)||K>+we(t,c).toFixed(2)||K<+X(k,P).toFixed(2)||K>+we(k,P).toFixed(2)))return{x:H,y:J}}}}function ht(e,t,a){var c=u.bezierBBox(e),m=u.bezierBBox(t);if(!u.isBBoxIntersect(c,m))return a?0:[];for(var k=Ge.apply(0,e),E=Ge.apply(0,t),P=we(~~(k/5),1),R=we(~~(E/5),1),H=[],J=[],ae={},K=a?0:[],Y=0;Y<P+1;Y++){var re=u.findDotsAtSegment.apply(u,e.concat(Y/P));H.push({x:re.x,y:re.y,t:Y/P})}for(Y=0;Y<R+1;Y++)re=u.findDotsAtSegment.apply(u,t.concat(Y/R)),J.push({x:re.x,y:re.y,t:Y/R});for(Y=0;Y<P;Y++)for(var le=0;le<R;le++){var ie=H[Y],Q=H[Y+1],be=J[le],ce=J[le+1],pe=xe(Q.x-ie.x)<.001?"y":"x",ue=xe(ce.x-be.x)<.001?"y":"x",Ee=kt(ie.x,ie.y,Q.x,Q.y,be.x,be.y,ce.x,ce.y);if(Ee){if(ae[Ee.x.toFixed(4)]==Ee.y.toFixed(4))continue;ae[Ee.x.toFixed(4)]=Ee.y.toFixed(4);var Pe=ie.t+xe((Ee[pe]-ie[pe])/(Q[pe]-ie[pe]))*(Q.t-ie.t),Re=be.t+xe((Ee[ue]-be[ue])/(ce[ue]-be[ue]))*(ce.t-be.t);Pe>=0&&Pe<=1.001&&Re>=0&&Re<=1.001&&(a?K++:K.push({x:Ee.x,y:Ee.y,t1:X(Pe,1),t2:X(Re,1)}))}}return K}function _t(e,t,a){e=u._path2curve(e),t=u._path2curve(t);for(var c,m,k,E,P,R,H,J,ae,K,Y=a?0:[],re=0,le=e.length;re<le;re++){var ie=e[re];if(ie[0]=="M")c=P=ie[1],m=R=ie[2];else{ie[0]=="C"?(ae=[c,m].concat(ie.slice(1)),c=ae[6],m=ae[7]):(ae=[c,m,c,m,P,R,P,R],c=P,m=R);for(var Q=0,be=t.length;Q<be;Q++){var ce=t[Q];if(ce[0]=="M")k=H=ce[1],E=J=ce[2];else{ce[0]=="C"?(K=[k,E].concat(ce.slice(1)),k=K[6],E=K[7]):(K=[k,E,k,E,H,J,H,J],k=H,E=J);var pe=ht(ae,K,a);if(a)Y+=pe;else{for(var ue=0,Ee=pe.length;ue<Ee;ue++)pe[ue].segment1=re,pe[ue].segment2=Q,pe[ue].bez1=ae,pe[ue].bez2=K;Y=Y.concat(pe)}}}}}return Y}u.findDotsAtSegment=function(e,t,a,c,m,k,E,P,R){var H=1-R,J=Ce(H,3),ae=Ce(H,2),K=R*R,Y=K*R,re=J*e+3*ae*R*a+3*H*R*R*m+Y*E,le=J*t+3*ae*R*c+3*H*R*R*k+Y*P,ie=e+2*R*(a-e)+K*(m-2*a+e),Q=t+2*R*(c-t)+K*(k-2*c+t),be=a+2*R*(m-a)+K*(E-2*m+a),ce=c+2*R*(k-c)+K*(P-2*k+c),pe=H*e+R*a,ue=H*t+R*c,Ee=H*m+R*E,Pe=H*k+R*P,Re=90-180*de.atan2(ie-be,Q-ce)/ee;return(ie>be||Q<ce)&&(Re+=180),{x:re,y:le,m:{x:ie,y:Q},n:{x:be,y:ce},start:{x:pe,y:ue},end:{x:Ee,y:Pe},alpha:Re}},u.bezierBBox=function(e,t,a,c,m,k,E,P){u.is(e,"array")||(e=[e,t,a,c,m,k,E,P]);var R=Mt.apply(null,e);return{x:R.min.x,y:R.min.y,x2:R.max.x,y2:R.max.y,width:R.max.x-R.min.x,height:R.max.y-R.min.y}},u.isPointInsideBBox=function(e,t,a){return t>=e.x&&t<=e.x2&&a>=e.y&&a<=e.y2},u.isBBoxIntersect=function(e,t){var a=u.isPointInsideBBox;return a(t,e.x,e.y)||a(t,e.x2,e.y)||a(t,e.x,e.y2)||a(t,e.x2,e.y2)||a(e,t.x,t.y)||a(e,t.x2,t.y)||a(e,t.x,t.y2)||a(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)},u.pathIntersection=function(e,t){return _t(e,t)},u.pathIntersectionNumber=function(e,t){return _t(e,t,1)},u.isPointInsidePath=function(e,t,a){var c=u.pathBBox(e);return u.isPointInsideBBox(c,t,a)&&_t(e,[["M",t,a],["H",c.x2+10]],1)%2==1},u._removedFactory=function(e){return function(){s("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var Ke=u.pathBBox=function(e){var t=Ue(e);if(t.bbox)return qe(t.bbox);if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var a,c=0,m=0,k=[],E=[],P=0,R=(e=St(e)).length;P<R;P++)if((a=e[P])[0]=="M")c=a[1],m=a[2],k.push(c),E.push(m);else{var H=Mt(c,m,a[1],a[2],a[3],a[4],a[5],a[6]);k=k[j](H.min.x,H.max.x),E=E[j](H.min.y,H.max.y),c=a[5],m=a[6]}var J=X[$](0,k),ae=X[$](0,E),K=we[$](0,k),Y=we[$](0,E),re=K-J,le=Y-ae,ie={x:J,y:ae,x2:K,y2:Y,width:re,height:le,cx:J+re/2,cy:ae+le/2};return t.bbox=qe(ie),ie},He=function(e){var t=qe(e);return t.toString=u._path2string,t},Zt=u._pathToRelative=function(e){var t=Ue(e);if(t.rel)return He(t.rel);u.is(e,l)&&u.is(e&&e[0],l)||(e=u.parsePathString(e));var a=[],c=0,m=0,k=0,E=0,P=0;e[0][0]=="M"&&(k=c=e[0][1],E=m=e[0][2],P++,a.push(["M",c,m]));for(var R=P,H=e.length;R<H;R++){var J=a[R]=[],ae=e[R];if(ae[0]!=ge.call(ae[0]))switch(J[0]=ge.call(ae[0]),J[0]){case"a":J[1]=ae[1],J[2]=ae[2],J[3]=ae[3],J[4]=ae[4],J[5]=ae[5],J[6]=+(ae[6]-c).toFixed(3),J[7]=+(ae[7]-m).toFixed(3);break;case"v":J[1]=+(ae[1]-m).toFixed(3);break;case"m":k=ae[1],E=ae[2];default:for(var K=1,Y=ae.length;K<Y;K++)J[K]=+(ae[K]-(K%2?c:m)).toFixed(3)}else{J=a[R]=[],ae[0]=="m"&&(k=ae[1]+c,E=ae[2]+m);for(var re=0,le=ae.length;re<le;re++)a[R][re]=ae[re]}var ie=a[R].length;switch(a[R][0]){case"z":c=k,m=E;break;case"h":c+=+a[R][ie-1];break;case"v":m+=+a[R][ie-1];break;default:c+=+a[R][ie-2],m+=+a[R][ie-1]}}return a.toString=u._path2string,t.rel=He(a),a},dt=u._pathToAbsolute=function(e){var t=Ue(e);if(t.abs)return He(t.abs);if(u.is(e,l)&&u.is(e&&e[0],l)||(e=u.parsePathString(e)),!e||!e.length)return[["M",0,0]];var a=[],c=0,m=0,k=0,E=0,P=0;e[0][0]=="M"&&(k=c=+e[0][1],E=m=+e[0][2],P++,a[0]=["M",c,m]);for(var R,H,J=e.length==3&&e[0][0]=="M"&&e[1][0].toUpperCase()=="R"&&e[2][0].toUpperCase()=="Z",ae=P,K=e.length;ae<K;ae++){if(a.push(R=[]),(H=e[ae])[0]!=A.call(H[0]))switch(R[0]=A.call(H[0]),R[0]){case"A":R[1]=H[1],R[2]=H[2],R[3]=H[3],R[4]=H[4],R[5]=H[5],R[6]=+(H[6]+c),R[7]=+(H[7]+m);break;case"V":R[1]=+H[1]+m;break;case"H":R[1]=+H[1]+c;break;case"R":for(var Y=[c,m][j](H.slice(1)),re=2,le=Y.length;re<le;re++)Y[re]=+Y[re]+c,Y[++re]=+Y[re]+m;a.pop(),a=a[j](ct(Y,J));break;case"M":k=+H[1]+c,E=+H[2]+m;default:for(re=1,le=H.length;re<le;re++)R[re]=+H[re]+(re%2?c:m)}else if(H[0]=="R")Y=[c,m][j](H.slice(1)),a.pop(),a=a[j](ct(Y,J)),R=["R"][j](H.slice(-2));else for(var ie=0,Q=H.length;ie<Q;ie++)R[ie]=H[ie];switch(R[0]){case"Z":c=k,m=E;break;case"H":c=R[1];break;case"V":m=R[1];break;case"M":k=R[R.length-2],E=R[R.length-1];default:c=R[R.length-2],m=R[R.length-1]}}return a.toString=u._path2string,t.abs=He(a),a},ft=function(e,t,a,c){return[e,t,a,c,a,c]},Ze=function(e,t,a,c,m,k){return[1/3*e+2/3*a,1/3*t+2/3*c,1/3*m+2/3*a,1/3*k+2/3*c,m,k]},Nt=function(e,t,a,c,m,k,E,P,R,H){var J,ae=120*ee/180,K=ee/180*(+m||0),Y=[],re=Fe(function(v1,y1,Ft){return{x:v1*de.cos(Ft)-y1*de.sin(Ft),y:v1*de.sin(Ft)+y1*de.cos(Ft)}});if(H)Pe=H[0],Re=H[1],ue=H[2],Ee=H[3];else{e=(J=re(e,t,-K)).x,t=J.y,P=(J=re(P,R,-K)).x,R=J.y;var le=(e-P)/2,ie=(t-R)/2,Q=le*le/(a*a)+ie*ie/(c*c);Q>1&&(a*=Q=de.sqrt(Q),c*=Q);var be=a*a,ce=c*c,pe=(k==E?-1:1)*de.sqrt(xe((be*ce-be*ie*ie-ce*le*le)/(be*ie*ie+ce*le*le))),ue=pe*a*ie/c+(e+P)/2,Ee=pe*-c*le/a+(t+R)/2,Pe=de.asin(((t-Ee)/c).toFixed(9)),Re=de.asin(((R-Ee)/c).toFixed(9));(Pe=e<ue?ee-Pe:Pe)<0&&(Pe=2*ee+Pe),(Re=P<ue?ee-Re:Re)<0&&(Re=2*ee+Re),E&&Pe>Re&&(Pe-=2*ee),!E&&Re>Pe&&(Re-=2*ee)}var mt=Re-Pe;if(xe(mt)>ae){var Et=Re,Ve=P,We=R;Re=Pe+ae*(E&&Re>Pe?1:-1),P=ue+a*de.cos(Re),R=Ee+c*de.sin(Re),Y=Nt(P,R,a,c,m,0,E,Ve,We,[Re,Et,ue,Ee])}mt=Re-Pe;var gt=de.cos(Pe),vt=de.sin(Pe),Dt=de.cos(Re),Ye=de.sin(Re),st=de.tan(mt/4),qt=4/3*a*st,d1=4/3*c*st,f1=[e,t],yt=[e+qt*vt,t-d1*gt],p1=[P+qt*Ye,R-d1*Dt],m1=[P,R];if(yt[0]=2*f1[0]-yt[0],yt[1]=2*f1[1]-yt[1],H)return[yt,p1,m1][j](Y);for(var g1=[],tt=0,U1=(Y=[yt,p1,m1][j](Y).join()[he](",")).length;tt<U1;tt++)g1[tt]=tt%2?re(Y[tt-1],Y[tt],K).y:re(Y[tt],Y[tt+1],K).x;return g1},nt=function(e,t,a,c,m,k,E,P,R){var H=1-R;return{x:Ce(H,3)*e+3*Ce(H,2)*R*a+3*H*R*R*m+Ce(R,3)*E,y:Ce(H,3)*t+3*Ce(H,2)*R*c+3*H*R*R*k+Ce(R,3)*P}},Mt=Fe(function(e,t,a,c,m,k,E,P){var R,H=m-2*a+e-(E-2*m+a),J=2*(a-e)-2*(m-a),ae=e-a,K=(-J+de.sqrt(J*J-4*H*ae))/2/H,Y=(-J-de.sqrt(J*J-4*H*ae))/2/H,re=[t,P],le=[e,E];return xe(K)>"1e12"&&(K=.5),xe(Y)>"1e12"&&(Y=.5),K>0&&K<1&&(R=nt(e,t,a,c,m,k,E,P,K),le.push(R.x),re.push(R.y)),Y>0&&Y<1&&(R=nt(e,t,a,c,m,k,E,P,Y),le.push(R.x),re.push(R.y)),H=k-2*c+t-(P-2*k+c),ae=t-c,K=(-(J=2*(c-t)-2*(k-c))+de.sqrt(J*J-4*H*ae))/2/H,Y=(-J-de.sqrt(J*J-4*H*ae))/2/H,xe(K)>"1e12"&&(K=.5),xe(Y)>"1e12"&&(Y=.5),K>0&&K<1&&(R=nt(e,t,a,c,m,k,E,P,K),le.push(R.x),re.push(R.y)),Y>0&&Y<1&&(R=nt(e,t,a,c,m,k,E,P,Y),le.push(R.x),re.push(R.y)),{min:{x:X[$](0,le),y:X[$](0,re)},max:{x:we[$](0,le),y:we[$](0,re)}}}),St=u._path2curve=Fe(function(e,t){var a=!t&&Ue(e);if(!t&&a.curve)return He(a.curve);for(var c=dt(e),m=t&&dt(t),k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},P=function(pe,ue,Ee){var Pe,Re;if(!pe)return["C",ue.x,ue.y,ue.x,ue.y,ue.x,ue.y];switch(!(pe[0]in{T:1,Q:1})&&(ue.qx=ue.qy=null),pe[0]){case"M":ue.X=pe[1],ue.Y=pe[2];break;case"A":pe=["C"][j](Nt[$](0,[ue.x,ue.y][j](pe.slice(1))));break;case"S":Ee=="C"||Ee=="S"?(Pe=2*ue.x-ue.bx,Re=2*ue.y-ue.by):(Pe=ue.x,Re=ue.y),pe=["C",Pe,Re][j](pe.slice(1));break;case"T":Ee=="Q"||Ee=="T"?(ue.qx=2*ue.x-ue.qx,ue.qy=2*ue.y-ue.qy):(ue.qx=ue.x,ue.qy=ue.y),pe=["C"][j](Ze(ue.x,ue.y,ue.qx,ue.qy,pe[1],pe[2]));break;case"Q":ue.qx=pe[1],ue.qy=pe[2],pe=["C"][j](Ze(ue.x,ue.y,pe[1],pe[2],pe[3],pe[4]));break;case"L":pe=["C"][j](ft(ue.x,ue.y,pe[1],pe[2]));break;case"H":pe=["C"][j](ft(ue.x,ue.y,pe[1],ue.y));break;case"V":pe=["C"][j](ft(ue.x,ue.y,ue.x,pe[1]));break;case"Z":pe=["C"][j](ft(ue.x,ue.y,ue.X,ue.Y))}return pe},R=function(pe,ue){if(pe[ue].length>7){pe[ue].shift();for(var Ee=pe[ue];Ee.length;)J[ue]="A",m&&(ae[ue]="A"),pe.splice(ue++,0,["C"][j](Ee.splice(0,6)));pe.splice(ue,1),le=we(c.length,m&&m.length||0)}},H=function(pe,ue,Ee,Pe,Re){pe&&ue&&pe[Re][0]=="M"&&ue[Re][0]!="M"&&(ue.splice(Re,0,["M",Pe.x,Pe.y]),Ee.bx=0,Ee.by=0,Ee.x=pe[Re][1],Ee.y=pe[Re][2],le=we(c.length,m&&m.length||0))},J=[],ae=[],K="",Y="",re=0,le=we(c.length,m&&m.length||0);re<le;re++){c[re]&&(K=c[re][0]),K!="C"&&(J[re]=K,re&&(Y=J[re-1])),c[re]=P(c[re],k,Y),J[re]!="A"&&K=="C"&&(J[re]="C"),R(c,re),m&&(m[re]&&(K=m[re][0]),K!="C"&&(ae[re]=K,re&&(Y=ae[re-1])),m[re]=P(m[re],E,Y),ae[re]!="A"&&K=="C"&&(ae[re]="C"),R(m,re)),H(c,m,k,E,re),H(m,c,E,k,re);var ie=c[re],Q=m&&m[re],be=ie.length,ce=m&&Q.length;k.x=ie[be-2],k.y=ie[be-1],k.bx=v(ie[be-4])||k.x,k.by=v(ie[be-3])||k.y,E.bx=m&&(v(Q[ce-4])||E.x),E.by=m&&(v(Q[ce-3])||E.y),E.x=m&&Q[ce-2],E.y=m&&Q[ce-1]}return m||(a.curve=He(c)),m?[c,m]:c},null,He),It=(u._parseDots=Fe(function(e){for(var t=[],a=0,c=e.length;a<c;a++){var m={},k=e[a].match(/^([^:]*):?([\d\.]*)/);if(m.color=u.getRGB(k[1]),m.color.error)return null;m.opacity=m.color.opacity,m.color=m.color.hex,k[2]&&(m.offset=k[2]+"%"),t.push(m)}for(a=1,c=t.length-1;a<c;a++)if(!t[a].offset){for(var E=v(t[a-1].offset||0),P=0,R=a+1;R<c;R++)if(t[R].offset){P=t[R].offset;break}P||(P=100,R=c);for(var H=((P=v(P))-E)/(R-a+1);a<R;a++)E+=H,t[a].offset=E+"%"}return t}),u._tear=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)}),q1=(u._tofront=function(e,t){t.top!==e&&(It(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e)},u._toback=function(e,t){t.bottom!==e&&(It(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e)},u._insertafter=function(e,t,a){It(e,a),t==a.top&&(a.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},u._insertbefore=function(e,t,a){It(e,a),t==a.bottom&&(a.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},u.toMatrix=function(e,t){var a=Ke(e),c={_:{transform:oe},getBBox:function(){return a}};return e1(c,t),c.matrix}),e1=(u.transformPath=function(e,t){return Ie(e,q1(e,t))},u._extractTransform=function(e,t){if(t==null)return e._.transform;t=G(t).replace(/\.{3}|\u2026/g,e._.transform||oe);var a,c,m=u.parseTransformString(t),k=0,E=1,P=1,R=e._,H=new rt;if(R.transform=m||[],m)for(var J=0,ae=m.length;J<ae;J++){var K,Y,re,le,ie,Q=m[J],be=Q.length,ce=G(Q[0]).toLowerCase(),pe=Q[0]!=ce,ue=pe?H.invert():0;ce=="t"&&be==3?pe?(K=ue.x(0,0),Y=ue.y(0,0),re=ue.x(Q[1],Q[2]),le=ue.y(Q[1],Q[2]),H.translate(re-K,le-Y)):H.translate(Q[1],Q[2]):ce=="r"?be==2?(ie=ie||e.getBBox(1),H.rotate(Q[1],ie.x+ie.width/2,ie.y+ie.height/2),k+=Q[1]):be==4&&(pe?(re=ue.x(Q[2],Q[3]),le=ue.y(Q[2],Q[3]),H.rotate(Q[1],re,le)):H.rotate(Q[1],Q[2],Q[3]),k+=Q[1]):ce=="s"?be==2||be==3?(ie=ie||e.getBBox(1),H.scale(Q[1],Q[be-1],ie.x+ie.width/2,ie.y+ie.height/2),E*=Q[1],P*=Q[be-1]):be==5&&(pe?(re=ue.x(Q[3],Q[4]),le=ue.y(Q[3],Q[4]),H.scale(Q[1],Q[2],re,le)):H.scale(Q[1],Q[2],Q[3],Q[4]),E*=Q[1],P*=Q[2]):ce=="m"&&be==7&&H.add(Q[1],Q[2],Q[3],Q[4],Q[5],Q[6]),R.dirtyT=1,e.matrix=H}e.matrix=H,R.sx=E,R.sy=P,R.deg=k,R.dx=a=H.e,R.dy=c=H.f,E==1&&P==1&&!k&&R.bbox?(R.bbox.x+=+a,R.bbox.y+=+c):R.dirtyT=1}),t1=function(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return e.length==4?[t,0,e[2],e[3]]:[t,0];case"s":return e.length==5?[t,1,1,e[3],e[4]]:e.length==3?[t,1,1]:[t,1]}},F1=u._equaliseTransform=function(e,t){t=G(t).replace(/\.{3}|\u2026/g,e),e=u.parseTransformString(e)||[],t=u.parseTransformString(t)||[];for(var a,c,m,k,E=we(e.length,t.length),P=[],R=[],H=0;H<E;H++){if(m=e[H]||t1(t[H]),k=t[H]||t1(m),m[0]!=k[0]||m[0].toLowerCase()=="r"&&(m[2]!=k[2]||m[3]!=k[3])||m[0].toLowerCase()=="s"&&(m[3]!=k[3]||m[4]!=k[4]))return;for(P[H]=[],R[H]=[],a=0,c=we(m.length,k.length);a<c;a++)a in m&&(P[H][a]=m[a]),a in k&&(R[H][a]=k[a])}return{from:P,to:R}};function rt(e,t,a,c,m,k){e!=null?(this.a=+e,this.b=+t,this.c=+a,this.d=+c,this.e=+m,this.f=+k):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}u._getContainer=function(e,t,a,c){var m;if((m=c!=null||u.is(e,"object")?e:L.doc.getElementById(e))!=null)return m.tagName?t==null?{container:m,width:m.style.pixelWidth||m.offsetWidth,height:m.style.pixelHeight||m.offsetHeight}:{container:m,width:t,height:a}:{container:1,x:e,y:t,width:a,height:c}},u.pathToRelative=Zt,u._engine={},u.path2curve=St,u.matrix=function(e,t,a,c,m,k){return new rt(e,t,a,c,m,k)},function(e){function t(c){return c[0]*c[0]+c[1]*c[1]}function a(c){var m=de.sqrt(t(c));c[0]&&(c[0]/=m),c[1]&&(c[1]/=m)}e.add=function(c,m,k,E,P,R){var H,J,ae,K,Y=[[],[],[]],re=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],le=[[c,k,P],[m,E,R],[0,0,1]];for(c&&c instanceof rt&&(le=[[c.a,c.c,c.e],[c.b,c.d,c.f],[0,0,1]]),H=0;H<3;H++)for(J=0;J<3;J++){for(K=0,ae=0;ae<3;ae++)K+=re[H][ae]*le[ae][J];Y[H][J]=K}this.a=Y[0][0],this.b=Y[1][0],this.c=Y[0][1],this.d=Y[1][1],this.e=Y[0][2],this.f=Y[1][2]},e.invert=function(){var c=this,m=c.a*c.d-c.b*c.c;return new rt(c.d/m,-c.b/m,-c.c/m,c.a/m,(c.c*c.f-c.d*c.e)/m,(c.b*c.e-c.a*c.f)/m)},e.clone=function(){return new rt(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(c,m){this.add(1,0,0,1,c,m)},e.scale=function(c,m,k,E){m==null&&(m=c),(k||E)&&this.add(1,0,0,1,k,E),this.add(c,0,0,m,0,0),(k||E)&&this.add(1,0,0,1,-k,-E)},e.rotate=function(c,m,k){c=u.rad(c),m=m||0,k=k||0;var E=+de.cos(c).toFixed(9),P=+de.sin(c).toFixed(9);this.add(E,P,-P,E,m,k),this.add(1,0,0,1,-m,-k)},e.x=function(c,m){return c*this.a+m*this.c+this.e},e.y=function(c,m){return c*this.b+m*this.d+this.f},e.get=function(c){return+this[G.fromCharCode(97+c)].toFixed(4)},e.toString=function(){return u.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var c={};c.dx=this.e,c.dy=this.f;var m=[[this.a,this.c],[this.b,this.d]];c.scalex=de.sqrt(t(m[0])),a(m[0]),c.shear=m[0][0]*m[1][0]+m[0][1]*m[1][1],m[1]=[m[1][0]-m[0][0]*c.shear,m[1][1]-m[0][1]*c.shear],c.scaley=de.sqrt(t(m[1])),a(m[1]),c.shear/=c.scaley;var k=-m[0][1],E=m[1][1];return E<0?(c.rotate=u.deg(de.acos(E)),k<0&&(c.rotate=360-c.rotate)):c.rotate=u.deg(de.asin(k)),c.isSimple=!(+c.shear.toFixed(9)||c.scalex.toFixed(9)!=c.scaley.toFixed(9)&&c.rotate),c.isSuperSimple=!+c.shear.toFixed(9)&&c.scalex.toFixed(9)==c.scaley.toFixed(9)&&!c.rotate,c.noRotation=!+c.shear.toFixed(9)&&!c.rotate,c},e.toTransformString=function(c){var m=c||this[he]();return m.isSimple?(m.scalex=+m.scalex.toFixed(4),m.scaley=+m.scaley.toFixed(4),m.rotate=+m.rotate.toFixed(4),(m.dx||m.dy?"t"+[m.dx,m.dy]:oe)+(m.scalex!=1||m.scaley!=1?"s"+[m.scalex,m.scaley,0,0]:oe)+(m.rotate?"r"+[m.rotate,0,0]:oe)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(rt.prototype);for(var z1=function(){this.returnValue=!1},O1=function(){return this.originalEvent.preventDefault()},H1=function(){this.cancelBubble=!0},V1=function(){return this.originalEvent.stopPropagation()},n1=function(e){var t=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,a=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft;return{x:e.clientX+a,y:e.clientY+t}},$1=L.doc.addEventListener?function(e,t,a,c){var m=function(E){var P=n1(E);return a.call(c,E,P.x,P.y)};if(e.addEventListener(t,m,!1),te&&z[t]){var k=function(E){for(var P=n1(E),R=E,H=0,J=E.targetTouches&&E.targetTouches.length;H<J;H++)if(E.targetTouches[H].target==e){(E=E.targetTouches[H]).originalEvent=R,E.preventDefault=O1,E.stopPropagation=V1;break}return a.call(c,E,P.x,P.y)};e.addEventListener(z[t],k,!1)}return function(){return e.removeEventListener(t,m,!1),te&&z[t]&&e.removeEventListener(z[t],k,!1),!0}}:L.doc.attachEvent?function(e,t,a,c){var m=function(k){k=k||L.win.event;var E=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,P=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft,R=k.clientX+P,H=k.clientY+E;return k.preventDefault=k.preventDefault||z1,k.stopPropagation=k.stopPropagation||H1,a.call(c,k,R,H)};return e.attachEvent("on"+t,m),function(){return e.detachEvent("on"+t,m),!0}}:void 0,et=[],Vt=function(e){for(var t,a=e.clientX,c=e.clientY,m=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,k=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft,E=et.length;E--;){if(t=et[E],te&&e.touches){for(var P,R=e.touches.length;R--;)if((P=e.touches[R]).identifier==t.el._drag.id){a=P.clientX,c=P.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var H,J=t.el.node,ae=J.nextSibling,K=J.parentNode,Y=J.style.display;L.win.opera&&K.removeChild(J),J.style.display="none",H=t.el.paper.getElementByPoint(a,c),J.style.display=Y,L.win.opera&&(ae?K.insertBefore(J,ae):K.appendChild(J)),H&&s("raphael.drag.over."+t.el.id,t.el,H),a+=k,c+=m,s("raphael.drag.move."+t.el.id,t.move_scope||t.el,a-t.el._drag.x,c-t.el._drag.y,a,c,e)}},$t=function(e){u.unmousemove(Vt).unmouseup($t);for(var t,a=et.length;a--;)(t=et[a]).el._drag={},s("raphael.drag.end."+t.el.id,t.end_scope||t.start_scope||t.move_scope||t.el,e);et=[]},Ne=u.el={},r1=se.length;r1--;)(function(e){u[e]=Ne[e]=function(t,a){return u.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:$1(this.shape||this.node||L.doc,e,t,a||this)})),this},u["un"+e]=Ne["un"+e]=function(t){for(var a=this.events||[],c=a.length;c--;)a[c].name!=e||!u.is(t,"undefined")&&a[c].f!=t||(a[c].unbind(),a.splice(c,1),!a.length&&delete this.events);return this}})(se[r1]);Ne.data=function(e,t){var a=_e[this.id]=_e[this.id]||{};if(arguments.length==0)return a;if(arguments.length==1){if(u.is(e,"object")){for(var c in e)e[B](c)&&this.data(c,e[c]);return this}return s("raphael.data.get."+this.id,this,a[e],e),a[e]}return a[e]=t,s("raphael.data.set."+this.id,this,t,e),this},Ne.removeData=function(e){return e==null?delete _e[this.id]:_e[this.id]&&delete _e[this.id][e],this},Ne.getData=function(){return qe(_e[this.id]||{})},Ne.hover=function(e,t,a,c){return this.mouseover(e,a).mouseout(t,c||a)},Ne.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var pt=[];Ne.drag=function(e,t,a,c,m,k){function E(P){(P.originalEvent||P).preventDefault();var R=P.clientX,H=P.clientY,J=L.doc.documentElement.scrollTop||L.doc.body.scrollTop,ae=L.doc.documentElement.scrollLeft||L.doc.body.scrollLeft;if(this._drag.id=P.identifier,te&&P.touches){for(var K,Y=P.touches.length;Y--;)if(K=P.touches[Y],this._drag.id=K.identifier,K.identifier==this._drag.id){R=K.clientX,H=K.clientY;break}}this._drag.x=R+ae,this._drag.y=H+J,!et.length&&u.mousemove(Vt).mouseup($t),et.push({el:this,move_scope:c,start_scope:m,end_scope:k}),t&&s.on("raphael.drag.start."+this.id,t),e&&s.on("raphael.drag.move."+this.id,e),a&&s.on("raphael.drag.end."+this.id,a),s("raphael.drag.start."+this.id,m||c||this,this._drag.x,this._drag.y,P)}return this._drag={},pt.push({el:this,start:E}),this.mousedown(E),this},Ne.onDragOver=function(e){e?s.on("raphael.drag.over."+this.id,e):s.unbind("raphael.drag.over."+this.id)},Ne.undrag=function(){for(var e=pt.length;e--;)pt[e].el==this&&(this.unmousedown(pt[e].start),pt.splice(e,1),s.unbind("raphael.drag.*."+this.id));!pt.length&&u.unmousemove(Vt).unmouseup($t),et=[]},b.circle=function(e,t,a){var c=u._engine.circle(this,e||0,t||0,a||0);return this.__set__&&this.__set__.push(c),c},b.rect=function(e,t,a,c,m){var k=u._engine.rect(this,e||0,t||0,a||0,c||0,m||0);return this.__set__&&this.__set__.push(k),k},b.ellipse=function(e,t,a,c){var m=u._engine.ellipse(this,e||0,t||0,a||0,c||0);return this.__set__&&this.__set__.push(m),m},b.path=function(e){e&&!u.is(e,"string")&&!u.is(e[0],l)&&(e+=oe);var t=u._engine.path(u.format[$](u,arguments),this);return this.__set__&&this.__set__.push(t),t},b.image=function(e,t,a,c,m){var k=u._engine.image(this,e||"about:blank",t||0,a||0,c||0,m||0);return this.__set__&&this.__set__.push(k),k},b.text=function(e,t,a){var c=u._engine.text(this,e||0,t||0,G(a));return this.__set__&&this.__set__.push(c),c},b.set=function(e){!u.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var t=new Pt(e);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t},b.setStart=function(e){this.__set__=e||this.set()},b.setFinish=function(e){var t=this.__set__;return delete this.__set__,t},b.getSize=function(){var e=this.canvas.parentNode;return{width:e.offsetWidth,height:e.offsetHeight}},b.setSize=function(e,t){return u._engine.setSize.call(this,e,t)},b.setViewBox=function(e,t,a,c,m){return u._engine.setViewBox.call(this,e,t,a,c,m)},b.top=b.bottom=null,b.raphael=u;function i1(){return this.x+me+this.y+me+this.width+" × "+this.height}b.getElementByPoint=function(e,t){var a,c,m,k,E,P,R,H=this.canvas,J=L.doc.elementFromPoint(e,t);if(L.win.opera&&J.tagName=="svg"){var ae=(c=(a=H).getBoundingClientRect(),m=a.ownerDocument,k=m.body,E=m.documentElement,P=E.clientTop||k.clientTop||0,R=E.clientLeft||k.clientLeft||0,{y:c.top+(L.win.pageYOffset||E.scrollTop||k.scrollTop)-P,x:c.left+(L.win.pageXOffset||E.scrollLeft||k.scrollLeft)-R}),K=H.createSVGRect();K.x=e-ae.x,K.y=t-ae.y,K.width=K.height=1;var Y=H.getIntersectionList(K,null);Y.length&&(J=Y[Y.length-1])}if(!J)return null;for(;J.parentNode&&J!=H.parentNode&&!J.raphael;)J=J.parentNode;return J==this.canvas.parentNode&&(J=H),J=J&&J.raphael?this.getById(J.raphaelid):null},b.getElementsByBBox=function(e){var t=this.set();return this.forEach(function(a){u.isBBoxIntersect(a.getBBox(),e)&&t.push(a)}),t},b.getById=function(e){for(var t=this.bottom;t;){if(t.id==e)return t;t=t.next}return null},b.forEach=function(e,t){for(var a=this.bottom;a;){if(e.call(t,a)===!1)return this;a=a.next}return this},b.getElementsByPoint=function(e,t){var a=this.set();return this.forEach(function(c){c.isPointInside(e,t)&&a.push(c)}),a},Ne.isPointInside=function(e,t){var a=this.realPath=Te[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(a=u.transformPath(a,this.attr("transform"))),u.isPointInsidePath(a,e,t)},Ne.getBBox=function(e){if(this.removed)return{};var t=this._;return e?(!t.dirty&&t.bboxwt||(this.realPath=Te[this.type](this),t.bboxwt=Ke(this.realPath),t.bboxwt.toString=i1,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&(!t.dirty&&this.realPath||(t.bboxwt=0,this.realPath=Te[this.type](this)),t.bbox=Ke(Ie(this.realPath,this.matrix)),t.bbox.toString=i1,t.dirty=t.dirtyT=0),t.bbox)},Ne.clone=function(){if(this.removed)return null;var e=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(e),e},Ne.glow=function(e){if(this.type=="text")return null;var t={width:((e=e||{}).width||10)+(+this.attr("stroke-width")||1),fill:e.fill||!1,opacity:e.opacity==null?.5:e.opacity,offsetx:e.offsetx||0,offsety:e.offsety||0,color:e.color||"#000"},a=t.width/2,c=this.paper,m=c.set(),k=this.realPath||Te[this.type](this);k=this.matrix?Ie(k,this.matrix):k;for(var E=1;E<a+1;E++)m.push(c.path(k).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/a*E).toFixed(3),opacity:+(t.opacity/a).toFixed(3)}));return m.insertBefore(this).translate(t.offsetx,t.offsety)};var jt=function(e,t,a,c,m,k,E,P,R){return R==null?Ge(e,t,a,c,m,k,E,P):u.findDotsAtSegment(e,t,a,c,m,k,E,P,function(H,J,ae,K,Y,re,le,ie,Q){if(!(Q<0||Ge(H,J,ae,K,Y,re,le,ie)<Q)){var be,ce=.5,pe=1-ce;for(be=Ge(H,J,ae,K,Y,re,le,ie,pe);xe(be-Q)>.01;)be=Ge(H,J,ae,K,Y,re,le,ie,pe+=(be<Q?1:-1)*(ce/=2));return pe}}(e,t,a,c,m,k,E,P,R))},Ut=function(e,t){return function(a,c,m){for(var k,E,P,R,H,J="",ae={},K=0,Y=0,re=(a=St(a)).length;Y<re;Y++){if((P=a[Y])[0]=="M")k=+P[1],E=+P[2];else{if(K+(R=jt(k,E,P[1],P[2],P[3],P[4],P[5],P[6]))>c){if(t&&!ae.start){if(J+=["C"+(H=jt(k,E,P[1],P[2],P[3],P[4],P[5],P[6],c-K)).start.x,H.start.y,H.m.x,H.m.y,H.x,H.y],m)return J;ae.start=J,J=["M"+H.x,H.y+"C"+H.n.x,H.n.y,H.end.x,H.end.y,P[5],P[6]].join(),K+=R,k=+P[5],E=+P[6];continue}if(!e&&!t)return{x:(H=jt(k,E,P[1],P[2],P[3],P[4],P[5],P[6],c-K)).x,y:H.y,alpha:H.alpha}}K+=R,k=+P[5],E=+P[6]}J+=P.shift()+P}return ae.end=J,(H=e?K:t?ae:u.findDotsAtSegment(k,E,P[0],P[1],P[2],P[3],P[4],P[5],1)).alpha&&(H={x:H.x,y:H.y,alpha:H.alpha}),H}},s1=Ut(1),o1=Ut(),Gt=Ut(0,1);u.getTotalLength=s1,u.getPointAtLength=o1,u.getSubpath=function(e,t,a){if(this.getTotalLength(e)-a<1e-6)return Gt(e,t).end;var c=Gt(e,a,1);return t?Gt(c,t).end:c},Ne.getTotalLength=function(){var e=this.getPath();if(e)return this.node.getTotalLength?this.node.getTotalLength():s1(e)},Ne.getPointAtLength=function(e){var t=this.getPath();if(t)return o1(t,e)},Ne.getPath=function(){var e,t=u._getPath[this.type];if(this.type!="text"&&this.type!="set")return t&&(e=t(this)),e},Ne.getSubpath=function(e,t){var a=this.getPath();if(a)return u.getSubpath(a,e,t)};var $e=u.easing_formulas={linear:function(e){return e},"<":function(e){return Ce(e,1.7)},">":function(e){return Ce(e,.48)},"<>":function(e){var t=.48-e/1.04,a=de.sqrt(.1734+t*t),c=a-t,m=-a-t,k=Ce(xe(c),1/3)*(c<0?-1:1)+Ce(xe(m),1/3)*(m<0?-1:1)+.5;return 3*(1-k)*k*k+k*k*k},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},elastic:function(e){return e==!!e?e:Ce(2,-10*e)*de.sin(2*ee*(e-.075)/.3)+1},bounce:function(e){var t=7.5625,a=2.75;return e<1/a?t*e*e:e<2/a?t*(e-=1.5/a)*e+.75:e<2.5/a?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375}};$e.easeIn=$e["ease-in"]=$e["<"],$e.easeOut=$e["ease-out"]=$e[">"],$e.easeInOut=$e["ease-in-out"]=$e["<>"],$e["back-in"]=$e.backIn,$e["back-out"]=$e.backOut;var Be=[],a1=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,16)},Wt=function(){for(var e=+new Date,t=0;t<Be.length;t++){var a=Be[t];if(!a.el.removed&&!a.paused){var c,m,k=e-a.start,E=a.ms,P=a.easing,R=a.from,H=a.diff,J=a.to,ae=(a.t,a.el),K={},Y={};if(a.initstatus?(k=(a.initstatus*a.anim.top-a.prev)/(a.percent-a.prev)*E,a.status=a.initstatus,delete a.initstatus,a.stop&&Be.splice(t--,1)):a.status=(a.prev+(a.percent-a.prev)*(k/E))/a.anim.top,!(k<0))if(k<E){var re=P(k/E);for(var le in R)if(R[B](le)){switch(M[le]){case o:c=+R[le]+re*E*H[le];break;case"colour":c="rgb("+[Xt(h(R[le].r+re*E*H[le].r)),Xt(h(R[le].g+re*E*H[le].g)),Xt(h(R[le].b+re*E*H[le].b))].join(",")+")";break;case"path":c=[];for(var ie=0,Q=R[le].length;ie<Q;ie++){c[ie]=[R[le][ie][0]];for(var be=1,ce=R[le][ie].length;be<ce;be++)c[ie][be]=+R[le][ie][be]+re*E*H[le][ie][be];c[ie]=c[ie].join(me)}c=c.join(me);break;case"transform":if(H[le].real)for(c=[],ie=0,Q=R[le].length;ie<Q;ie++)for(c[ie]=[R[le][ie][0]],be=1,ce=R[le][ie].length;be<ce;be++)c[ie][be]=R[le][ie][be]+re*E*H[le][ie][be];else{var pe=function(Ee){return+R[le][Ee]+re*E*H[le][Ee]};c=[["m",pe(0),pe(1),pe(2),pe(3),pe(4),pe(5)]]}break;case"csv":if(le=="clip-rect")for(c=[],ie=4;ie--;)c[ie]=+R[le][ie]+re*E*H[le][ie];break;default:var ue=[][j](R[le]);for(c=[],ie=ae.paper.customAttributes[le].length;ie--;)c[ie]=+ue[ie]+re*E*H[le][ie]}K[le]=c}ae.attr(K),function(Ee,Pe,Re){setTimeout(function(){s("raphael.anim.frame."+Ee,Pe,Re)})}(ae.id,ae,a.anim)}else{if(function(Ee,Pe,Re){setTimeout(function(){s("raphael.anim.frame."+Pe.id,Pe,Re),s("raphael.anim.finish."+Pe.id,Pe,Re),u.is(Ee,"function")&&Ee.call(Pe)})}(a.callback,ae,a.anim),ae.attr(J),Be.splice(t--,1),a.repeat>1&&!a.next){for(m in J)J[B](m)&&(Y[m]=a.totalOrigin[m]);a.el.attr(Y),At(a.anim,a.el,a.anim.percents[0],null,a.totalOrigin,a.repeat-1)}a.next&&!a.stop&&At(a.anim,a.el,a.next,null,a.totalOrigin,a.repeat)}}}Be.length&&a1(Wt)},Xt=function(e){return e>255?255:e<0?0:e};function j1(e,t,a,c,m,k){var E=3*t,P=3*(c-t)-E,R=1-E-P,H=3*a,J=3*(m-a)-H,ae=1-H-J;function K(Y){return((R*Y+P)*Y+E)*Y}return function(Y,re){var le=function(ie,Q){var be,ce,pe,ue,Ee,Pe;for(pe=ie,Pe=0;Pe<8;Pe++){if(ue=K(pe)-ie,xe(ue)<Q)return pe;if(xe(Ee=(3*R*pe+2*P)*pe+E)<1e-6)break;pe-=ue/Ee}if(ce=1,(pe=ie)<(be=0))return be;if(pe>ce)return ce;for(;be<ce;){if(ue=K(pe),xe(ue-ie)<Q)return pe;ie>ue?be=pe:ce=pe,pe=(ce-be)/2+be}return pe}(Y,re);return((ae*le+J)*le+H)*le}(e,1/(200*k))}function Xe(e,t){var a=[],c={};if(this.ms=t,this.times=1,e){for(var m in e)e[B](m)&&(c[v(m)]=e[m],a.push(v(m)));a.sort(Se)}this.anim=c,this.top=a[a.length-1],this.percents=a}function At(e,t,a,c,m,k){a=v(a);var E,P,R,H,J,ae,K=e.ms,Y={},re={},le={};if(c)for(Q=0,be=Be.length;Q<be;Q++){var ie=Be[Q];if(ie.el.id==t.id&&ie.anim==e){ie.percent!=a?(Be.splice(Q,1),R=1):P=ie,t.attr(ie.totalOrigin);break}}else c=+re;for(var Q=0,be=e.percents.length;Q<be;Q++){if(e.percents[Q]==a||e.percents[Q]>c*e.top){a=e.percents[Q],J=e.percents[Q-1]||0,K=K/e.top*(a-J),H=e.percents[Q+1],E=e.anim[a];break}c&&t.attr(e.anim[e.percents[Q]])}if(E){if(P)P.initstatus=c,P.start=new Date-P.ms*c;else{for(var ce in E)if(E[B](ce)&&(M[B](ce)||t.paper.customAttributes[B](ce)))switch(Y[ce]=t.attr(ce),Y[ce]==null&&(Y[ce]=I[ce]),re[ce]=E[ce],M[ce]){case o:le[ce]=(re[ce]-Y[ce])/K;break;case"colour":Y[ce]=u.getRGB(Y[ce]);var pe=u.getRGB(re[ce]);le[ce]={r:(pe.r-Y[ce].r)/K,g:(pe.g-Y[ce].g)/K,b:(pe.b-Y[ce].b)/K};break;case"path":var ue=St(Y[ce],re[ce]),Ee=ue[1];for(Y[ce]=ue[0],le[ce]=[],Q=0,be=Y[ce].length;Q<be;Q++){le[ce][Q]=[0];for(var Pe=1,Re=Y[ce][Q].length;Pe<Re;Pe++)le[ce][Q][Pe]=(Ee[Q][Pe]-Y[ce][Q][Pe])/K}break;case"transform":var mt=t._,Et=F1(mt[ce],re[ce]);if(Et)for(Y[ce]=Et.from,re[ce]=Et.to,le[ce]=[],le[ce].real=!0,Q=0,be=Y[ce].length;Q<be;Q++)for(le[ce][Q]=[Y[ce][Q][0]],Pe=1,Re=Y[ce][Q].length;Pe<Re;Pe++)le[ce][Q][Pe]=(re[ce][Q][Pe]-Y[ce][Q][Pe])/K;else{var Ve=t.matrix||new rt,We={_:{transform:mt.transform},getBBox:function(){return t.getBBox(1)}};Y[ce]=[Ve.a,Ve.b,Ve.c,Ve.d,Ve.e,Ve.f],e1(We,re[ce]),re[ce]=We._.transform,le[ce]=[(We.matrix.a-Ve.a)/K,(We.matrix.b-Ve.b)/K,(We.matrix.c-Ve.c)/K,(We.matrix.d-Ve.d)/K,(We.matrix.e-Ve.e)/K,(We.matrix.f-Ve.f)/K]}break;case"csv":var gt=G(E[ce])[he](T),vt=G(Y[ce])[he](T);if(ce=="clip-rect")for(Y[ce]=vt,le[ce]=[],Q=vt.length;Q--;)le[ce][Q]=(gt[Q]-Y[ce][Q])/K;re[ce]=gt;break;default:for(gt=[][j](E[ce]),vt=[][j](Y[ce]),le[ce]=[],Q=t.paper.customAttributes[ce].length;Q--;)le[ce][Q]=((gt[Q]||0)-(vt[Q]||0))/K}var Dt=E.easing,Ye=u.easing_formulas[Dt];if(!Ye)if((Ye=G(Dt).match(i))&&Ye.length==5){var st=Ye;Ye=function(qt){return j1(qt,+st[1],+st[2],+st[3],+st[4],K)}}else Ye=Ae;if(ie={anim:e,percent:a,timestamp:ae=E.start||e.start||+new Date,start:ae+(e.del||0),status:0,initstatus:c||0,stop:!1,ms:K,easing:Ye,from:Y,diff:le,to:re,el:t,callback:E.callback,prev:J,next:H,repeat:k||e.times,origin:t.attr(),totalOrigin:m},Be.push(ie),c&&!P&&!R&&(ie.stop=!0,ie.start=new Date-K*c,Be.length==1))return Wt();R&&(ie.start=new Date-ie.ms*c),Be.length==1&&a1(Wt)}s("raphael.anim.start."+t.id,t,e)}}function l1(e){for(var t=0;t<Be.length;t++)Be[t].el.paper==e&&Be.splice(t--,1)}Ne.animateWith=function(e,t,a,c,m,k){if(this.removed)return k&&k.call(this),this;var E=a instanceof Xe?a:u.animation(a,c,m,k);At(E,this,E.percents[0],null,this.attr());for(var P=0,R=Be.length;P<R;P++)if(Be[P].anim==t&&Be[P].el==e){Be[R-1].start=Be[P].start;break}return this},Ne.onAnimation=function(e){return e?s.on("raphael.anim.frame."+this.id,e):s.unbind("raphael.anim.frame."+this.id),this},Xe.prototype.delay=function(e){var t=new Xe(this.anim,this.ms);return t.times=this.times,t.del=+e||0,t},Xe.prototype.repeat=function(e){var t=new Xe(this.anim,this.ms);return t.del=this.del,t.times=de.floor(we(e,0))||1,t},u.animation=function(e,t,a,c){if(e instanceof Xe)return e;!u.is(a,"function")&&a||(c=c||a||null,a=null),e=Object(e),t=+t||0;var m,k,E={};for(k in e)e[B](k)&&v(k)!=k&&v(k)+"%"!=k&&(m=!0,E[k]=e[k]);if(m)return a&&(E.easing=a),c&&(E.callback=c),new Xe({100:E},t);if(c){var P=0;for(var R in e){var H=x(R);e[B](R)&&H>P&&(P=H)}!e[P+="%"].callback&&(e[P].callback=c)}return new Xe(e,t)},Ne.animate=function(e,t,a,c){if(this.removed)return c&&c.call(this),this;var m=e instanceof Xe?e:u.animation(e,t,a,c);return At(m,this,m.percents[0],null,this.attr()),this},Ne.setTime=function(e,t){return e&&t!=null&&this.status(e,X(t,e.ms)/e.ms),this},Ne.status=function(e,t){var a,c,m=[],k=0;if(t!=null)return At(e,this,-1,X(t,1)),this;for(a=Be.length;k<a;k++)if((c=Be[k]).el.id==this.id&&(!e||c.anim==e)){if(e)return c.status;m.push({anim:c.anim,status:c.status})}return e?0:m},Ne.pause=function(e){for(var t=0;t<Be.length;t++)Be[t].el.id!=this.id||e&&Be[t].anim!=e||s("raphael.anim.pause."+this.id,this,Be[t].anim)!==!1&&(Be[t].paused=!0);return this},Ne.resume=function(e){for(var t=0;t<Be.length;t++)if(Be[t].el.id==this.id&&(!e||Be[t].anim==e)){var a=Be[t];s("raphael.anim.resume."+this.id,this,a.anim)!==!1&&(delete a.paused,this.status(a.anim,a.status))}return this},Ne.stop=function(e){for(var t=0;t<Be.length;t++)Be[t].el.id!=this.id||e&&Be[t].anim!=e||s("raphael.anim.stop."+this.id,this,Be[t].anim)!==!1&&Be.splice(t--,1);return this},s.on("raphael.remove",l1),s.on("raphael.clear",l1),Ne.toString=function(){return"Raphaël’s object"};var c1,u1,it,h1,Pt=function(e){if(this.items=[],this.length=0,this.type="set",e)for(var t=0,a=e.length;t<a;t++)!e[t]||e[t].constructor!=Ne.constructor&&e[t].constructor!=Pt||(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)},ze=Pt.prototype;for(var Yt in ze.push=function(){for(var e,t,a=0,c=arguments.length;a<c;a++)!(e=arguments[a])||e.constructor!=Ne.constructor&&e.constructor!=Pt||(this[t=this.items.length]=this.items[t]=e,this.length++);return this},ze.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ze.forEach=function(e,t){for(var a=0,c=this.items.length;a<c;a++)if(e.call(t,this.items[a],a)===!1)return this;return this},Ne)Ne[B](Yt)&&(ze[Yt]=function(e){return function(){var t=arguments;return this.forEach(function(a){a[e][$](a,t)})}}(Yt));return ze.attr=function(e,t){if(e&&u.is(e,l)&&u.is(e[0],"object"))for(var a=0,c=e.length;a<c;a++)this.items[a].attr(e[a]);else for(var m=0,k=this.items.length;m<k;m++)this.items[m].attr(e,t);return this},ze.clear=function(){for(;this.length;)this.pop()},ze.splice=function(e,t,a){e=e<0?we(this.length+e,0):e,t=we(0,X(this.length-e,t));var c,m=[],k=[],E=[];for(c=2;c<arguments.length;c++)E.push(arguments[c]);for(c=0;c<t;c++)k.push(this[e+c]);for(;c<this.length-e;c++)m.push(this[e+c]);var P=E.length;for(c=0;c<P+m.length;c++)this.items[e+c]=this[e+c]=c<P?E[c]:m[c-P];for(c=this.items.length=this.length-=t-P;this[c];)delete this[c++];return new Pt(k)},ze.exclude=function(e){for(var t=0,a=this.length;t<a;t++)if(this[t]==e)return this.splice(t,1),!0},ze.animate=function(e,t,a,c){(u.is(a,"function")||!a)&&(c=a||null);var m,k,E=this.items.length,P=E,R=this;if(!E)return this;c&&(k=function(){!--E&&c.call(R)}),a=u.is(a,"string")?a:k;var H=u.animation(e,t,a,k);for(m=this.items[--P].animate(H);P--;)this.items[P]&&!this.items[P].removed&&this.items[P].animateWith(m,H,H),this.items[P]&&!this.items[P].removed||E--;return this},ze.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},ze.getBBox=function(){for(var e=[],t=[],a=[],c=[],m=this.items.length;m--;)if(!this.items[m].removed){var k=this.items[m].getBBox();e.push(k.x),t.push(k.y),a.push(k.x+k.width),c.push(k.y+k.height)}return{x:e=X[$](0,e),y:t=X[$](0,t),x2:a=we[$](0,a),y2:c=we[$](0,c),width:a-e,height:c-t}},ze.clone=function(e){e=this.paper.set();for(var t=0,a=this.items.length;t<a;t++)e.push(this.items[t].clone());return e},ze.toString=function(){return"Raphaël‘s set"},ze.glow=function(e){var t=this.paper.set();return this.forEach(function(a,c){var m=a.glow(e);m!=null&&m.forEach(function(k,E){t.push(k)})}),t},ze.isPointInside=function(e,t){var a=!1;return this.forEach(function(c){if(c.isPointInside(e,t))return a=!0,!1}),a},u.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},a=e.face["font-family"];for(var c in e.face)e.face[B](c)&&(t.face[c]=e.face[c]);if(this.fonts[a]?this.fonts[a].push(t):this.fonts[a]=[t],!e.svg){for(var m in t.face["units-per-em"]=x(e.face["units-per-em"],10),e.glyphs)if(e.glyphs[B](m)){var k=e.glyphs[m];if(t.glyphs[m]={w:k.w,k:{},d:k.d&&"M"+k.d.replace(/[mlcxtrv]/g,function(P){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[P]||"M"})+"z"},k.k)for(var E in k.k)k[B](E)&&(t.glyphs[m].k[E]=k.k[E])}}return e},b.getFont=function(e,t,a,c){if(c=c||"normal",a=a||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,u.fonts){var m,k=u.fonts[e];if(!k){var E=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,oe)+"(\\s|$)","i");for(var P in u.fonts)if(u.fonts[B](P)&&E.test(P)){k=u.fonts[P];break}}if(k)for(var R=0,H=k.length;R<H&&((m=k[R]).face["font-weight"]!=t||m.face["font-style"]!=a&&m.face["font-style"]||m.face["font-stretch"]!=c);R++);return m}},b.print=function(e,t,a,c,m,k,E,P){k=k||"middle",E=we(X(E||0,1),-1),P=we(X(P||1,3),1);var R,H=G(a)[he](oe),J=0,ae=0,K=oe;if(u.is(c,"string")&&(c=this.getFont(c)),c){R=(m||16)/c.face["units-per-em"];for(var Y=c.face.bbox[he](T),re=+Y[0],le=Y[3]-Y[1],ie=0,Q=+Y[1]+(k=="baseline"?le+ +c.face.descent:le/2),be=0,ce=H.length;be<ce;be++){if(H[be]==`
`)J=0,ue=0,ae=0,ie+=le*P;else{var pe=ae&&c.glyphs[H[be-1]]||{},ue=c.glyphs[H[be]];J+=ae?(pe.w||c.w)+(pe.k&&pe.k[H[be]]||0)+c.w*E:0,ae=1}ue&&ue.d&&(K+=u.transformPath(ue.d,["t",J*R,ie*R,"s",R,R,re,Q,"t",(e-re)/R,(t-Q)/R]))}}return this.path(K).attr({fill:"#000",stroke:"none"})},b.add=function(e){if(u.is(e,"array"))for(var t,a=this.set(),c=0,m=e.length;c<m;c++)t=e[c]||{},F[B](t.type)&&a.push(this[t.type]().attr(t));return a},u.format=function(e,t){var a=u.is(t,l)?[0][j](t):arguments;return e&&u.is(e,"string")&&a.length-1&&(e=e.replace(D,function(c,m){return a[++m]==null?oe:a[m]})),e||oe},u.fullfill=(c1=/\{([^\}]+)\}/g,u1=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,t){return String(e).replace(c1,function(a,c){return function(m,k,E){var P=E;return k.replace(u1,function(R,H,J,ae,K){H=H||ae,P&&(H in P&&(P=P[H]),typeof P=="function"&&K&&(P=P()))}),P=(P==null||P==E?m:P)+""}(a,c,t)})}),u.ninja=function(){if(W.was)L.win.Raphael=W.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(e){}}return u},u.st=ze,s.on("raphael.DOMload",function(){g=!0}),(it=document).readyState==null&&it.addEventListener&&(it.addEventListener("DOMContentLoaded",h1=function(){it.removeEventListener("DOMContentLoaded",h1,!1),it.readyState="complete"},!1),it.readyState="loading"),function e(){/in/.test(it.readyState)?setTimeout(e,9):u.eve("raphael.DOMload")}(),u}.apply(O,C))===void 0||(N.exports=d)},function(N,O,w){var C,d;C=[w(0),w(3),w(4)],(d=function(s){return s}.apply(O,C))===void 0||(N.exports=d)},function(N,O,w){var C,d,s,u,g,b,T,F,D,B,L,W,Z,$;u="hasOwnProperty",g=/[\.\/]/,b=/\s*,\s*/,T=function(j,te){return j-te},F={n:{}},D=function(){for(var j=0,te=this.length;j<te;j++)if(this[j]!==void 0)return this[j]},B=function(){for(var j=this.length;--j;)if(this[j]!==void 0)return this[j]},L=Object.prototype.toString,W=String,Z=Array.isArray||function(j){return j instanceof Array||L.call(j)=="[object Array]"},($=function(j,te){var oe,me=s,G=Array.prototype.slice.call(arguments,2),he=$.listeners(j),se=0,z=[],ge={},de=[],we=d;de.firstDefined=D,de.lastDefined=B,d=j,s=0;for(var X=0,xe=he.length;X<xe;X++)"zIndex"in he[X]&&(z.push(he[X].zIndex),he[X].zIndex<0&&(ge[he[X].zIndex]=he[X]));for(z.sort(T);z[se]<0;)if(oe=ge[z[se++]],de.push(oe.apply(te,G)),s)return s=me,de;for(X=0;X<xe;X++)if("zIndex"in(oe=he[X]))if(oe.zIndex==z[se]){if(de.push(oe.apply(te,G)),s)break;do if((oe=ge[z[++se]])&&de.push(oe.apply(te,G)),s)break;while(oe)}else ge[oe.zIndex]=oe;else if(de.push(oe.apply(te,G)),s)break;return s=me,d=we,de})._events=F,$.listeners=function(j){var te,oe,me,G,he,se,z,ge,de=Z(j)?j:j.split(g),we=F,X=[we],xe=[];for(G=0,he=de.length;G<he;G++){for(ge=[],se=0,z=X.length;se<z;se++)for(oe=[(we=X[se].n)[de[G]],we["*"]],me=2;me--;)(te=oe[me])&&(ge.push(te),xe=xe.concat(te.f||[]));X=ge}return xe},$.separator=function(j){j?(j="["+(j=W(j).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",g=new RegExp(j)):g=/[\.\/]/},$.on=function(j,te){if(typeof te!="function")return function(){};for(var oe=Z(j)?Z(j[0])?j:[j]:W(j).split(b),me=0,G=oe.length;me<G;me++)(function(he){for(var se,z=Z(he)?he:W(he).split(g),ge=F,de=0,we=z.length;de<we;de++)ge=(ge=ge.n).hasOwnProperty(z[de])&&ge[z[de]]||(ge[z[de]]={n:{}});for(ge.f=ge.f||[],de=0,we=ge.f.length;de<we;de++)if(ge.f[de]==te){se=!0;break}!se&&ge.f.push(te)})(oe[me]);return function(he){+he==+he&&(te.zIndex=+he)}},$.f=function(j){var te=[].slice.call(arguments,1);return function(){$.apply(null,[j,null].concat(te).concat([].slice.call(arguments,0)))}},$.stop=function(){s=1},$.nt=function(j){var te=Z(d)?d.join("."):d;return j?new RegExp("(?:\\.|\\/|^)"+j+"(?:\\.|\\/|$)").test(te):te},$.nts=function(){return Z(d)?d:d.split(g)},$.off=$.unbind=function(j,te){if(j){var oe=Z(j)?Z(j[0])?j:[j]:W(j).split(b);if(oe.length>1)for(var me=0,G=oe.length;me<G;me++)$.off(oe[me],te);else{oe=Z(j)?j:W(j).split(g);var he,se,z,ge,de,we=[F];for(me=0,G=oe.length;me<G;me++)for(ge=0;ge<we.length;ge+=z.length-2){if(z=[ge,1],he=we[ge].n,oe[me]!="*")he[oe[me]]&&z.push(he[oe[me]]);else for(se in he)he[u](se)&&z.push(he[se]);we.splice.apply(we,z)}for(me=0,G=we.length;me<G;me++)for(he=we[me];he.n;){if(te){if(he.f){for(ge=0,de=he.f.length;ge<de;ge++)if(he.f[ge]==te){he.f.splice(ge,1);break}!he.f.length&&delete he.f}for(se in he.n)if(he.n[u](se)&&he.n[se].f){var X=he.n[se].f;for(ge=0,de=X.length;ge<de;ge++)if(X[ge]==te){X.splice(ge,1);break}!X.length&&delete he.n[se].f}}else for(se in delete he.f,he.n)he.n[u](se)&&he.n[se].f&&delete he.n[se].f;he=he.n}}}else $._events=F={n:{}}},$.once=function(j,te){var oe=function(){return $.off(j,oe),te.apply(this,arguments)};return $.on(j,oe)},$.version="0.5.0",$.toString=function(){return"You are running Eve 0.5.0"},N.exports?N.exports=$:(C=function(){return $}.apply(O,[]))===void 0||(N.exports=C)},function(N,O,w){var C,d;C=[w(0)],(d=function(s){if(!s||s.svg){var u="hasOwnProperty",g=String,b=parseFloat,T=parseInt,F=Math,D=F.max,B=F.abs,L=F.pow,W=/[, ]+/,Z=s.eve,$="",j=" ",te="http://www.w3.org/1999/xlink",oe={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},me={};s.toString=function(){return`Your browser supports SVG.
You are running Raphaël `+this.version};var G=function(r,n){if(n)for(var i in typeof r=="string"&&(r=G(r)),n)n[u](i)&&(i.substring(0,6)=="xlink:"?r.setAttributeNS(te,i.substring(6),g(n[i])):r.setAttribute(i,g(n[i])));else(r=s._g.doc.createElementNS("http://www.w3.org/2000/svg",r)).style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},he=function(r,n){var i="linear",h=r.id+n,v=.5,x=.5,A=r.node,I=r.paper,M=A.style,V=s._g.doc.getElementById(h);if(!V){if(n=(n=g(n).replace(s._radial_gradient,function(Se,Ae,ke){if(i="radial",Ae&&ke){v=b(Ae);var Me=2*((x=b(ke))>.5)-1;L(v-.5,2)+L(x-.5,2)>.25&&(x=F.sqrt(.25-L(v-.5,2))*Me+.5)&&x!=.5&&(x=x.toFixed(5)-1e-5*Me)}return $})).split(/\s*\-\s*/),i=="linear"){var U=n.shift();if(U=-b(U),isNaN(U))return null;var ne=[0,0,F.cos(s.rad(U)),F.sin(s.rad(U))],fe=1/(D(B(ne[2]),B(ne[3]))||1);ne[2]*=fe,ne[3]*=fe,ne[2]<0&&(ne[0]=-ne[2],ne[2]=0),ne[3]<0&&(ne[1]=-ne[3],ne[3]=0)}var ve=s._parseDots(n);if(!ve)return null;if(h=h.replace(/[\(\)\s,\xb0#]/g,"_"),r.gradient&&h!=r.gradient.id&&(I.defs.removeChild(r.gradient),delete r.gradient),!r.gradient){V=G(i+"Gradient",{id:h}),r.gradient=V,G(V,i=="radial"?{fx:v,fy:x}:{x1:ne[0],y1:ne[1],x2:ne[2],y2:ne[3],gradientTransform:r.matrix.invert()}),I.defs.appendChild(V);for(var ye=0,_e=ve.length;ye<_e;ye++)V.appendChild(G("stop",{offset:ve[ye].offset?ve[ye].offset:ye?"100%":"0%","stop-color":ve[ye].color||"#fff","stop-opacity":isFinite(ve[ye].opacity)?ve[ye].opacity:1}))}}return G(A,{fill:se(h),opacity:1,"fill-opacity":1}),M.fill=$,M.opacity=1,M.fillOpacity=1,1},se=function(r){if((n=document.documentMode)&&(n===9||n===10))return"url('#"+r+"')";var n,i=document.location;return"url('"+(i.protocol+"//"+i.host+i.pathname+i.search)+"#"+r+"')"},z=function(r){var n=r.getBBox(1);G(r.pattern,{patternTransform:r.matrix.invert()+" translate("+n.x+","+n.y+")"})},ge=function(r,n,i){if(r.type=="path"){for(var h,v,x,A,I,M=g(n).toLowerCase().split("-"),V=r.paper,U=i?"end":"start",ne=r.node,fe=r.attrs,ve=fe["stroke-width"],ye=M.length,_e="classic",Se=3,Ae=3,ke=5;ye--;)switch(M[ye]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_e=M[ye];break;case"wide":Ae=5;break;case"narrow":Ae=2;break;case"long":Se=5;break;case"short":Se=2}if(_e=="open"?(Se+=2,Ae+=2,ke+=2,x=1,A=i?4:1,I={fill:"none",stroke:fe.stroke}):(A=x=Se/2,I={fill:fe.stroke,stroke:"none"}),r._.arrows?i?(r._.arrows.endPath&&me[r._.arrows.endPath]--,r._.arrows.endMarker&&me[r._.arrows.endMarker]--):(r._.arrows.startPath&&me[r._.arrows.startPath]--,r._.arrows.startMarker&&me[r._.arrows.startMarker]--):r._.arrows={},_e!="none"){var Me="raphael-marker-"+_e,Te="raphael-marker-"+U+_e+Se+Ae+"-obj"+r.id;s._g.doc.getElementById(Me)?me[Me]++:(V.defs.appendChild(G(G("path"),{"stroke-linecap":"round",d:oe[_e],id:Me})),me[Me]=1);var Ie,Le=s._g.doc.getElementById(Te);Le?(me[Te]++,Ie=Le.getElementsByTagName("use")[0]):(Le=G(G("marker"),{id:Te,markerHeight:Ae,markerWidth:Se,orient:"auto",refX:A,refY:Ae/2}),Ie=G(G("use"),{"xlink:href":"#"+Me,transform:(i?"rotate(180 "+Se/2+" "+Ae/2+") ":$)+"scale("+Se/ke+","+Ae/ke+")","stroke-width":(1/((Se/ke+Ae/ke)/2)).toFixed(4)}),Le.appendChild(Ie),V.defs.appendChild(Le),me[Te]=1),G(Ie,I);var Oe=x*(_e!="diamond"&&_e!="oval");i?(h=r._.arrows.startdx*ve||0,v=s.getTotalLength(fe.path)-Oe*ve):(h=Oe*ve,v=s.getTotalLength(fe.path)-(r._.arrows.enddx*ve||0)),(I={})["marker-"+U]="url(#"+Te+")",(v||h)&&(I.d=s.getSubpath(fe.path,h,v)),G(ne,I),r._.arrows[U+"Path"]=Me,r._.arrows[U+"Marker"]=Te,r._.arrows[U+"dx"]=Oe,r._.arrows[U+"Type"]=_e,r._.arrows[U+"String"]=n}else i?(h=r._.arrows.startdx*ve||0,v=s.getTotalLength(fe.path)-h):(h=0,v=s.getTotalLength(fe.path)-(r._.arrows.enddx*ve||0)),r._.arrows[U+"Path"]&&G(ne,{d:s.getSubpath(fe.path,h,v)}),delete r._.arrows[U+"Path"],delete r._.arrows[U+"Marker"],delete r._.arrows[U+"dx"],delete r._.arrows[U+"Type"],delete r._.arrows[U+"String"];for(I in me)if(me[u](I)&&!me[I]){var qe=s._g.doc.getElementById(I);qe&&qe.parentNode.removeChild(qe)}}},de={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},we=function(r,n,i){if(n=de[g(n).toLowerCase()]){for(var h=r.attrs["stroke-width"]||"1",v={round:h,square:h,butt:0}[r.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,x=[],A=n.length;A--;)x[A]=n[A]*h+(A%2?1:-1)*v;G(r.node,{"stroke-dasharray":x.join(",")})}else G(r.node,{"stroke-dasharray":"none"})},X=function(r,n){var i=r.node,h=r.attrs,v=i.style.visibility;for(var x in i.style.visibility="hidden",n)if(n[u](x)){if(!s._availableAttrs[u](x))continue;var A=n[x];switch(h[x]=A,x){case"blur":r.blur(A);break;case"title":var I=i.getElementsByTagName("title");if(I.length&&(I=I[0]))I.firstChild.nodeValue=A;else{I=G("title");var M=s._g.doc.createTextNode(A);I.appendChild(M),i.appendChild(I)}break;case"href":case"target":var V=i.parentNode;if(V.tagName.toLowerCase()!="a"){var U=G("a");V.insertBefore(U,i),U.appendChild(i),V=U}x=="target"?V.setAttributeNS(te,"show",A=="blank"?"new":A):V.setAttributeNS(te,x,A);break;case"cursor":i.style.cursor=A;break;case"transform":r.transform(A);break;case"arrow-start":ge(r,A);break;case"arrow-end":ge(r,A,1);break;case"clip-rect":var ne=g(A).split(W);if(ne.length==4){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var fe=G("clipPath"),ve=G("rect");fe.id=s.createUUID(),G(ve,{x:ne[0],y:ne[1],width:ne[2],height:ne[3]}),fe.appendChild(ve),r.paper.defs.appendChild(fe),G(i,{"clip-path":"url(#"+fe.id+")"}),r.clip=ve}if(!A){var ye=i.getAttribute("clip-path");if(ye){var _e=s._g.doc.getElementById(ye.replace(/(^url\(#|\)$)/g,$));_e&&_e.parentNode.removeChild(_e),G(i,{"clip-path":$}),delete r.clip}}break;case"path":r.type=="path"&&(G(i,{d:A?h.path=s._pathToAbsolute(A):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&ge(r,r._.arrows.startString),"endString"in r._.arrows&&ge(r,r._.arrows.endString,1)));break;case"width":if(i.setAttribute(x,A),r._.dirty=1,!h.fx)break;x="x",A=h.x;case"x":h.fx&&(A=-h.x-(h.width||0));case"rx":if(x=="rx"&&r.type=="rect")break;case"cx":i.setAttribute(x,A),r.pattern&&z(r),r._.dirty=1;break;case"height":if(i.setAttribute(x,A),r._.dirty=1,!h.fy)break;x="y",A=h.y;case"y":h.fy&&(A=-h.y-(h.height||0));case"ry":if(x=="ry"&&r.type=="rect")break;case"cy":i.setAttribute(x,A),r.pattern&&z(r),r._.dirty=1;break;case"r":r.type=="rect"?G(i,{rx:A,ry:A}):i.setAttribute(x,A),r._.dirty=1;break;case"src":r.type=="image"&&i.setAttributeNS(te,"href",A);break;case"stroke-width":r._.sx==1&&r._.sy==1||(A/=D(B(r._.sx),B(r._.sy))||1),i.setAttribute(x,A),h["stroke-dasharray"]&&we(r,h["stroke-dasharray"],n),r._.arrows&&("startString"in r._.arrows&&ge(r,r._.arrows.startString),"endString"in r._.arrows&&ge(r,r._.arrows.endString,1));break;case"stroke-dasharray":we(r,A,n);break;case"fill":var Se=g(A).match(s._ISURL);if(Se){fe=G("pattern");var Ae=G("image");fe.id=s.createUUID(),G(fe,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),G(Ae,{x:0,y:0,"xlink:href":Se[1]}),fe.appendChild(Ae),function(Le){s._preload(Se[1],function(){var Oe=this.offsetWidth,qe=this.offsetHeight;G(Le,{width:Oe,height:qe}),G(Ae,{width:Oe,height:qe})})}(fe),r.paper.defs.appendChild(fe),G(i,{fill:"url(#"+fe.id+")"}),r.pattern=fe,r.pattern&&z(r);break}var ke=s.getRGB(A);if(ke.error){if((r.type=="circle"||r.type=="ellipse"||g(A).charAt()!="r")&&he(r,A)){if("opacity"in h||"fill-opacity"in h){var Me=s._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,$));if(Me){var Te=Me.getElementsByTagName("stop");G(Te[Te.length-1],{"stop-opacity":("opacity"in h?h.opacity:1)*("fill-opacity"in h?h["fill-opacity"]:1)})}}h.gradient=A,h.fill="none";break}}else delete n.gradient,delete h.gradient,!s.is(h.opacity,"undefined")&&s.is(n.opacity,"undefined")&&G(i,{opacity:h.opacity}),!s.is(h["fill-opacity"],"undefined")&&s.is(n["fill-opacity"],"undefined")&&G(i,{"fill-opacity":h["fill-opacity"]});ke[u]("opacity")&&G(i,{"fill-opacity":ke.opacity>1?ke.opacity/100:ke.opacity});case"stroke":ke=s.getRGB(A),i.setAttribute(x,ke.hex),x=="stroke"&&ke[u]("opacity")&&G(i,{"stroke-opacity":ke.opacity>1?ke.opacity/100:ke.opacity}),x=="stroke"&&r._.arrows&&("startString"in r._.arrows&&ge(r,r._.arrows.startString),"endString"in r._.arrows&&ge(r,r._.arrows.endString,1));break;case"gradient":(r.type=="circle"||r.type=="ellipse"||g(A).charAt()!="r")&&he(r,A);break;case"opacity":h.gradient&&!h[u]("stroke-opacity")&&G(i,{"stroke-opacity":A>1?A/100:A});case"fill-opacity":if(h.gradient){(Me=s._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,$)))&&(Te=Me.getElementsByTagName("stop"),G(Te[Te.length-1],{"stop-opacity":A}));break}default:x=="font-size"&&(A=T(A,10)+"px");var Ie=x.replace(/(\-.)/g,function(Le){return Le.substring(1).toUpperCase()});i.style[Ie]=A,r._.dirty=1,i.setAttribute(x,A)}}xe(r,n),i.style.visibility=v},xe=function(r,n){if(r.type=="text"&&(n[u]("text")||n[u]("font")||n[u]("font-size")||n[u]("x")||n[u]("y"))){var i=r.attrs,h=r.node,v=h.firstChild?T(s._g.doc.defaultView.getComputedStyle(h.firstChild,$).getPropertyValue("font-size"),10):10;if(n[u]("text")){for(i.text=n.text;h.firstChild;)h.removeChild(h.firstChild);for(var x,A=g(n.text).split(`
`),I=[],M=0,V=A.length;M<V;M++)x=G("tspan"),M&&G(x,{dy:1.2*v,x:i.x}),x.appendChild(s._g.doc.createTextNode(A[M])),h.appendChild(x),I[M]=x}else for(M=0,V=(I=h.getElementsByTagName("tspan")).length;M<V;M++)M?G(I[M],{dy:1.2*v,x:i.x}):G(I[0],{dy:0});G(h,{x:i.x,y:i.y}),r._.dirty=1;var U=r._getBBox(),ne=i.y-(U.y+U.height/2);ne&&s.is(ne,"finite")&&G(I[0],{dy:ne})}},Ce=function(r){return r.parentNode&&r.parentNode.tagName.toLowerCase()==="a"?r.parentNode:r},ee=function(r,n){this[0]=this.node=r,r.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),r.raphaelid=this.id,this.matrix=s.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},o=s.el;ee.prototype=o,o.constructor=ee,s._engine.path=function(r,n){var i=G("path");n.canvas&&n.canvas.appendChild(i);var h=new ee(i,n);return h.type="path",X(h,{fill:"none",stroke:"#000",path:r}),h},o.rotate=function(r,n,i){if(this.removed)return this;if((r=g(r).split(W)).length-1&&(n=b(r[1]),i=b(r[2])),r=b(r[0]),i==null&&(n=i),n==null||i==null){var h=this.getBBox(1);n=h.x+h.width/2,i=h.y+h.height/2}return this.transform(this._.transform.concat([["r",r,n,i]])),this},o.scale=function(r,n,i,h){if(this.removed)return this;if((r=g(r).split(W)).length-1&&(n=b(r[1]),i=b(r[2]),h=b(r[3])),r=b(r[0]),n==null&&(n=r),h==null&&(i=h),i==null||h==null)var v=this.getBBox(1);return i=i==null?v.x+v.width/2:i,h=h==null?v.y+v.height/2:h,this.transform(this._.transform.concat([["s",r,n,i,h]])),this},o.translate=function(r,n){return this.removed?this:((r=g(r).split(W)).length-1&&(n=b(r[1])),r=b(r[0])||0,n=+n||0,this.transform(this._.transform.concat([["t",r,n]])),this)},o.transform=function(r){var n=this._;if(r==null)return n.transform;if(s._extractTransform(this,r),this.clip&&G(this.clip,{transform:this.matrix.invert()}),this.pattern&&z(this),this.node&&G(this.node,{transform:this.matrix}),n.sx!=1||n.sy!=1){var i=this.attrs[u]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},o.hide=function(){return this.removed||(this.node.style.display="none"),this},o.show=function(){return this.removed||(this.node.style.display=""),this},o.remove=function(){var r=Ce(this.node);if(!this.removed&&r.parentNode){var n=this.paper;for(var i in n.__set__&&n.__set__.exclude(this),Z.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),s._tear(this,n),r.parentNode.removeChild(r),this.removeData(),this)this[i]=typeof this[i]=="function"?s._removedFactory(i):null;this.removed=!0}},o._getBBox=function(){if(this.node.style.display=="none"){this.show();var r=!0}var n,i=!1;this.paper.canvas.parentElement?n=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(n=this.paper.canvas.parentNode.style),n&&n.display=="none"&&(i=!0,n.display="");var h={};try{h=this.node.getBBox()}catch(v){h={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{h=h||{},i&&(n.display="none")}return r&&this.hide(),h},o.attr=function(r,n){if(this.removed)return this;if(r==null){var i={};for(var h in this.attrs)this.attrs[u](h)&&(i[h]=this.attrs[h]);return i.gradient&&i.fill=="none"&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(n==null&&s.is(r,"string")){if(r=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(r=="transform")return this._.transform;for(var v=r.split(W),x={},A=0,I=v.length;A<I;A++)(r=v[A])in this.attrs?x[r]=this.attrs[r]:s.is(this.paper.customAttributes[r],"function")?x[r]=this.paper.customAttributes[r].def:x[r]=s._availableAttrs[r];return I-1?x:x[v[0]]}if(n==null&&s.is(r,"array")){for(x={},A=0,I=r.length;A<I;A++)x[r[A]]=this.attr(r[A]);return x}if(n!=null){var M={};M[r]=n}else r!=null&&s.is(r,"object")&&(M=r);for(var V in M)Z("raphael.attr."+V+"."+this.id,this,M[V]);for(V in this.paper.customAttributes)if(this.paper.customAttributes[u](V)&&M[u](V)&&s.is(this.paper.customAttributes[V],"function")){var U=this.paper.customAttributes[V].apply(this,[].concat(M[V]));for(var ne in this.attrs[V]=M[V],U)U[u](ne)&&(M[ne]=U[ne])}return X(this,M),this},o.toFront=function(){if(this.removed)return this;var r=Ce(this.node);r.parentNode.appendChild(r);var n=this.paper;return n.top!=this&&s._tofront(this,n),this},o.toBack=function(){if(this.removed)return this;var r=Ce(this.node),n=r.parentNode;return n.insertBefore(r,n.firstChild),s._toback(this,this.paper),this.paper,this},o.insertAfter=function(r){if(this.removed||!r)return this;var n=Ce(this.node),i=Ce(r.node||r[r.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),s._insertafter(this,r,this.paper),this},o.insertBefore=function(r){if(this.removed||!r)return this;var n=Ce(this.node),i=Ce(r.node||r[0].node);return i.parentNode.insertBefore(n,i),s._insertbefore(this,r,this.paper),this},o.blur=function(r){var n=this;if(+r!=0){var i=G("filter"),h=G("feGaussianBlur");n.attrs.blur=r,i.id=s.createUUID(),G(h,{stdDeviation:+r||1.5}),i.appendChild(h),n.paper.defs.appendChild(i),n._blur=i,G(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},s._engine.circle=function(r,n,i,h){var v=G("circle");r.canvas&&r.canvas.appendChild(v);var x=new ee(v,r);return x.attrs={cx:n,cy:i,r:h,fill:"none",stroke:"#000"},x.type="circle",G(v,x.attrs),x},s._engine.rect=function(r,n,i,h,v,x){var A=G("rect");r.canvas&&r.canvas.appendChild(A);var I=new ee(A,r);return I.attrs={x:n,y:i,width:h,height:v,rx:x||0,ry:x||0,fill:"none",stroke:"#000"},I.type="rect",G(A,I.attrs),I},s._engine.ellipse=function(r,n,i,h,v){var x=G("ellipse");r.canvas&&r.canvas.appendChild(x);var A=new ee(x,r);return A.attrs={cx:n,cy:i,rx:h,ry:v,fill:"none",stroke:"#000"},A.type="ellipse",G(x,A.attrs),A},s._engine.image=function(r,n,i,h,v,x){var A=G("image");G(A,{x:i,y:h,width:v,height:x,preserveAspectRatio:"none"}),A.setAttributeNS(te,"href",n),r.canvas&&r.canvas.appendChild(A);var I=new ee(A,r);return I.attrs={x:i,y:h,width:v,height:x,src:n},I.type="image",I},s._engine.text=function(r,n,i,h){var v=G("text");r.canvas&&r.canvas.appendChild(v);var x=new ee(v,r);return x.attrs={x:n,y:i,"text-anchor":"middle",text:h,"font-family":s._availableAttrs["font-family"],"font-size":s._availableAttrs["font-size"],stroke:"none",fill:"#000"},x.type="text",X(x,x.attrs),x},s._engine.setSize=function(r,n){return this.width=r||this.width,this.height=n||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},s._engine.create=function(){var r=s._getContainer.apply(0,arguments),n=r&&r.container;if(!n)throw new Error("SVG container not found.");var i,h=r.x,v=r.y,x=r.width,A=r.height,I=G("svg"),M="overflow:hidden;";return h=h||0,v=v||0,G(I,{height:A=A||342,version:1.1,width:x=x||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),n==1?(I.style.cssText=M+"position:absolute;left:"+h+"px;top:"+v+"px",s._g.doc.body.appendChild(I),i=1):(I.style.cssText=M+"position:relative",n.firstChild?n.insertBefore(I,n.firstChild):n.appendChild(I)),(n=new s._Paper).width=x,n.height=A,n.canvas=I,n.clear(),n._left=n._top=0,i&&(n.renderfix=function(){}),n.renderfix(),n},s._engine.setViewBox=function(r,n,i,h,v){Z("raphael.setViewBox",this,this._viewBox,[r,n,i,h,v]);var x,A,I=this.getSize(),M=D(i/I.width,h/I.height),V=this.top,U=v?"xMidYMid meet":"xMinYMin";for(r==null?(this._vbSize&&(M=1),delete this._vbSize,x="0 0 "+this.width+j+this.height):(this._vbSize=M,x=r+j+n+j+i+j+h),G(this.canvas,{viewBox:x,preserveAspectRatio:U});M&&V;)A="stroke-width"in V.attrs?V.attrs["stroke-width"]:1,V.attr({"stroke-width":A}),V._.dirty=1,V._.dirtyT=1,V=V.prev;return this._viewBox=[r,n,i,h,!!v],this},s.prototype.renderfix=function(){var r,n=this.canvas,i=n.style;try{r=n.getScreenCTM()||n.createSVGMatrix()}catch(x){r=n.createSVGMatrix()}var h=-r.e%1,v=-r.f%1;(h||v)&&(h&&(this._left=(this._left+h)%1,i.left=this._left+"px"),v&&(this._top=(this._top+v)%1,i.top=this._top+"px"))},s.prototype.clear=function(){s.eve("raphael.clear",this);for(var r=this.canvas;r.firstChild;)r.removeChild(r.firstChild);this.bottom=this.top=null,(this.desc=G("desc")).appendChild(s._g.doc.createTextNode("Created with Raphaël "+s.version)),r.appendChild(this.desc),r.appendChild(this.defs=G("defs"))},s.prototype.remove=function(){for(var r in Z("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[r]=typeof this[r]=="function"?s._removedFactory(r):null};var l=s.st;for(var p in o)o[u](p)&&!l[u](p)&&(l[p]=function(r){return function(){var n=arguments;return this.forEach(function(i){i[r].apply(i,n)})}}(p))}}.apply(O,C))===void 0||(N.exports=d)},function(N,O,w){var C,d;C=[w(0)],(d=function(s){if(!s||s.vml){var u="hasOwnProperty",g=String,b=parseFloat,T=Math,F=T.round,D=T.max,B=T.min,L=T.abs,W=/[, ]+/,Z=s.eve,$=" ",j="",te={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},oe=/([clmz]),?([^clmz]*)/gi,me=/ progid:\S+Blur\([^\)]+\)/g,G=/-?[^,\s-]+/g,he="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",se=21600,z={path:1,rect:1,image:1},ge={circle:1,ellipse:1},de=function(n,i,h){var v=s.matrix();return v.rotate(-n,.5,.5),{dx:v.x(i,h),dy:v.y(i,h)}},we=function(n,i,h,v,x,A){var I=n._,M=n.matrix,V=I.fillpos,U=n.node,ne=U.style,fe=1,ve="",ye=se/i,_e=se/h;if(ne.visibility="hidden",i&&h){if(U.coordsize=L(ye)+$+L(_e),ne.rotation=A*(i*h<0?-1:1),A){var Se=de(A,v,x);v=Se.dx,x=Se.dy}if(i<0&&(ve+="x"),h<0&&(ve+=" y")&&(fe=-1),ne.flip=ve,U.coordorigin=v*-ye+$+x*-_e,V||I.fillsize){var Ae=U.getElementsByTagName("fill");Ae=Ae&&Ae[0],U.removeChild(Ae),V&&(Se=de(A,M.x(V[0],V[1]),M.y(V[0],V[1])),Ae.position=Se.dx*fe+$+Se.dy*fe),I.fillsize&&(Ae.size=I.fillsize[0]*L(i)+$+I.fillsize[1]*L(h)),U.appendChild(Ae)}ne.visibility="visible"}};s.toString=function(){return`Your browser doesn’t support SVG. Falling down to VML.
You are running Raphaël `+this.version};var X,xe=function(n,i,h){for(var v=g(i).toLowerCase().split("-"),x=h?"end":"start",A=v.length,I="classic",M="medium",V="medium";A--;)switch(v[A]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":I=v[A];break;case"wide":case"narrow":V=v[A];break;case"long":case"short":M=v[A]}var U=n.node.getElementsByTagName("stroke")[0];U[x+"arrow"]=I,U[x+"arrowlength"]=M,U[x+"arrowwidth"]=V},Ce=function(n,i){n.attrs=n.attrs||{};var h=n.node,v=n.attrs,x=h.style,A=z[n.type]&&(i.x!=v.x||i.y!=v.y||i.width!=v.width||i.height!=v.height||i.cx!=v.cx||i.cy!=v.cy||i.rx!=v.rx||i.ry!=v.ry||i.r!=v.r),I=ge[n.type]&&(v.cx!=i.cx||v.cy!=i.cy||v.r!=i.r||v.rx!=i.rx||v.ry!=i.ry),M=n;for(var V in i)i[u](V)&&(v[V]=i[V]);if(A&&(v.path=s._getPath[n.type](n),n._.dirty=1),i.href&&(h.href=i.href),i.title&&(h.title=i.title),i.target&&(h.target=i.target),i.cursor&&(x.cursor=i.cursor),"blur"in i&&n.blur(i.blur),(i.path&&n.type=="path"||A)&&(h.path=function(Fe){var Qe=/[ahqstv]/gi,ct=s._pathToAbsolute;if(g(Fe).match(Qe)&&(ct=s._path2curve),Qe=/[clmz]/g,ct==s._pathToAbsolute&&!g(Fe).match(Qe)){var Ue=g(Fe).replace(oe,function(Zt,dt,ft){var Ze=[],Nt=dt.toLowerCase()=="m",nt=te[dt];return ft.replace(G,function(Mt){Nt&&Ze.length==2&&(nt+=Ze+te[dt=="m"?"l":"L"],Ze=[]),Ze.push(F(Mt*se))}),nt+Ze});return Ue}var ut,Ge,kt=ct(Fe);Ue=[];for(var ht=0,_t=kt.length;ht<_t;ht++){ut=kt[ht],(Ge=kt[ht][0].toLowerCase())=="z"&&(Ge="x");for(var Ke=1,He=ut.length;Ke<He;Ke++)Ge+=F(ut[Ke]*se)+(Ke!=He-1?",":j);Ue.push(Ge)}return Ue.join($)}(~g(v.path).toLowerCase().indexOf("r")?s._pathToAbsolute(v.path):v.path),n._.dirty=1,n.type=="image"&&(n._.fillpos=[v.x,v.y],n._.fillsize=[v.width,v.height],we(n,1,1,0,0,0))),"transform"in i&&n.transform(i.transform),I){var U=+v.cx,ne=+v.cy,fe=+v.rx||+v.r||0,ve=+v.ry||+v.r||0;h.path=s.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",F((U-fe)*se),F((ne-ve)*se),F((U+fe)*se),F((ne+ve)*se),F(U*se)),n._.dirty=1}if("clip-rect"in i){var ye=g(i["clip-rect"]).split(W);if(ye.length==4){ye[2]=+ye[2]+ +ye[0],ye[3]=+ye[3]+ +ye[1];var _e=h.clipRect||s._g.doc.createElement("div"),Se=_e.style;Se.clip=s.format("rect({1}px {2}px {3}px {0}px)",ye),h.clipRect||(Se.position="absolute",Se.top=0,Se.left=0,Se.width=n.paper.width+"px",Se.height=n.paper.height+"px",h.parentNode.insertBefore(_e,h),_e.appendChild(h),h.clipRect=_e)}i["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(n.textpath){var Ae=n.textpath.style;i.font&&(Ae.font=i.font),i["font-family"]&&(Ae.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,j)+'"'),i["font-size"]&&(Ae.fontSize=i["font-size"]),i["font-weight"]&&(Ae.fontWeight=i["font-weight"]),i["font-style"]&&(Ae.fontStyle=i["font-style"])}if("arrow-start"in i&&xe(M,i["arrow-start"]),"arrow-end"in i&&xe(M,i["arrow-end"],1),i.opacity!=null||i.fill!=null||i.src!=null||i.stroke!=null||i["stroke-width"]!=null||i["stroke-opacity"]!=null||i["fill-opacity"]!=null||i["stroke-dasharray"]!=null||i["stroke-miterlimit"]!=null||i["stroke-linejoin"]!=null||i["stroke-linecap"]!=null){var ke=h.getElementsByTagName("fill");if(!(ke=ke&&ke[0])&&(ke=X("fill")),n.type=="image"&&i.src&&(ke.src=i.src),i.fill&&(ke.on=!0),ke.on!=null&&i.fill!="none"&&i.fill!==null||(ke.on=!1),ke.on&&i.fill){var Me=g(i.fill).match(s._ISURL);if(Me){ke.parentNode==h&&h.removeChild(ke),ke.rotate=!0,ke.src=Me[1],ke.type="tile";var Te=n.getBBox(1);ke.position=Te.x+$+Te.y,n._.fillpos=[Te.x,Te.y],s._preload(Me[1],function(){n._.fillsize=[this.offsetWidth,this.offsetHeight]})}else ke.color=s.getRGB(i.fill).hex,ke.src=j,ke.type="solid",s.getRGB(i.fill).error&&(M.type in{circle:1,ellipse:1}||g(i.fill).charAt()!="r")&&ee(M,i.fill,ke)&&(v.fill="none",v.gradient=i.fill,ke.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var Ie=((+v["fill-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+s.getRGB(i.fill).o+1||2)-1);Ie=B(D(Ie,0),1),ke.opacity=Ie,ke.src&&(ke.color="none")}h.appendChild(ke);var Le=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],Oe=!1;!Le&&(Oe=Le=X("stroke")),(i.stroke&&i.stroke!="none"||i["stroke-width"]||i["stroke-opacity"]!=null||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(Le.on=!0),(i.stroke=="none"||i.stroke===null||Le.on==null||i.stroke==0||i["stroke-width"]==0)&&(Le.on=!1);var qe=s.getRGB(i.stroke);Le.on&&i.stroke&&(Le.color=qe.hex),Ie=((+v["stroke-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+qe.o+1||2)-1);var je=.75*(b(i["stroke-width"])||1);if(Ie=B(D(Ie,0),1),i["stroke-width"]==null&&(je=v["stroke-width"]),i["stroke-width"]&&(Le.weight=je),je&&je<1&&(Ie*=je)&&(Le.weight=1),Le.opacity=Ie,i["stroke-linejoin"]&&(Le.joinstyle=i["stroke-linejoin"]||"miter"),Le.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(Le.endcap=i["stroke-linecap"]=="butt"?"flat":i["stroke-linecap"]=="square"?"square":"round"),"stroke-dasharray"in i){var wt={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Le.dashstyle=wt[u](i["stroke-dasharray"])?wt[i["stroke-dasharray"]]:j}Oe&&h.appendChild(Le)}if(M.type=="text"){M.paper.canvas.style.display=j;var Je=M.paper.span,ot=v.font&&v.font.match(/\d+(?:\.\d*)?(?=px)/);x=Je.style,v.font&&(x.font=v.font),v["font-family"]&&(x.fontFamily=v["font-family"]),v["font-weight"]&&(x.fontWeight=v["font-weight"]),v["font-style"]&&(x.fontStyle=v["font-style"]),ot=b(v["font-size"]||ot&&ot[0])||10,x.fontSize=100*ot+"px",M.textpath.string&&(Je.innerHTML=g(M.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var at=Je.getBoundingClientRect();M.W=v.w=(at.right-at.left)/100,M.H=v.h=(at.bottom-at.top)/100,M.X=v.x,M.Y=v.y+M.H/2,("x"in i||"y"in i)&&(M.path.v=s.format("m{0},{1}l{2},{1}",F(v.x*se),F(v.y*se),F(v.x*se)+1));for(var Ct=["x","y","text","font","font-family","font-weight","font-style","font-size"],lt=0,Tt=Ct.length;lt<Tt;lt++)if(Ct[lt]in i){M._.dirty=1;break}switch(v["text-anchor"]){case"start":M.textpath.style["v-text-align"]="left",M.bbx=M.W/2;break;case"end":M.textpath.style["v-text-align"]="right",M.bbx=-M.W/2;break;default:M.textpath.style["v-text-align"]="center",M.bbx=0}M.textpath.style["v-text-kern"]=!0}},ee=function(n,i,h){n.attrs=n.attrs||{},n.attrs;var v=Math.pow,x="linear",A=".5 .5";if(n.attrs.gradient=i,i=(i=g(i).replace(s._radial_gradient,function(fe,ve,ye){return x="radial",ve&&ye&&(ve=b(ve),ye=b(ye),v(ve-.5,2)+v(ye-.5,2)>.25&&(ye=T.sqrt(.25-v(ve-.5,2))*(2*(ye>.5)-1)+.5),A=ve+$+ye),j})).split(/\s*\-\s*/),x=="linear"){var I=i.shift();if(I=-b(I),isNaN(I))return null}var M=s._parseDots(i);if(!M)return null;if(n=n.shape||n.node,M.length){n.removeChild(h),h.on=!0,h.method="none",h.color=M[0].color,h.color2=M[M.length-1].color;for(var V=[],U=0,ne=M.length;U<ne;U++)M[U].offset&&V.push(M[U].offset+$+M[U].color);h.colors=V.length?V.join():"0% "+h.color,x=="radial"?(h.type="gradientTitle",h.focus="100%",h.focussize="0 0",h.focusposition=A,h.angle=0):(h.type="gradient",h.angle=(270-I)%360),n.appendChild(h)}return 1},o=function(n,i){this[0]=this.node=n,n.raphael=!0,this.id=s._oid++,n.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=s.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},l=s.el;o.prototype=l,l.constructor=o,l.transform=function(n){if(n==null)return this._.transform;var i,h=this.paper._viewBoxShift,v=h?"s"+[h.scale,h.scale]+"-1-1t"+[h.dx,h.dy]:j;h&&(i=n=g(n).replace(/\.{3}|\u2026/g,this._.transform||j)),s._extractTransform(this,v+n);var x,A=this.matrix.clone(),I=this.skew,M=this.node,V=~g(this.attrs.fill).indexOf("-"),U=!g(this.attrs.fill).indexOf("url(");if(A.translate(1,1),U||V||this.type=="image")if(I.matrix="1 0 0 1",I.offset="0 0",x=A.split(),V&&x.noRotation||!x.isSimple){M.style.filter=A.toFilter();var ne=this.getBBox(),fe=this.getBBox(1),ve=ne.x-fe.x,ye=ne.y-fe.y;M.coordorigin=ve*-se+$+ye*-se,we(this,1,1,ve,ye,0)}else M.style.filter=j,we(this,x.scalex,x.scaley,x.dx,x.dy,x.rotate);else M.style.filter=j,I.matrix=g(A),I.offset=A.offset();return i!==null&&(this._.transform=i,s._extractTransform(this,i)),this},l.rotate=function(n,i,h){if(this.removed)return this;if(n!=null){if((n=g(n).split(W)).length-1&&(i=b(n[1]),h=b(n[2])),n=b(n[0]),h==null&&(i=h),i==null||h==null){var v=this.getBBox(1);i=v.x+v.width/2,h=v.y+v.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",n,i,h]])),this}},l.translate=function(n,i){return this.removed?this:((n=g(n).split(W)).length-1&&(i=b(n[1])),n=b(n[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=n,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",n,i]])),this)},l.scale=function(n,i,h,v){if(this.removed)return this;if((n=g(n).split(W)).length-1&&(i=b(n[1]),h=b(n[2]),v=b(n[3]),isNaN(h)&&(h=null),isNaN(v)&&(v=null)),n=b(n[0]),i==null&&(i=n),v==null&&(h=v),h==null||v==null)var x=this.getBBox(1);return h=h==null?x.x+x.width/2:h,v=v==null?x.y+x.height/2:v,this.transform(this._.transform.concat([["s",n,i,h,v]])),this._.dirtyT=1,this},l.hide=function(){return!this.removed&&(this.node.style.display="none"),this},l.show=function(){return!this.removed&&(this.node.style.display=j),this},l.auxGetBBox=s.el.getBBox,l.getBBox=function(){var n=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var i={},h=1/this.paper._viewBoxShift.scale;return i.x=n.x-this.paper._viewBoxShift.dx,i.x*=h,i.y=n.y-this.paper._viewBoxShift.dy,i.y*=h,i.width=n.width*h,i.height=n.height*h,i.x2=i.x+i.width,i.y2=i.y+i.height,i}return n},l._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},l.remove=function(){if(!this.removed&&this.node.parentNode){for(var n in this.paper.__set__&&this.paper.__set__.exclude(this),s.eve.unbind("raphael.*.*."+this.id),s._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[n]=typeof this[n]=="function"?s._removedFactory(n):null;this.removed=!0}},l.attr=function(n,i){if(this.removed)return this;if(n==null){var h={};for(var v in this.attrs)this.attrs[u](v)&&(h[v]=this.attrs[v]);return h.gradient&&h.fill=="none"&&(h.fill=h.gradient)&&delete h.gradient,h.transform=this._.transform,h}if(i==null&&s.is(n,"string")){if(n=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(var x=n.split(W),A={},I=0,M=x.length;I<M;I++)(n=x[I])in this.attrs?A[n]=this.attrs[n]:s.is(this.paper.customAttributes[n],"function")?A[n]=this.paper.customAttributes[n].def:A[n]=s._availableAttrs[n];return M-1?A:A[x[0]]}if(this.attrs&&i==null&&s.is(n,"array")){for(A={},I=0,M=n.length;I<M;I++)A[n[I]]=this.attr(n[I]);return A}var V;for(var U in i!=null&&((V={})[n]=i),i==null&&s.is(n,"object")&&(V=n),V)Z("raphael.attr."+U+"."+this.id,this,V[U]);if(V){for(U in this.paper.customAttributes)if(this.paper.customAttributes[u](U)&&V[u](U)&&s.is(this.paper.customAttributes[U],"function")){var ne=this.paper.customAttributes[U].apply(this,[].concat(V[U]));for(var fe in this.attrs[U]=V[U],ne)ne[u](fe)&&(V[fe]=ne[fe])}V.text&&this.type=="text"&&(this.textpath.string=V.text),Ce(this,V)}return this},l.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&s._tofront(this,this.paper),this},l.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),s._toback(this,this.paper)),this)},l.insertAfter=function(n){return this.removed?this:(n.constructor==s.st.constructor&&(n=n[n.length-1]),n.node.nextSibling?n.node.parentNode.insertBefore(this.node,n.node.nextSibling):n.node.parentNode.appendChild(this.node),s._insertafter(this,n,this.paper),this)},l.insertBefore=function(n){return this.removed?this:(n.constructor==s.st.constructor&&(n=n[0]),n.node.parentNode.insertBefore(this.node,n.node),s._insertbefore(this,n,this.paper),this)},l.blur=function(n){var i=this.node.runtimeStyle,h=i.filter;return h=h.replace(me,j),+n!=0?(this.attrs.blur=n,i.filter=h+$+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+n||1.5)+")",i.margin=s.format("-{0}px 0 0 -{0}px",F(+n||1.5))):(i.filter=h,i.margin=0,delete this.attrs.blur),this},s._engine.path=function(n,i){var h=X("shape");h.style.cssText=he,h.coordsize=se+$+se,h.coordorigin=i.coordorigin;var v=new o(h,i),x={fill:"none",stroke:"#000"};n&&(x.path=n),v.type="path",v.path=[],v.Path=j,Ce(v,x),i.canvas&&i.canvas.appendChild(h);var A=X("skew");return A.on=!0,h.appendChild(A),v.skew=A,v.transform(j),v},s._engine.rect=function(n,i,h,v,x,A){var I=s._rectPath(i,h,v,x,A),M=n.path(I),V=M.attrs;return M.X=V.x=i,M.Y=V.y=h,M.W=V.width=v,M.H=V.height=x,V.r=A,V.path=I,M.type="rect",M},s._engine.ellipse=function(n,i,h,v,x){var A=n.path();return A.attrs,A.X=i-v,A.Y=h-x,A.W=2*v,A.H=2*x,A.type="ellipse",Ce(A,{cx:i,cy:h,rx:v,ry:x}),A},s._engine.circle=function(n,i,h,v){var x=n.path();return x.attrs,x.X=i-v,x.Y=h-v,x.W=x.H=2*v,x.type="circle",Ce(x,{cx:i,cy:h,r:v}),x},s._engine.image=function(n,i,h,v,x,A){var I=s._rectPath(h,v,x,A),M=n.path(I).attr({stroke:"none"}),V=M.attrs,U=M.node,ne=U.getElementsByTagName("fill")[0];return V.src=i,M.X=V.x=h,M.Y=V.y=v,M.W=V.width=x,M.H=V.height=A,V.path=I,M.type="image",ne.parentNode==U&&U.removeChild(ne),ne.rotate=!0,ne.src=i,ne.type="tile",M._.fillpos=[h,v],M._.fillsize=[x,A],U.appendChild(ne),we(M,1,1,0,0,0),M},s._engine.text=function(n,i,h,v){var x=X("shape"),A=X("path"),I=X("textpath");i=i||0,h=h||0,v=v||"",A.v=s.format("m{0},{1}l{2},{1}",F(i*se),F(h*se),F(i*se)+1),A.textpathok=!0,I.string=g(v),I.on=!0,x.style.cssText=he,x.coordsize=se+$+se,x.coordorigin="0 0";var M=new o(x,n),V={fill:"#000",stroke:"none",font:s._availableAttrs.font,text:v};M.shape=x,M.path=A,M.textpath=I,M.type="text",M.attrs.text=g(v),M.attrs.x=i,M.attrs.y=h,M.attrs.w=1,M.attrs.h=1,Ce(M,V),x.appendChild(I),x.appendChild(A),n.canvas.appendChild(x);var U=X("skew");return U.on=!0,x.appendChild(U),M.skew=U,M.transform(j),M},s._engine.setSize=function(n,i){var h=this.canvas.style;return this.width=n,this.height=i,n==+n&&(n+="px"),i==+i&&(i+="px"),h.width=n,h.height=i,h.clip="rect(0 "+n+" "+i+" 0)",this._viewBox&&s._engine.setViewBox.apply(this,this._viewBox),this},s._engine.setViewBox=function(n,i,h,v,x){s.eve("raphael.setViewBox",this,this._viewBox,[n,i,h,v,x]);var A,I,M=this.getSize(),V=M.width,U=M.height;return x&&(h*(A=U/v)<V&&(n-=(V-h*A)/2/A),v*(I=V/h)<U&&(i-=(U-v*I)/2/I)),this._viewBox=[n,i,h,v,!!x],this._viewBoxShift={dx:-n,dy:-i,scale:M},this.forEach(function(ne){ne.transform("...")}),this},s._engine.initWin=function(n){var i=n.document;i.styleSheets.length<31?i.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):i.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!i.namespaces.rvml&&i.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),X=function(h){return i.createElement("<rvml:"+h+' class="rvml">')}}catch(h){X=function(v){return i.createElement("<"+v+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},s._engine.initWin(s._g.win),s._engine.create=function(){var n=s._getContainer.apply(0,arguments),i=n.container,h=n.height,v=n.width,x=n.x,A=n.y;if(!i)throw new Error("VML container not found.");var I=new s._Paper,M=I.canvas=s._g.doc.createElement("div"),V=M.style;return x=x||0,A=A||0,v=v||512,h=h||342,I.width=v,I.height=h,v==+v&&(v+="px"),h==+h&&(h+="px"),I.coordsize=216e5+$+216e5,I.coordorigin="0 0",I.span=s._g.doc.createElement("span"),I.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",M.appendChild(I.span),V.cssText=s.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",v,h),i==1?(s._g.doc.body.appendChild(M),V.left=x+"px",V.top=A+"px",V.position="absolute"):i.firstChild?i.insertBefore(M,i.firstChild):i.appendChild(M),I.renderfix=function(){},I},s.prototype.clear=function(){s.eve("raphael.clear",this),this.canvas.innerHTML=j,this.span=s._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},s.prototype.remove=function(){for(var n in s.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[n]=typeof this[n]=="function"?s._removedFactory(n):null;return!0};var p=s.st;for(var r in l)l[u](r)&&!p[u](r)&&(p[r]=function(n){return function(){var i=arguments;return this.forEach(function(h){h[n].apply(h,i)})}}(r))}}.apply(O,C))===void 0||(N.exports=d)}])})}),J1=G1(Y1),Rt=J1;var q={};q.Common={nodeIdIncrement:0,activeNode:0,roundFloat:function(f,S){for(var N=0,O=1;N<S;)O*=10,N++;return Math.round(f*O)/O},apply:function(f,S){if(f&&typeof S=="object")for(var N in S)f[N]=S[N];return f},addRaphEventHandler:function(f,S,N,O){try{f[S](function(w,C){return function(d,s){var u=C;u.e=d,w(u)}}(N,O))}catch(w){}},isInteger:function(f){return!isNaN(parseInt(f))},isXMLSerializerAvailable:function(){return typeof XMLSerializer=="function"},createSvgEl:function(f,S){if(f=document.createElementNS("http://www.w3.org/2000/svg",f),S)for(var N in S)S.hasOwnProperty(N)&&f.setAttribute(N,String(S[N]));return f},createGradientEl:function(f,S,N){if(S.type!="radialGradient")return!1;var O=q.Common.createSvgEl("radialGradient",{id:f,gradientUnits:"userSpaceOnUse",cx:N[0],cy:N[1],r:N[2],fx:N[0],fy:N[1]});if(S.stop)for(var w=S.stop,C=0;C<w.length;C++){var d=w[C];d["@attributes"]?O.appendChild(q.Common.createSvgEl("stop",d["@attributes"])):(d._attributes&&delete d._attributes,d._children&&delete d._children,d.__proto__&&delete d.__proto__,O.appendChild(q.Common.createSvgEl("stop",d)))}return O},setCssStyle:function(f,S){var N=document.styleSheets[0];N.addRule?N.addRule(f,S):N.insertRule&&N.insertRule(f+" { "+S+" }",N.cssRules.length)}};q.PhyloCanvas=function(){var f,S,N,O,w;return function(C,d,s,u,g){if(this.getNewickObject=function(){return N},this.clear=function(){},this.scale=function(T){O.svg.scale(T)},this.getSvg=function(){return O},this.getPhylogram=function(){return f},this.getSvgSource=function(){if(Rt.svg&&q.Common.isXMLSerializerAvailable()){var T=new XMLSerializer;return T.serializeToString(O.svg.canvas)}else return!1},typeof C=="object")if(C.xml){if(C.fileSource)var b=C.xml;else var b=xt.textToXML(C.xml);b=xt.xmlToJSON(b),w=new q.PhyloCanvas.PhyloxmlParse(b)}else if(C.phyloxml){if(C.fileSource)var b=C.phyloxml;else var b=xt.textToXML(C.phyloxml);b=xt.xmlToJSON(b),w=new q.PhyloCanvas.PhyloxmlParse(b)}else if(C.nexml){if(C.fileSource)var b=C.nexml;else var b=xt.textToXML(C.nexml);b=xt.xmlToJSON(b),w=new q.PhyloCanvas.NexmlParse(b,C)}else C.json?w=new q.PhyloCanvas.PhyloxmlParse(C.json):C.newick?w=new q.PhyloCanvas.NewickParse(C.newick):C.nexmlJson?w=new q.PhyloCanvas.NexmlJsonParse(C):alert("Please set the format of input data");else w=new q.PhyloCanvas.NewickParse(C);S=d,O=new q.PhyloCanvas.Render.SVG(S,s,u),g=="circular"?f=new q.PhyloCanvas.Render.CircularPhylogram(O,w):f=new q.PhyloCanvas.Render.Phylogram(O,w)}}();q.PhyloCanvas.prototype={};q.PhyloCanvas.Node=function(){return function(f,S){this.id=q.Common.nodeIdIncrement+=1,this.level=0,this.len=0,this.newickLen=0,this.name="",this.type="",this.chart={},this.img=[],f&&q.Common.apply(this,f),this._countAllChildren=!1,this._countImmediateChildren=!1,this._midBranchPosition=!1,this.children=new Array,S&&S.children.push(this)}}();q.PhyloCanvas.Node.prototype={getCountAllChildren:function(){if(this._countAllChildren!==!1)return this._countAllChildren;var f=0;for(var S in this.children)if(q.Common.isInteger(S)){var N=this.children[S];N.children&&N.children.length>0?f+=N.getCountAllChildren():f++}return this._countAllChildren=f,f},getCountImmediateChildren:function(){if(this._countImmediateChildren!==!1)return this._countImmediateChildren;var f=0;for(var S in this.children){var N=this.children[S];f+=N.length}return this._countImmediateChildren=f,f},getMidbranchPosition:function(f){if(this._midBranchPosition!==!1)return this._midBranchPosition;for(var S=[0,0],N=0;N<this.children.length;N++){var O=this.children[N];O.children&&O.children.length>0?N==0&&f?(S[0]=O.getMidbranchPosition(!0),S[1]+=O.getCountAllChildren()-1):N==0?(S[0]=O.getMidbranchPosition(),S[1]+=O.getCountAllChildren()):N==this.children.length-1?S[1]+=O.getMidbranchPosition():S[1]+=O.getCountAllChildren():N==0&&f?S[0]=0:N==0?(S[0]=1,S[1]+=1):(N==this.children.length-1,S[1]+=1)}return this._midBranchPosition=S[1]>=S[0]?(S[1]+S[0])/2:S[0],this._midBranchPosition}};q.PhyloCanvas.NewickParse=function(){var f,S,N,O=0,w=0,C,d,s=function(D){for(var B=new q.PhyloCanvas.Node;S!==")"&&S!==",";)S===":"?(T(),B.len=q.Common.roundFloat(g(),4),B.len==0&&(B.len=1e-4)):S==="'"||S==='"'?(B.type="label",B.name=b(S)):(B.type="label",B.name=g());return B.level=D.level+1,B},u=function(D){var B=new q.PhyloCanvas.Node;for(D&&(B.level=D.level+1);S!==")";)T(),S==="("?B.children.push(u(B)):B.children.push(s(B));return T(),S!==":"&&S!==")"&&S!==","&&S!==";"&&(B.type="label",B.name=g()),S===":"&&(T(),B.len=q.Common.roundFloat(g(),4),B.len==0&&(B.len=1e-4),B.type="stem"),B},g=function(){for(var D="";S!==":"&&S!==")"&&S!==","&&S!==";";)D+=S,T();return D},b=function(D){for(var B="";S!==D;)B+=S,T();return B},T=function(){return S=f.charAt(N),N+=1,S},F=function(D,B){if(D.children&&D.children.length)for(var L=0;L<D.children.length;L++){var W=D.children[L];W.len===0&&(W.len=1),W.newickLen=q.Common.roundFloat(W.len+D.newickLen,4),W.level>O&&(O=W.level),W.newickLen>w&&(w=W.newickLen),W.children.length>0&&F(W,D)}return D};return function(D){this.getRoot=function(){return C},this.getLevels=function(){return O},this.getNewickLen=function(){return w},this.getValidate=function(){return d},O=0,w=0,f=D,N=0,T(),C=u(),C=F(C)}}();q.PhyloCanvas.NewickParse.prototype={};q.PhyloCanvas.PhyloxmlParse=function(){var f=0,S=0,N,O,w=function(s,u){var g=new q.PhyloCanvas.Node;if(u&&(g.level=u.level+1),s.clade&&s.clade.length)for(var b=0;b<s.clade.length;b++){var T=s.clade[b];g.children.push(w(T,g))}if(s.branch_length&&(typeof s.branch_length=="object"&&(s.branch_length=s.branch_length[0].Text),g.len=q.Common.roundFloat(s.branch_length,4),g.len==0&&(g.len=1e-4)),s.color?(g.red=s.color[0].red[0].Text,g.green=s.color[0].green[0].Text,g.blue=s.color[0].blue[0].Text):(g.red=0,g.green=0,g.blue=0),s.property&&s.property[0].applies_to=="node"&&s.property[0].ref=="style:font_color"&&(g.font_color_hex=s.property[0].Text),s.name?(g.type="label",g.name=s.name[0].Text,s.name[0]&&s.name[0].style&&(g.style=s.name[0].style),s.name[0]&&s.name[0].bgStyle&&(g.bgStyle=s.name[0].bgStyle)):s.confidence&&(g.name=s.confidence[0].Text),s.sequence&&s.sequence[0]&&s.sequence[0].name&&s.sequence[0].name[0]&&s.sequence[0].name[0].Text&&(g.sequenceName=s.sequence[0].name[0].Text),s.taxonomy&&s.taxonomy[0]&&(s.taxonomy[0].scientific_name&&s.taxonomy[0].scientific_name[0]&&s.taxonomy[0].scientific_name[0].Text&&(g.taxonomyScientificName=s.taxonomy[0].scientific_name[0].Text),s.taxonomy[0].common_name&&s.taxonomy[0].common_name[0]&&s.taxonomy[0].common_name[0].Text&&(g.taxonomyCommonName=s.taxonomy[0].common_name[0].Text)),s.sequence&&s.sequence[0]&&s.sequence[0].accession&&s.sequence[0].accession[0]&&s.sequence[0].accession[0].Text&&(g.sequenceAccession=s.sequence[0].accession[0].Text),s.point&&(g.LatLong=[s.point[0].lat[0].Text,s.point[0].long[0].Text]),g.name||(g.sequenceName?g.name=g.sequenceName:g.taxonomyScientificName?g.name=g.taxonomyScientificName:g.taxonomyCommonName?g.name=g.taxonomyCommonName:g.sequenceAccession&&(g.name=g.sequenceAccession),g.name&&(g.type="label")),s.annotation&&(s.annotation[0]&&s.annotation[0].desc&&s.annotation[0].desc[0]&&s.annotation[0].desc[0].Text&&(g.description=s.annotation[0].desc[0].Text),s.annotation[0]&&s.annotation[0].uri&&s.annotation[0].uri[0]&&s.annotation[0].uri[0].Text&&(g.uri=s.annotation[0].uri[0].Text),s.annotation[0]&&s.annotation[0].img))for(var b in s.annotation[0].img)q.Common.isInteger(b)&&(g.img[b]=s.annotation[0].img[b].Text);if(s.chart&&s.chart[0])for(var b in s.chart[0])b!="Text"&&b!="_children"&&(g.chart[b]=s.chart[0][b][0].Text);return g&&g.level>1&&(g.len||(O="Error. Please include Branch Lengths - we only draw rooted phylogenetic trees.")),g},C=function(s,u){if(s.children&&s.children.length)for(var g=0;g<s.children.length;g++){var b=s.children[g];b.newickLen=Math.round((b.len+s.newickLen)*1e4)/1e4,b.level>f&&(f=b.level),b.newickLen>S&&(S=b.newickLen),b.children.length>0&&C(b,s)}return s},d=function(s,u){for(var g in s)g!="_children"&&g!="Text"&&(g=="rectangular"||g=="circular"?d(s[g][0],g):(q.PhyloCanvas.Render.Parameters[g]||(q.PhyloCanvas.Render.Parameters[g]={}),q.PhyloCanvas.Render.Parameters.set(g,s[g][0].Text,u)))};return function(s){if(this.getRoot=function(){return N},this.getLevels=function(){return f},this.getNewickLen=function(){return S},this.getValidate=function(){return O},s.phylogeny&&s.phylogeny[0]&&s.phylogeny[0].clade&&(N=w(s.phylogeny[0].clade[0])),s.phylogeny&&s.phylogeny[0]&&s.phylogeny[0].render&&s.phylogeny[0].render[0]){var u=s.phylogeny[0].render[0];if(u&&u.styles){var g=u.styles[0];for(var b in g)if(b!="_children"&&b!="Text")if(g[b][0].type&&g[b][0].type=="radialGradient"&&Rt.svg)g[b][0].name=b,q.PhyloCanvas.Render.Style[b]=g[b][0],q.PhyloCanvas.Render.Style.jsphylosvgGradientList||(q.PhyloCanvas.Render.Style.jsphylosvgGradientList=[]),q.PhyloCanvas.Render.Style.jsphylosvgGradientList.push(b);else{q.PhyloCanvas.Render.Style[b]||(q.PhyloCanvas.Render.Style[b]={});for(var T in g[b][0])T!="_attributes"&&T!="_children"&&T!="type"&&(q.PhyloCanvas.Render.Style[b][T.replace("_","-")]=g[b][0][T])}}if(u&&u.parameters&&d(u.parameters[0]),u&&u.charts){var F=u.charts[0];for(var b in F)if(b!="_children"&&b!="Text")for(var T in F[b])F[b][T].type=="binary"?(F[b][T].chart=b,q.PhyloCanvas.Render.Parameters.binaryCharts.push(F[b][T])):F[b][T].type=="integratedBinary"?(F[b][T].chart=b,q.PhyloCanvas.Render.Parameters.integratedBinaryCharts.push(F[b][T])):F[b][T].type=="bar"&&(F[b][T].chart=b,q.PhyloCanvas.Render.Parameters.barCharts.length==1&&q.PhyloCanvas.Render.Parameters.barCharts.shift(),q.PhyloCanvas.Render.Parameters.barCharts.push(F[b][T]))}}N=C(N)}}();q.PhyloCanvas.PhyloxmlParse.prototype={};q.PhyloCanvas.NexmlParse=function(){var f=0,S=0,N,O,w,C,d=function(g,b,T){var F=new q.PhyloCanvas.Node;T&&(F.level=T.level+1);for(var D=0;D<w.length;D++)if(w[D].source==g.id)for(var B=0;B<C.length;B++)w[D].target==C[B].id&&F.children.push(d(C[B],w[D].length,F));if(F&&F.level>0&&!F.len&&(F.len=1),b&&(F.len=q.Common.roundFloat(b,4),F.len==0&&(F.len=1e-4)),g.label&&(F.type="label",F.name=g.label,g.style&&(F.style=g.style)),g.color){let L=g.color.replace(/[a-z%\s\(\)]/g,"").split(",");F.red=L[0],F.green=L[1],F.blue=L[2]}else{let L=q.PhyloCanvas.Render.Style.line.stroke.replace(/[a-z%\s\(\)]/g,"").split(",");F.red=L[0],F.green=L[1],F.blue=L[2]}return F},s=function(g,b){if(g.children&&g.children.length)for(var T=0;T<g.children.length;T++){var F=g.children[T];F.newickLen=Math.round((F.len+g.newickLen)*1e4)/1e4,F.level>f&&(f=F.level),F.newickLen>S&&(S=F.newickLen),F.children.length>0&&s(F,g)}return g},u=function(g,b){for(var T in g)T!="_children"&&T!="Text"&&(T=="rectangular"||T=="circular"?u(g[T][0],T):(q.PhyloCanvas.Render.Parameters[T]||(q.PhyloCanvas.Render.Parameters[T]={}),q.PhyloCanvas.Render.Parameters.set(T,g[T][0].Text,b)))};return function(g,b){this.getRoot=function(){return N},this.getLevels=function(){return f},this.getNewickLen=function(){return S},this.getValidate=function(){return O},b.tree&&g.trees[0]&&g.trees[0].tree[b.tree-1]?(w=g.trees[0].tree[b.tree-1].edge,C=g.trees[0].tree[b.tree-1].node):(w=g.trees[0].tree[0].edge,C=g.trees[0].tree[0].node);for(var T=0;T<C.length;T++){var F=0;if(C[T].root&&C[T].root=="true"){N=C[T];break}for(var D=0;D<w.length;D++)w[D].target==C[T].id&&F++;if(F==0){N=C[T];break}}N?(N=d(N),N=s(N)):O="Error. Currently, only rooted NeXML trees are supported."}}();q.PhyloCanvas.NexmlParse.prototype={};q.PhyloCanvas.NexmlJsonParse=function(){var f=0,S=0,N,O,w=[],C=[],d=function(g,b,T){var F=new q.PhyloCanvas.Node;T&&(F.level=T.level+1);for(var D=0;D<w.length;D++)if(w[D].source==g.id)for(var B=0;B<C.length;B++)w[D].target==C[B].id&&F.children.push(d(C[B],w[D].length,F));return b&&(F.len=q.Common.roundFloat(b,4),F.len==0&&(F.len=1e-4)),g.label&&(F.type="label",F.name=g.label,g.accession&&(F.accession=g.accession),g.style&&(F.style=g.style),g.bgStyle&&(F.bgStyle=g.bgStyle)),g.chart&&(F.chart=g.chart),F&&F.level>1&&(F.len||(O="Error. Please include Branch Lengths - we only draw rooted phylogenetic trees.")),F},s=function(g,b){if(g.children&&g.children.length)for(var T=0;T<g.children.length;T++){var F=g.children[T];F.newickLen=Math.round((F.len+g.newickLen)*1e4)/1e4,F.level>f&&(f=F.level),F.newickLen>S&&(S=F.newickLen),F.children.length>0&&s(F,g)}return g},u=function(g,b){for(var T in g)T!="_children"&&T!="Text"&&(T=="rectangular"||T=="circular"?u(g[T],T):(q.PhyloCanvas.Render.Parameters[T]||(q.PhyloCanvas.Render.Parameters[T]={}),q.PhyloCanvas.Render.Parameters.set(T,g[T],b)))};return function(g){this.getRoot=function(){return N},this.getLevels=function(){return f},this.getNewickLen=function(){return S},this.getValidate=function(){return O};var b=g.nexmlJson.nexml,T=b.render;if(T&&T.styles){var F=T.styles;for(var D in F)if(D!="_children"&&D!="Text")if(F[D]["@attributes"].type&&F[D]["@attributes"].type=="radialGradient"&&Rt.svg)F[D].name=D,F[D].type=F[D]["@attributes"].type,q.PhyloCanvas.Render.Style[D]=F[D],q.PhyloCanvas.Render.Style.jsphylosvgGradientList||(q.PhyloCanvas.Render.Style.jsphylosvgGradientList=[]),q.PhyloCanvas.Render.Style.jsphylosvgGradientList.push(D);else{q.PhyloCanvas.Render.Style[D]||(q.PhyloCanvas.Render.Style[D]={});for(var B in F[D]["@attributes"])B!="_attributes"&&B!="_children"&&B!="type"&&(q.PhyloCanvas.Render.Style[D][B.replace("_","-")]=F[D]["@attributes"][B])}}if(T&&T.parameters&&u(T.parameters),T&&T.charts){var L=T.charts;for(var D in L)L[D]["@attributes"].chart=D,L[D]["@attributes"].type=="binary"?q.PhyloCanvas.Render.Parameters.binaryCharts.push(L[D]["@attributes"]):L[D]["@attributes"].type=="integratedBinary"?q.PhyloCanvas.Render.Parameters.integratedBinaryCharts.push(L[D]["@attributes"]):L[D]["@attributes"].type=="bar"&&q.PhyloCanvas.Render.Parameters.barCharts.push(L[D]["@attributes"])}if(g.tree&&b.trees[0]&&b.trees[0].tree[g.tree-1])w=b.trees[0].tree[g.tree-1].edge,C=b.trees[0].tree[g.tree-1].node;else{for(var D=0;D<b.trees.tree.edge.length;D++)w.push(b.trees.tree.edge[D]["@attributes"]);for(var D=0;D<b.trees.tree.node.length;D++){var W=b.trees.tree.node[D]["@attributes"];W.label&&(W.chart=b.trees.tree.node[D].chart),C.push(W)}}for(var D=0;D<C.length;D++)C[D].root&&C[D].root=="true"&&(N=C[D]);N?(N=d(N),N=s(N)):O="Error. Currently, only rooted NeXML trees are supported."}}();q.PhyloCanvas.NexmlParse.prototype={};q.PhyloCanvas.Render={};q.PhyloCanvas.Render.Style={line:{stroke:"rgb(0,0,0)","stroke-width":1},text:{"font-family":"Verdana","font-size":12,"text-anchor":"start"},path:{stroke:"rgb(0,0,0)","stroke-width":1},connectedDash:{stroke:"rgb(200,200,200)","stroke-dasharray":". "},textSecantBg:{fill:"#EEE",stroke:"#DDD"},highlightedEdgeCircle:{fill:"black",stroke:"black"},barChart:{fill:"#003300",stroke:"#DDD"},getStyle:function(f,S){return this[f]?this[f]:this[S]}};q.PhyloCanvas.Render.Parameters={jsOverride:0,Rectangular:{bufferX:200,paddingX:10,paddingY:20,bufferInnerLabels:10,bufferOuterLabels:5,minHeightBetweenLeaves:10,alignPadding:0,alignRight:!1,showScaleBar:!1},Circular:{bufferRadius:.33,bufferAngle:20,initStartAngle:160,innerCircleRadius:0,minHeightBetweenLeaves:5,bufferInnerLabels:2,bufferOuterLabels:5},binaryCharts:[],integratedBinaryCharts:[],barCharts:[],binaryChartBufferInner:5,binaryChartBufferSiblings:.01,binaryChartThickness:15,binaryChartDisjointed:!1,barChartBufferInner:3,barChartHeight:50,barChartWidth:.5,set:function(f,S,N){this.jsOverride||(N?N=="circular"?this.Circular[f]=parseFloat(S):N=="rectangular"&&(this.Rectangular[f]=parseFloat(S)):this[f]=parseFloat(S))}};q.PhyloCanvas.Render.Line=function(){return function(f,S,N,O,w,C,d,s){this.type="line",this.attr=q.PhyloCanvas.Render.Style.line,this.attr.stroke=["rgb(",w,",",C,",",d,")"].join(""),this.x1=f,this.x2=S,this.y1=N,this.y2=O,s&&(q.Common.apply(this,s),s.attr&&(this.attr=s.attr))}}();q.PhyloCanvas.Render.Text=function(){return function(f,S,N,O){this.type="text",this.attr=q.PhyloCanvas.Render.Style.text,this.x=f,this.y=S,this.text=N,O&&(q.Common.apply(this,O),O.attr&&(this.attr=O.attr))}}();q.PhyloCanvas.Render.Path=function(){var f=q.PhyloCanvas.Render.Style.path;return function(S,N){this.type="path",this.attr=q.PhyloCanvas.Render.Style.path,this.path=S,N&&(q.Common.apply(this,N),N.attr&&(this.attr=N.attr))}}();q.PhyloCanvas.Render.Circle=function(){return function(f,S,N,O){this.type="circle",this.x=f,this.y=S,this.radius=N,O&&(q.Common.apply(this,O),O.attr&&(this.attr=O.attr))}}();q.PhyloCanvas.Render.SVG=function(){var f,S;return function(N,O,w){f=N,this.canvasSize=[O,w],this.svg=Rt(N,this.canvasSize[0],this.canvasSize[1])}}();q.PhyloCanvas.Render.SVG.prototype={render:function(){for(var f=this.phylogramObject.getDrawInstructs(),S=0;S<f.length;S++)if(f[S].type=="line")var N=this.svg.path(["M",f[S].x1,f[S].y1,"L",f[S].x2,f[S].y2]).attr(q.PhyloCanvas.Render.Style.line);else if(f[S].type=="path")var O=this.svg.path(f[S].path).attr(f[S].attr);else if(f[S].type=="circle")var O=this.svg.circle(f[S].x,f[S].y,f[S].radius).attr({stroke:"black",fill:"black"});else{var w=this.svg.text(f[S].x,f[S].y,f[S].text).attr(q.PhyloCanvas.Render.Style.text);f[S].attr&&w.attr(f[S].attr),f[S].rotate&&w.rotate(f[S].rotate);var C=w.getBBox(),d=Math.sqrt(C.height*C.height+C.width*C.width)}},draw:function(f){var S,N;if(f.type=="line")S=this.svg.path(["M",f.x1,f.y1,"L",f.x2,f.y2]).attr(q.PhyloCanvas.Render.Style.line);else if(f.type=="path")S=this.svg.path(f.path).attr(f.attr);else if(f.type=="circle")S=this.svg.circle(f.x,f.y,f.radius).attr({stroke:"black",fill:"black"});else if(f.type=="text"){S=this.svg.text(f.x,f.y,f.text).attr(q.PhyloCanvas.Render.Style.text),f.attr&&S.attr(f.attr),f.rotate&&S.rotate(f.rotate);var O=S.getBBox();N=Math.sqrt(O.height*O.height+O.width*O.width)}return[S,N]}};q.PhyloCanvas.Render.Phylogram=function(){var f,S=q.PhyloCanvas.Render.Parameters.Rectangular,N,O,w,C,d,s,u=!0,g=0,b=0,T,F,D,B,L,W,Z,$,j,te,oe,me,G=[],he=function(X){return X+Math.round(X/4)},se=function(X,xe,Ce,ee){return["M",X,xe,"L",Ce,xe,"L",Ce,ee,"L",X,ee,"Z"]},z=function(X,xe){if(X.len&&u==!1&&X.children.length==0&&(g=q.Common.roundFloat(g+C,4)),X.children.length>0){var Ce=[],ee,o,l,p,r,n,i;if(X.len&&(ee=xe,o=xe=q.Common.roundFloat(xe+w*X.len,4),l=g+X.getMidbranchPosition(u)*C,p=l,r=X.red,n=X.green,i=X.blue,f.draw(new q.PhyloCanvas.Render.Line(ee,o,l,p,r,n,i))),X.name){var h={};if(h=q.PhyloCanvas.Render.Style.getStyle("bootstrap","text"),X.font_color_hex?h.fill=X.font_color_hex:h.fill="#000000",X.uri&&(h.href=X.uri),X.description&&(h.title=X.description),X.level==0)var v=g+X.getMidbranchPosition(u)*C;else var v=p;f.draw(new q.PhyloCanvas.Render.Text((o||xe)+5,v,X.name,{attr:h}))}if(X.children&&X.children.length)for(var x=0;x<X.children.length;x++){var A=X.children[x];Ce.push(z(A,xe))}for(var I=[],x=0;x<Ce.length;x++)Ce[x][0]&&I.push(Ce[x][0]),Ce[x][1]&&I.push(Ce[x][1]);for(var M=Math.min.apply(null,I),V=Math.max.apply(null,I),U=(M+V)/2,ne="",fe="",ve="",ye=0,x=0;x<X.children.length;++x){var _e=X.children[x];if(x==0)ne=_e.red,fe=_e.green,ve=_e.blue;else if(ne==_e.red&&fe==_e.green&&ve==_e.blue)ye=1;else{ye=0;break}}ye==0?q.PhyloCanvas.Render.Style.line.stroke="black":(r=X.children[0].red,n=X.children[0].green,i=X.children[0].blue,q.PhyloCanvas.Render.Style.line.stroke=["rgb(",r,",",n,",",i,")"].join("")),X.children.length==2?(r=X.children[0].red,n=X.children[0].green,i=X.children[0].blue,q.PhyloCanvas.Render.Style.line.stroke=["rgb(",r,",",n,",",i,")"].join(""),f.draw(new q.PhyloCanvas.Render.Path(["M",xe+1e-4,M,"L",xe,M,"L",xe,U],{attr:q.PhyloCanvas.Render.Style.line})),r=X.children[1].red,n=X.children[1].green,i=X.children[1].blue,q.PhyloCanvas.Render.Style.line.stroke=["rgb(",r,",",n,",",i,")"].join(""),f.draw(new q.PhyloCanvas.Render.Path(["M",xe,U,"L",xe,V,"L",xe+1e-4,V],{attr:q.PhyloCanvas.Render.Style.line}))):f.draw(new q.PhyloCanvas.Render.Path(["M",xe+1e-4,M,"L",xe,M,"L",xe,V,"L",xe+1e-4,V],{attr:q.PhyloCanvas.Render.Style.line}))}else{if(ee=xe,o=q.Common.roundFloat(xe+w*X.len,2),l=g,p=g,r=X.red,n=X.green,i=X.blue,X.y=g,G.push(X),f.draw(new q.PhyloCanvas.Render.Line(ee,o,l,p,r,n,i)),S.alignRight&&f.draw(new q.PhyloCanvas.Render.Path(["M",o,l,"L",S.alignPadding+d,p],{attr:q.PhyloCanvas.Render.Style.connectedDash})),X.name){var h={};X.style&&(h=q.PhyloCanvas.Render.Style.getStyle(X.style,"text")),X.font_color_hex?h.fill=X.font_color_hex:h.fill="#000000",h["text-anchor"]="start",X.uri&&(h.href=X.uri),X.description&&(h.title=X.description);var Se=f.draw(new q.PhyloCanvas.Render.Text(S.alignRight?d+S.bufferInnerLabels+S.alignPadding:o+S.bufferInnerLabels,p,X.name,{attr:h}));b=Math.max(Se[1],b),q.PhyloCanvas.Render.Parameters.mouseRollOver&&q.Common.addRaphEventHandler(Se[0],"mouseover",q.PhyloCanvas.Render.Parameters.mouseRollOver,{svg:f,node:X,x:o,y:p,textEl:Se[0]}),q.PhyloCanvas.Render.Parameters.mouseRollOut&&q.Common.addRaphEventHandler(Se[0],"mouseout",q.PhyloCanvas.Render.Parameters.mouseRollOut,{svg:f,node:X,x:o,y:p,textEl:Se[0]}),q.PhyloCanvas.Render.Parameters.onClickAction&&q.Common.addRaphEventHandler(Se[0],"click",q.PhyloCanvas.Render.Parameters.onClickAction,{svg:f,node:X,x:o,y:p,textEl:Se[0]})}u&&(u=!1)}return[l,p]},ge=function(){y=g+C,B=0,L=S.showScaleBar*w,f.draw(new q.PhyloCanvas.Render.Line(B,L,y,y)),f.draw(new q.PhyloCanvas.Render.Text((B+L)/2,y-8,S.showScaleBar))},de=function(X,xe,Ce){for(var ee=(Ce&&Ce.bufferInner?Ce.bufferInner:0)|q.PhyloCanvas.Render.Parameters.binaryChartBufferInner,o=(Ce&&Ce.bufferSiblings?Ce.bufferSiblings*C:0)|(q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings<1?C*q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings:q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings),l=(Ce&&Ce.thickness?Ce.thickness:0)|q.PhyloCanvas.Render.Parameters.binaryChartThickness,p,r=0;r<G.length;r++){var n=G[r];f.draw(new q.PhyloCanvas.Render.Path(se(X+ee,n.y-C/2+o/2,X+ee+l,n.y+C/2-o/2),{attr:q.PhyloCanvas.Render.Style.getStyle(n.chart[xe],"textSecantBg")}))}return X+ee+l},we=function(X,xe,Ce){for(var ee=[],o,l=Ce&&Ce.bufferInner?Ce.bufferInner:0|q.PhyloCanvas.Render.Parameters.barChartBufferInner,p=Ce&&Ce.height?Ce.height:0|q.PhyloCanvas.Render.Parameters.barChartHeight,r=Ce&&Ce.width?Ce.width<1?C*Ce.width:Ce.width:0|(q.PhyloCanvas.Render.Parameters.barChartWidth<1?C*q.PhyloCanvas.Render.Parameters.barChartWidth:q.PhyloCanvas.Render.Parameters.barChartWidth),n=0,i=0;i<G.length;i++)ee.push(G[i].chart[xe]);o=Math.max.apply(null,ee),n=q.Common.roundFloat(p/o,4);for(var i=0;i<G.length;i++){var h=G[i];f.draw(new q.PhyloCanvas.Render.Path(se(X+l,h.y-r/2,X+l+n*h.chart[xe],h.y+r/2),{attr:q.PhyloCanvas.Render.Style.getStyle(h.chart[xe],"barChart")}))}return X+l+p};return function(X,xe){this.getCanvasSize=function(){return[N,O]},this.getRoot=function(){return xe.getRoot()},xe.getValidate()&&f.draw(0,0,xe.getValidate()),u=!0,f=X;var Ce=xe.getRoot(),ee=xe.getNewickLen();if(N=f.canvasSize[0],O=f.canvasSize[1],te=S.bufferX,oe=S.paddingX,me=S.paddingY,s=S.minHeightBetweenLeaves,g=me,w=Math.round((N-te-oe*2)/ee),C=Math.round((O-me*2)/(S.showScaleBar?Ce.getCountAllChildren():Ce.getCountAllChildren()-1)),C<s&&(C=s),d=Math.round(N-te-oe*2),(q.PhyloCanvas.Render.Parameters.binaryCharts.length||q.PhyloCanvas.Render.Parameters.barCharts.length)&&(S.alignRight=!0),z(Ce,oe),S.showScaleBar&&ge(),T=d+b+S.bufferInnerLabels,q.PhyloCanvas.Render.Parameters.binaryCharts.length){var o=q.PhyloCanvas.Render.Parameters.binaryCharts;for(var l in o)T=de(T,o[l].chart,o[l])}if(q.PhyloCanvas.Render.Parameters.barCharts.length){var p=q.PhyloCanvas.Render.Parameters.barCharts;for(var l in p)D=we(T,p[l].chart,p[l])}G=[],typeof bgLabelsHold!="undefined"&&(bgLabelsHold=[])}}();q.PhyloCanvas.Render.Phylogram.prototype={};q.PhyloCanvas.Render.CircularPhylogram=function(){var f,S=q.PhyloCanvas.Render.Parameters.Circular,N,O,w,C,d,s,u,g=!0,b=0,T,F,D,B=[],L=[],W,Z,$,j=0,te,oe=Math.PI/180;function me(ee,o){return o+=te,[q.Common.roundFloat(T+ee*Math.sin(o*oe),4),q.Common.roundFloat(F+ee*Math.cos(o*oe),4)]}function G(ee){var o=z(90-ee-te);if(o>90&&o<270){o+=180;var l="end"}else var l="start";return[o,l]}function he(ee,o,l,p){var r=me(ee,o),n=me(ee,l),i=[],h,v=0;return Math.abs(z(l-o))>180?h=1:h=-1,p&&p.invertSecant&&(h*=-1,v=1),p&&p.noMove||i.push("M"),i.push(r[0],r[1],"A",ee,ee,0,h<1?0:1,v,n[0],n[1]),i}function se(ee,o,l,p){var r=[],n=me(o,ee),i=me(l,ee);return p&&p.noMove||r.push("M"),r.push(n[0],n[1],"L",i[0],i[1]),r}function z(ee){for(;ee>360||ee<0;)ee>360?ee-=360:ee<0&&(ee+=360);return ee}function ge(ee,o,l,p){if(!o&&ee.length>1)var p=ee[3],l=ee[2],o=ee[1],ee=ee[0];var r=we("M",he(ee,l,p,{noMove:1,invertSecant:0}),"L",he(o,p,l,{noMove:1,invertSecant:1}),"Z");return r}function de(ee,o){if(o=o,ee.len&&(g?b=Z||1:ee.children.length==0&&(b=q.Common.roundFloat(b+d,4))),ee.children.length>0){var l=[],p,r,n,i;if(p=o,r=o+=q.Common.roundFloat(C*ee.len,4),ee.name,ee.children&&ee.children.length)for(var h=0;h<ee.children.length;h++){var v=ee.children[h],x=de(v,o);x>0&&l.push(x)}var A=q.Common.roundFloat(Math.min.apply(null,l),4),I=q.Common.roundFloat(Math.max.apply(null,l),4);ee.level!=0&&f.draw(new q.PhyloCanvas.Render.Path(we("M",me(o+.01,A),"L",he(o,A,I,{noMove:!0}),"L",me(o+.01,I)))),ee.len&&(n=q.Common.roundFloat(A+(I-A)/2,4),f.draw(new q.PhyloCanvas.Render.Path(se(n,p,r))))}else if(ee.y=b,B.push(ee),p=o,r=o=q.Common.roundFloat(o+C*ee.len),n=b,f.draw(new q.PhyloCanvas.Render.Path(se(n,p,r))),f.draw(new q.PhyloCanvas.Render.Path(se(n,r,D),{attr:q.PhyloCanvas.Render.Style.connectedDash})),ee.name){var M=me(D+S.bufferInnerLabels,n),V=G(n),U=V[0],ne=V[1],fe={};ee.style&&q.Common.apply(fe,q.PhyloCanvas.Render.Style.getStyle(ee.style,"text")),ee.font_color_hex?fe.fill=ee.font_color_hex:fe.fill="#000000",fe["text-anchor"]=ne,ee.uri&&(fe.href=ee.uri),ee.description&&(fe.title=ee.description);var ve=f.draw(new q.PhyloCanvas.Render.Text(M[0],M[1],ee.name,{attr:fe,rotate:[U,M[0],M[1]]}));ee.bgStyle&&L.push([ee.bgStyle,n]);var M=me(r,n);q.PhyloCanvas.Render.Parameters.mouseRollOver&&q.Common.addRaphEventHandler(ve[0],"mouseover",q.PhyloCanvas.Render.Parameters.mouseRollOver,{svg:f,node:ee,x:M[0],y:M[1],textEl:ve[0]}),q.PhyloCanvas.Render.Parameters.mouseRollOut&&q.Common.addRaphEventHandler(ve[0],"mouseout",q.PhyloCanvas.Render.Parameters.mouseRollOut,{svg:f,node:ee,x:M[0],y:M[1],textEl:ve[0]}),q.PhyloCanvas.Render.Parameters.onClickAction&&q.Common.addRaphEventHandler(ve[0],"click",q.PhyloCanvas.Render.Parameters.onClickAction,{svg:f,node:ee,x:M[0],y:M[1],textEl:ve[0]}),j=Math.max(ve[1],j)}return g&&(g=!1),n}function we(ee){for(var o=ee,l=1;l<arguments.length;l++)o=o.concat(arguments[l]);return o}function X(){var ee=[];if(L.length>0){if(q.PhyloCanvas.Render.Style.jsphylosvgGradientList)for(var o=0;o<q.PhyloCanvas.Render.Style.jsphylosvgGradientList.length;o++){var l=q.PhyloCanvas.Render.Style.jsphylosvgGradientList[o],p=q.Common.createGradientEl(l,q.PhyloCanvas.Render.Style[l],[T,F,D+j+S.bufferOuterLabels]);f.svg.defs.appendChild(p)}for(var o=0;o<L.length;o++){if(o!=L.length-1&&L[o][0]==L[o+1][0]){L[o+1][2]=L[o][2]?L[o][2]:L[o][1];continue}var ee=ge(D,D+j+S.bufferOuterLabels,L[o][2]?L[o][2]-d/2:L[o][1]-d/2,L[o][1]+d/2),r=q.PhyloCanvas.Render.Style.getStyle(L[o][0],"textSecantBg"),n=f.draw(new q.PhyloCanvas.Render.Path(ee,{attr:r.type?{}:r}));r.type&&r.type=="radialGradient"&&n[0].node.setAttribute("fill","url(#"+r.name+")"),r.type&&r.type=="radialGradient"&&n[0].node.setAttribute("stroke","none"),n[0].toBack()}}var ee=ge(D,D+j+S.bufferOuterLabels,(Z||1)-d/2,360-d/2),n=f.draw(new q.PhyloCanvas.Render.Path(ee,{attr:q.PhyloCanvas.Render.Style.textSecantBg}));return n[0].toBack(),D+j+S.bufferOuterLabels}function xe(ee,o,l){for(var p=l&&l.bufferInner?parseFloat(l.bufferInner):q.PhyloCanvas.Render.Parameters.binaryChartBufferInner,r=(l&&l.bufferSiblings?l.bufferSiblings*d:0)|(q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings<1?d*q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings:q.PhyloCanvas.Render.Parameters.binaryChartBufferSiblings),n=l&&l.thickness?parseFloat(l.thickness):q.PhyloCanvas.Render.Parameters.binaryChartThickness,i=(l&&l.disjointed?l.disjointed:!1)|q.PhyloCanvas.Render.Parameters.binaryChartDisjointed,h=l&&l.isInternal?l.isInternal:!1,v=!0,x,A=0;A<B.length;A++){var I=B[A];if((!B[A+1]||I.chart[o]!==B[A+1].chart[o]||i)&&I.chart[o]!="none"){var M=q.PhyloCanvas.Render.Style.getStyle(I.chart[o],"textSecantBg");if(h)var V=[D-p-n,D-p,(x||I.y)-d/2+(v&&!i?0:r/2),I.y+d/2-(A==B.length-1&&!i?0:r/2)];else var V=[ee+p,ee+p+n,(x||I.y)-d/2+(v&&!i?0:r/2),I.y+d/2-(A==B.length-1&&!i?0:r/2)];if(M.label){var U=q.PhyloCanvas.Render.Style.getStyle(M.labelStyle,"text"),ne=me((V[0]+V[1])/2,(V[2]+V[3])/2),fe=G((V[2]+V[3])/2),ve=z(fe[0]+(U.rotate?parseFloat(U.rotate):0)),ye=z(90-(V[2]+V[3])/2-te);ye>90&&ye<270&&(ve+=180),U["text-anchor"]||(U["text-anchor"]="middle"),I.font_color_hex?M.fill=I.font_color_hex:M.fill="#000000";var _e=f.draw(new q.PhyloCanvas.Render.Text(ne[0],ne[1],M.label,{attr:U,rotate:ve}));_e[0].toBack()}if(M.borderStyle){var Se=q.PhyloCanvas.Render.Style.getStyle(M.borderStyle,"textSecantBg"),Ae=[D,Se.fullsize?V[1]:V[0],V[2],V[3]],ke=f.draw(new q.PhyloCanvas.Render.Path(ge(Ae),{attr:Se}));ke[0].toBack()}var Me=f.draw(new q.PhyloCanvas.Render.Path(ge(V),{attr:M}));Me[0].toBack(),x=0,v=!1}else x||(x=I.y),I.chart[o]=="none"&&(x=0);v=!1}return h?ee:ee+p+n}function Ce(ee,o,l){for(var p=[],r,n=l&&l.bufferInner?parseFloat(l.bufferInner):q.PhyloCanvas.Render.Parameters.barChartBufferInner,i=l&&l.height?parseFloat(l.height):q.PhyloCanvas.Render.Parameters.barChartHeight?q.PhyloCanvas.Render.Parameters.barChartHeight:0,h=l&&l.width?parseFloat(l.width)<1?d*parseFloat(l.width):parseFloat(l.width):0|(q.PhyloCanvas.Render.Parameters.barChartWidth<1?d*q.PhyloCanvas.Render.Parameters.barChartWidth:q.PhyloCanvas.Render.Parameters.barChartWidth),v=0,x=0;x<B.length;x++)p.push(B[x].chart[o]);r=Math.max.apply(null,p),v=q.Common.roundFloat(i/r,4);for(var x=0;x<B.length;x++){var A=B[x];A.chart[o]>0&&f.draw(new q.PhyloCanvas.Render.Path(ge(ee+n,ee+n+v*A.chart[o],A.y-h/2,A.y+h/2),{attr:q.PhyloCanvas.Render.Style.getStyle(A.chart[o],"barChart")}))}return ee+n+i}return function(ee,o,l){if(this.getCanvasSize=function(){return[N,O]},this.getRoot=function(){return o.getRoot()},o.getValidate()){ee.draw({type:"text",x:0,y:ee.canvasSize[1]/3,text:o.getValidate()});return}f=ee;var p=o.getRoot(),r=o.getNewickLen();if(N=f.canvasSize[0],O=f.canvasSize[1],T=N/2,F=O/2,w=Math.min.apply(null,[N,O]),l=S.bufferRadius>1?S.bufferRadius:q.Common.roundFloat(w*S.bufferRadius,4),Z=S.bufferAngle,u=S.innerCircleRadius,s=S.minHeightBetweenLeaves,te=S.initStartAngle,D=Math.round((w-l-u)/2),C=(D-u)/r,d=q.Common.roundFloat((360-Z)/p.getCountAllChildren(),4),de(p,u),$=D+j+S.bufferOuterLabels,q.PhyloCanvas.Render.Parameters.integratedBinaryCharts.length){var n=q.PhyloCanvas.Render.Parameters.integratedBinaryCharts;for(var i in n){var h=n[i].bufferInner?n[i].bufferInner:q.PhyloCanvas.Render.Parameters.binaryChartBufferInner,v=n[i].thickness?n[i].thickness:q.PhyloCanvas.Render.Parameters.binaryChartThickness;$=xe($-v-h,n[i].chart,n[i])}}if($=X(),q.PhyloCanvas.Render.Parameters.binaryCharts.length){var x=q.PhyloCanvas.Render.Parameters.binaryCharts;for(var i in x)$=xe($,x[i].chart,x[i])}if(q.PhyloCanvas.Render.Parameters.barCharts.length){var A=q.PhyloCanvas.Render.Parameters.barCharts;for(var i in A)$=Ce($,A[i].chart,A[i])}B=[],L=[]}}();q.PhyloCanvas.Render.CircularPhylogram.prototype={};var xt=function(){var f=function(O){if(!!O&&typeof O=="object"){let w=function(){};return w.prototype=O,new w}},S=function(O){var w="";!!O&&typeof O=="string"&&(w=O);var C=/^((-)?([0-9]*)((\.{0,1})([0-9]+))?$)/;return C.test(w)},N={xmlToJSON:function(O){try{let u=function(D){return D.replace(/^\s+|\s+$/gm,"")},g=function(D){var B=/-/g,L=String(D).replace(B,"_");return L},b=function(D,B){if(B.attributes.length>0){var L=B.attributes.length-1,W;D._attributes=[];do W=String(g(B.attributes[L].name)),D._attributes.push(W),D[W]=u(B.attributes[L].value);while(L--)}},T=function(D){D.getNodeByAttribute=function(B,L){if(this.length>0){var W,Z=this.length-1;try{do if(W=this[Z],W[B]==L)return W;while(Z--)}catch($){return!1}return!1}},D.contains=function(B,L){if(this.length>0){var W=this.length-1;try{do if(this[W][B]==L)return!0;while(W--)}catch(Z){return!1}return!1}},D.indexOf=function(B,L){var W=-1;if(this.length>0){var Z=this.length-1;try{do this[Z][B]==L&&(W=Z);while(Z--)}catch($){return-1}return W}},D.SortByAttribute=function(B,L){if(this.length){let W=function($,j){var te=$[j];return te=S(te)?parseFloat(te):te,te},Z=function($,j){var te=0,oe,me;return oe=W($,B),me=W(j,B),oe<me?te=-1:me<oe&&(te=1),L&&(te=L.toUpperCase()=="DESC"?0-te:te),te};this.sort(Z)}},D.SortByValue=function(B){if(this.length){let L=function(Z){var $=Z.Text;return $=S($)?parseFloat($):$,$},W=function(Z,$){var j=0,te,oe;return te=L(Z),oe=L($),te<oe?j=-1:oe<te&&(j=1),B&&(j=B.toUpperCase()=="DESC"?0-j:j),j};this.sort(W)}},D.SortByNode=function(B,L){if(this.length){let W=function($,j){var te=$[j][0].Text;return te=S(te)?parseFloat(te):te,te},Z=function($,j){var te=0,oe,me;return oe=W($,B),me=W(j,B),oe<me?te=-1:me<oe&&(te=1),L&&(te=L.toUpperCase()=="DESC"?0-te:te),te};this.sort(Z)}}},F=function(D,B){var L,W,Z,$="";if(!B)return null;if(B.attributes.length>0&&b(D,B),D.Text="",B.hasChildNodes()){var j=B.childNodes.length-1,te=0;do switch(W=B.childNodes[te],W.nodeType){case 1:D._children=[],L=W.localName?W.localName:W.baseName,L=g(L),$!=L&&D._children.push(L),D[L]||(D[L]=[]),Z={},D[L].push(Z),W.attributes.length>0&&b(Z,W),D[L].contains||T(D[L]),$=L,W.hasChildNodes()&&F(Z,W);break;case 3:D.Text+=u(W.nodeValue);break;case 4:D.Text+=W.text?u(W.text):u(W.nodeValue);break}while(te++<j)}};if(!O)return null;var w={};w.typeOf="JSXBObject";var C=O.nodeType==9?O.documentElement:O;if(w.RootName=C.nodeName||"",O.nodeType==3||O.nodeType==4)return O.nodeValue;var d=function(){var D={activate:function(){var B=[];return B&&(B.getNodesByAttribute=function(L,W){if(!!B&&B.length>0){var Z=[],$,j=B.length-1;try{do $=B[j],$[L]===W&&Z.push($);while(j--);return Z.reverse(),Z}catch(te){return null}return null}},B.getNodeByAttribute=function(L,W){if(!!B&&B.length>0){var Z,$=B.length-1;try{do if(Z=B[$],Z[L]===W)return Z;while($--)}catch(j){return null}return null}},B.getNodesByValue=function(L){if(!!B&&B.length>0){var W=[],Z,$=B.length-1;try{do Z=B[$],!!Z.Text&&Z.Text===L&&W.push(Z);while($--);return W}catch(j){return null}return null}},B.contains=function(L,W){if(!!B&&B.length>0){var Z=B.length-1;try{do if(B[Z][L]===W)return!0;while(Z--)}catch($){return!1}return!1}},B.indexOf=function(L,W){var Z=-1;if(!!B&&B.length>0){var $=B.length-1;try{do B[$][L]===W&&(Z=$);while($--)}catch(j){return-1}return Z}},B.SortByAttribute=function(L,W){if(!!B&&B.length>0){let Z=function(j,te){var oe=j[te];return oe=bam.validation.isNumeric(oe)?parseFloat(oe):oe,oe},$=function(j,te){var oe,me;oe=Z(j,L),me=Z(te,L);var G=oe<me?-1:me<oe?1:0;return W&&(G=W.toUpperCase()==="DESC"?0-G:G),G};B.sort($)}},B.SortByValue=function(L){if(!!B&&B.length>0){let W=function($){var j=$.Text;return j=bam.validation.isNumeric(j)?parseFloat(j):j,j},Z=function($,j){var te,oe;te=W($),oe=W(j);var me=te<oe?-1:oe<te?1:0;return L&&(me=L.toUpperCase()==="DESC"?0-me:me),me};B.sort(Z)}},B.SortByNode=function(L,W){if(!!B&&B.length>0){let Z=function(j,te){var oe=j[te][0].Text;return oe=bam.validation.isNumeric(oe)?parseFloat(oe):oe,oe},$=function(j,te){var oe,me;oe=Z(j,L),me=Z(te,L);var G=oe<me?-1:me<oe?1:0;return W&&(G=W.toUpperCase()==="DESC"?0-G:G),G};B.sort($)}}),B}};return D}(),s=function(){var D=f(d);return D.activate()};return F(w,C),O=null,C=null,w}catch(u){return null}},textToXML:function(O){var w=null;try{w=document.all?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser,w.async=!1}catch(d){throw new Error("XML Parser could not be instantiated")}var C;try{document.all?C=w.loadXML(O)?w:!1:C=w.parseFromString(O,"text/xml")}catch(d){throw new Error("Error parsing XML string")}return C}};return N}();"use strict";var De={};De.defaults={skip_sgml:!1,syncope:!1};var zt=De.schemes={balinese:{vowels:"ᬅ ᬆ ᬇ ᬈ ᬉ ᬊ ᬋ ᬌ ᬍ ᬎ  ᬏ ᬐ  ᬑ ᬒ".split(" "),vowel_marks:"ᬵ ᬶ ᬷ ᬸ ᬹ ᬺ ᬻ ᬼ ᬽ ᭂ ᬾ ᬿ ᭃ ᭀ ᭁ".split(" "),other_marks:["ᬂ","ᬄ","ᬁ",""],virama:["᭄"],consonants:"ᬓ ᬔ ᬕ ᬖ ᬗ ᬘ ᬙ ᬚ ᬛ ᬜ ᬝ ᬞ ᬟ ᬠ ᬡ ᬢ ᬣ ᬤ ᬥ ᬦ ᬧ ᬨ ᬩ ᬪ ᬫ ᬬ ᬭ ᬮ ᬯ ᬰ ᬱ ᬲ ᬳ".split(" "),symbols:"᭐ ᭑ ᭒ ᭓ ᭔ ᭕ ᭖ ᭗ ᭘ ᭙   ᭞ ᭟".split(" "),zwj:["‍"],skip:[""]},bengali:{vowels:"অ আ ই ঈ উ ঊ ঋ ৠ ঌ ৡ  এ ঐ  ও ঔ".split(" "),vowel_marks:"া ি ী ু ূ ৃ ৄ ৢ ৣ  ে ৈ  ো ৌ".split(" "),other_marks:"ং ঃ ঁ".split(" "),virama:["্"],consonants:"ক খ গ ঘ ঙ চ ছ জ ঝ ঞ ট ঠ ড ঢ ণ ত থ দ ধ ন প ফ ব ভ ম য র ল ব শ ষ স হ ळ ক্ষ জ্ঞ".split(" "),symbols:"০ ১ ২ ৩ ৪ ৫ ৬ ৭ ৮ ৯ ॐ ঽ । ॥".split(" "),other:"    ড ঢ  য ".split(" ")},newa:{vowels:["𑐀","𑐁","𑐂","𑐃","𑐄","𑐅","𑐆","𑐇","𑐈","𑐉","","𑐊","𑐋","","𑐌","𑐍"],vowel_marks:["𑐵","𑐶","𑐷","𑐸","𑐹","𑐺","𑐻","𑐼","𑐽","","𑐾","𑐿","","𑑀","𑑁"],other_marks:["𑑄","𑑅","𑑃","𑑠","𑑡",""],virama:["𑑂"],consonants:["𑐎","𑐏","𑐐","𑐑","𑐒","𑐔","𑐕","𑐖","𑐗","𑐘","𑐚","𑐛","𑐜","𑐝","𑐞","𑐟","𑐠","𑐡","𑐢","𑐣","𑐥","𑐦","𑐧","𑐨","𑐩","𑐫","𑐬","𑐮","𑐰","𑐱","𑐲","𑐳","𑐴"],symbols:["𑑐","𑑑","𑑒","𑑓","𑑔","𑑕","𑑖","𑑗","𑑘","𑑙","𑑉","𑑇","𑑋","𑑌"]},sarada:{vowels:["𑆃","𑆄","𑆅","𑆆","𑆇","𑆈","𑆉","𑆊","𑆋","𑆌","","𑆍","𑆎","","𑆏","𑆐"],vowel_marks:["𑆳","𑆴","𑆵","𑆶","𑆷","𑆸","𑆹","𑆺","𑆻","","𑆼","𑆽","","𑆾","𑆿"],other_marks:["𑆁","𑆂","𑆀","𑇂","𑇃"],virama:["𑇀"],consonants:["𑆑","𑆒","𑆓","𑆔","𑆕","𑆖","𑆗","𑆘","𑆙","𑆚","𑆛","𑆜","𑆝","𑆞","𑆟","𑆠","𑆡","𑆢","𑆣","𑆤","𑆥","𑆦","𑆧","𑆨","𑆩","𑆪","𑆫","𑆬","𑆮","𑆯","𑆰","𑆱","𑆲","𑆭"],symbols:["𑇐","𑇑","𑇒","𑇓","𑇔","𑇕","𑇖","𑇗","𑇘","𑇙","𑇄","𑇁","𑇅","𑇆"]},devanagari:{vowels:"अ आ इ ई उ ऊ ऋ ॠ ऌ ॡ ऎ ए ऐ ऒ ओ औ ए ऐ ओ".split(" "),vowel_marks:"ा ि ी ु ू ृ ॄ ॢ ॣ ॆ े ै ॊ ो ौ ॎ ॎे ॎा ॎो ॆ ॏ".split(" "),other_marks:"ं ः ँ ᳵ ᳶ ꣽ".split(" "),virama:["्"],consonants:"क ख ग घ ङ च छ ज झ ञ ट ठ ड ढ ण त थ द ध न प फ ब भ म य र ल व श ष स ह ळ".split(" "),symbols:"० १ २ ३ ४ ५ ६ ७ ८ ९ ॐ ऽ । ॥".split(" "),zwj:["‍"],skip:[""],accent:["॑","॒"],combo_accent:"ः॑ ः॒ ं॑ ं॒".split(" "),candra:["ॅ"],other:"क़ ख़ ग़ ज़ ड़ ढ़ फ़ य़ ऱ".split(" ")},gujarati:{vowels:"અ આ ઇ ઈ ઉ ઊ ઋ ૠ ઌ ૡ  એ ઐ  ઓ ઔ".split(" "),vowel_marks:"ા િ ી ુ ૂ ૃ ૄ ૢ ૣ  ે ૈ  ો ૌ".split(" "),other_marks:"ં ઃ ઁ".split(" "),virama:["્"],consonants:"ક ખ ગ ઘ ઙ ચ છ જ ઝ ઞ ટ ઠ ડ ઢ ણ ત થ દ ધ ન પ ફ બ ભ મ ય ર લ વ શ ષ સ હ ળ".split(" "),symbols:"૦ ૧ ૨ ૩ ૪ ૫ ૬ ૭ ૮ ૯ ૐ ઽ ૤ ૥".split(" "),candra:["ૅ"]},gurmukhi:{vowels:"ਅ ਆ ਇ ਈ ਉ ਊ      ਏ ਐ  ਓ ਔ".split(" "),vowel_marks:"ਾ ਿ ੀ ੁ ੂ      ੇ ੈ  ੋ ੌ".split(" "),other_marks:"ਂ ਃ ਁ".split(" "),virama:["੍"],consonants:"ਕ ਖ ਗ ਘ ਙ ਚ ਛ ਜ ਝ ਞ ਟ ਠ ਡ ਢ ਣ ਤ ਥ ਦ ਧ ਨ ਪ ਫ ਬ ਭ ਮ ਯ ਰ ਲ ਵ ਸ਼ ਸ਼ ਸ ਹ ਲ਼".split(" "),symbols:"੦ ੧ ੨ ੩ ੪ ੫ ੬ ੭ ੮ ੯ ॐ ऽ । ॥".split(" "),other:" ਖ ਗ ਜ ਡ  ਫ  ".split(" ")},kannada:{vowels:"ಅ ಆ ಇ ಈ ಉ ಊ ಋ ೠ ಌ ೡ ಎ ಏ ಐ ಒ ಓ ಔ".split(" "),vowel_marks:"ಾ ಿ ೀ ು ೂ ೃ ೄ ೢ ೣ ೆ ೇ ೈ ೊ ೋ ೌ".split(" "),other_marks:"ಂ ಃ ँ".split(" "),virama:["್"],consonants:"ಕ ಖ ಗ ಘ ಙ ಚ ಛ ಜ ಝ ಞ ಟ ಠ ಡ ಢ ಣ ತ ಥ ದ ಧ ನ ಪ ಫ ಬ ಭ ಮ ಯ ರ ಲ ವ ಶ ಷ ಸ ಹ ಳ".split(" "),symbols:"೦ ೧ ೨ ೩ ೪ ೫ ೬ ೭ ೮ ೯ ಓಂ ಽ । ॥".split(" "),other:"      ಫ  ಱ".split(" ")},malayalam:{vowels:"അ ആ ഇ ഈ ഉ ഊ ഋ ൠ ഌ ൡ എ ഏ ഐ ഒ ഓ ഔ".split(" "),vowel_marks:"ാ ി ീ ു ൂ ൃ ൄ ൢ ൣ െ േ ൈ ൊ ോ ൌ".split(" "),other_marks:"ം ഃ ँ".split(" "),virama:["്"],consonants:"ക ഖ ഗ ഘ ങ ച ഛ ജ ഝ ഞ ട ഠ ഡ ഢ ണ ത ഥ ദ ധ ന പ ഫ ബ ഭ മ യ ര ല വ ശ ഷ സ ഹ ള".split(" "),symbols:"൦ ൧ ൨ ൩ ൪ ൫ ൬ ൭ ൮ ൯ ഓം ഽ । ॥".split(" "),other:"        റ".split(" ")},oriya:{vowels:"ଅ ଆ ଇ ଈ ଉ ଊ ଋ ୠ ଌ ୡ  ଏ ଐ  ଓ ଔ".split(" "),vowel_marks:"ା ି ୀ ୁ ୂ ୃ ୄ ୢ ୣ  େ ୈ  ୋ ୌ".split(" "),other_marks:"ଂ ଃ ଁ".split(" "),virama:["୍"],consonants:"କ ଖ ଗ ଘ ଙ ଚ ଛ ଜ ଝ ଞ ଟ ଠ ଡ ଢ ଣ ତ ଥ ଦ ଧ ନ ପ ଫ ବ ଭ ମ ଯ ର ଲ ଵ ଶ ଷ ସ ହ ଳ".split(" "),symbols:"୦ ୧ ୨ ୩ ୪ ୫ ୬ ୭ ୮ ୯ ଓଂ ଽ । ॥".split(" "),other:"    ଡ ଢ  ଯ ".split(" ")},tamil:{vowels:"அ ஆ இ ஈ உ ஊ     எ ஏ ஐ ஒ ஓ ஔ".split(" "),vowel_marks:"ா ி ீ ு ூ     ெ ே ை ொ ோ ௌ".split(" "),other_marks:"ஂ ஃ ".split(" "),virama:["்"],consonants:"க க க க ங ச ச ஜ ச ஞ ட ட ட ட ண த த த த ந ப ப ப ப ம ய ர ல வ ஶ ஷ ஸ ஹ ள".split(" "),symbols:"௦ ௧ ௨ ௩ ௪ ௫ ௬ ௭ ௮ ௯ ௐ ऽ । ॥".split(" "),other:"        ற".split(" ")},telugu:{vowels:"అ ఆ ఇ ఈ ఉ ఊ ఋ ౠ ఌ ౡ ఎ ఏ ఐ ఒ ఓ ఔ".split(" "),vowel_marks:"ా ి ీ ు ూ ృ ౄ ౢ ౣ ె ే ై ొ ో ౌ".split(" "),other_marks:"ం ః ఁ ᳲ ᳲ".split(" "),virama:["్"],consonants:"క ఖ గ ఘ ఙ చ ఛ జ ఝ ఞ ట ఠ డ ఢ ణ త థ ద ధ న ప ఫ బ భ మ య ర ల వ శ ష స హ ళ".split(" "),symbols:"౦ ౧ ౨ ౩ ౪ ౫ ౬ ౭ ౮ ౯ ఓం ఽ । ॥".split(" "),other:"        ఱ".split(" ")},iast:{vowels:"a ā i ī u ū ṛ ṝ ḷ ḹ ẽ e ai õ o au ê aî ô aû".split(" "),other_marks:["ṃ","ḥ","m̐","ẖ","ḫ","oḿ"],virama:[""],consonants:"k kh g gh ṅ c ch j jh ñ ṭ ṭh ḍ ḍh ṇ t th d dh n p ph b bh m y r l v ś ṣ s h ḻ".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 oṁ ' | ||".split(" ")},iso:{vowels:"a ā i ī u ū r̥ r̥̄ l̥ l̥̄ ẽ e ai õ o au ê aî ô aû".split(" "),other_marks:["ṁ","ḥ","m̐","oḿ"],virama:[""],consonants:"k kh g gh ṅ c ch j jh ñ ṭ ṭh ḍ ḍh ṇ t th d dh n p ph b bh m y r l v ś ṣ s h ḷ kṣ jñ".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 om̐ ' | ||".split(" ")},itrans:{vowels:"a A i I u U RRi RRI LLi LLI  e ai  o au".split(" "),other_marks:["M","H",".N"],virama:[""],consonants:"k kh g gh ~N ch Ch j jh ~n T Th D Dh N t th d dh n p ph b bh m y r l v sh Sh s h L kSh j~n".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 OM .a | ||".split(" "),candra:[".c"],zwj:["{}"],skip:"_",accent:["\\'","\\_"],combo_accent:"\\'H \\_H \\'M \\_M".split(" "),other:"q K G z .D .Dh f Y R".split(" ")},hk:{vowels:"a A i I u U R RR lR lRR  e ai  o au".split(" "),other_marks:"M H ~".split(" "),virama:[""],consonants:"k kh g gh G c ch j jh J T Th D Dh N t th d dh n p ph b bh m y r l v z S s h L kS jJ".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 OM ' | ||".split(" ")},slp1:{vowels:"a A i I u U f F x X ẽ e E õ o O ê Ê ô Ô".split(" "),other_marks:"M H m̐ ẖ ḫ oḿ".split(" "),virama:[""],consonants:"k K g G N c C j J Y w W q Q R t T d D n p P b B m y r l v S z s h L".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 oṁ ' | ||".split(" ")},velthuis:{vowels:"a aa i ii u uu .r .rr .li .ll  e ai  o au".split(" "),other_marks:".m .h ".split(" "),virama:[""],consonants:'k kh g gh "n c ch j jh ~n .t .th .d .d .n t th d dh n p ph b bh m y r l v ~s .s s h L k.s j~n'.split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 o.m ' | ||".split(" ")},wx:{vowels:"a A i I u U q Q L   e E  o O".split(" "),other_marks:"M H z".split(" "),virama:[""],consonants:"k K g G f c C j J F t T d D N w W x X n p P b B m y r l v S R s h  kR jF".split(" "),symbols:"0 1 2 3 4 5 6 7 8 9 oM ' | ||".split(" ")}},x1={},Qt={iast:{ṛ:["r̥"],ṃ:["ṁ"]},itrans:{A:["aa"],I:["ii","ee"],U:["uu","oo"],RRi:["R^i"],RRI:["R^I"],LLi:["L^i"],LLI:["L^I"],M:[".m",".n"],"~N":["N^"],ch:["c"],Ch:["C","chh"],"~n":["JN"],v:["w"],Sh:["S","shh"],kSh:["kS","x"],"j~n":["GY","dny"],OM:["AUM"],"\\_":["\\`"],"\\_H":["\\`H"],"\\'M":["\\'.m","\\'.n"],"\\_M":"\\_.m \\_.n \\`M \\`.m \\`.n".split(" "),".a":["~"],"|":["."],"||":[".."],z:["J"]}},Lt={};De.isRomanScheme=function(f){return x1.hasOwnProperty(f)};De.addBrahmicScheme=function(f,S){De.schemes[f]=S};De.addRomanScheme=function(f,S){"vowel_marks"in S||(S.vowel_marks=S.vowels.slice(1)),De.schemes[f]=S,x1[f]=!0};var b1=function(f){var S={};for(var N in f)!f.hasOwnProperty(N)||(S[N]=f[N].slice(0));return S};(function(){var f=zt.kolkata=b1(zt.iast),S="iast itrans hk kolkata slp1 velthuis wx".split(" ");f.vowels="a ā i ī u ū ṛ ṝ ḷ ḹ e ē ai o ō au".split(" ");for(var N=0,O;O=S[N];N++)De.addRomanScheme(O,zt[O]);var w=b1(zt.itrans);w.vowels="a A i I u U Ri RRI LLi LLi e E ai o O au".split(" "),w.vowel_marks=w.vowels.slice(1),Qt.itrans_dravidian=Qt.itrans,De.addRomanScheme("itrans_dravidian",w)})();var Q1=function(f,S){var N=Qt[f]||{},O={},w=De.schemes[f],C={},d=[],s={},u=De.schemes[S];for(var g in w)if(!!w.hasOwnProperty(g)){var b=w[g],T=u[g];if(T!==void 0)for(var F=0;F<b.length;F++){var D=b[F],B=T[F],L=N[D]||[],W=L.length,Z=0;for(d.push(D.length),Z=0;Z<W;Z++)d.push(L[Z].length);if(g==="vowel_marks"||g==="virama")for(s[D]=B,Z=0;Z<W;Z++)s[L[Z]]=B;else{for(C[D]=B,Z=0;Z<W;Z++)C[L[Z]]=B;if(g==="consonants"||g==="other")for(O[D]=B,Z=0;Z<W;Z++)O[L[Z]]=B}}}return{consonants:O,fromRoman:De.isRomanScheme(f),letters:C,marks:s,maxTokenLength:Math.max.apply(Math,d),toRoman:De.isRomanScheme(S),virama:u.virama}},K1=function(f,S,N){for(var O=[],w=S.consonants,C=f.length,d=!1,s=S.letters,u=S.marks,g=S.maxTokenLength,b=N.skip_sgml,T=N.syncope,F,D,B="",L=S.toRoman,W=S.virama,Z=!1,$=!1,j=!1,te=0,oe;(oe=f.charAt(te))||B;te++){var me=g-B.length;if(!(me>0&&te<C&&(B+=oe,me>1)))for(var G=0;G<g;G++){var he=B.substr(0,g-G);if(Z===!0)Z=he!==">";else if(he==="<")Z=b;else if(he==="##"){j=!j,B=B.substr(2);break}if($=Z||j,(F=s[he])!==void 0&&!$){L?O.push(F):(d?(D=u[he])?O.push(D):he!=="a"&&(O.push(W),O.push(F)):O.push(F),d=he in w),B=B.substr(g-G);break}else G===g-1&&(d&&(d=!1,T||O.push(W)),O.push(he),B=B.substr(1))}}return d&&!T&&O.push(W),O.join("")},Z1=function(f,S){for(var N=[],O=S.consonants,w=!1,C=!1,d=S.letters,s=S.marks,u,g=S.toRoman,b=!1,T=0,F;F=f.charAt(T);T++){if(F==="#"){w?(b=!b,w=!1):w=!0,C&&(N.push("a"),C=!1);continue}else if(b){N.push(F);continue}(u=s[F])!==void 0?(N.push(u),C=!1):(w&&(N.push("#"),w=!1),C&&(N.push("a"),C=!1),(u=d[F])?(N.push(u),C=g&&F in O):N.push(F))}return C&&N.push("a"),N.join("")};De.t=function(f,S,N,O){O=O||{};var w=Lt.options||{},C=De.defaults,d=Lt.from===S&&Lt.to===N,s;for(var u in C)if(C.hasOwnProperty(u)){var g=C[u];u in O&&(g=O[u]),O[u]=g,g!==w[u]&&(d=!1)}return d?s=Lt.map:(s=Q1(S,N,O),Lt={from:S,map:s,options:O,to:N}),S==="itrans"&&(f=f.replace(/\{\\m\+\}/g,".h.N"),f=f.replace(/\.h/g,""),f=f.replace(/\\([^'`_]|$)/g,"##$1##")),s.fromRoman?K1(f,s,O):Z1(f,s,O)};var w1=function(){let f=[{name:"valapalagilaka",search:"ṙ",replace:()=>"r"},{name:"short e",search:"ẽ",replace:()=>"e"},{name:"short o",search:"õ",replace:()=>"o"},{name:"pṛṣṭhamātrā e",search:"ê",replace:()=>"e"},{name:"pṛṣṭhamātrā o",search:"ô",replace:()=>"o"},{name:"pṛṣṭhamātrā ai",search:"Ê",replace:()=>"E"},{name:"pṛṣṭhamātrā au",search:"Ô",replace:()=>"O"},{name:"candrabindu",search:"m̐",replace:()=>"M"},{name:"oṃkāras",search:"oṁ",replace:()=>"oM"},{name:"additional punctuation",search:"[()\\[\\],;?!|_\\-=+\\d.'\\/]+",replace:()=>""},{name:"geminated aspirated consonants",search:"(?:kK|gG|cC|jJ|wW|qQ|tT|dD|pP|bB)",replace:d=>d[0].slice(-1)},{name:"geminated m after h",search:"(?:Mhm|hmm)",replace:()=>"hm"},{name:"geminated t",search:"([rfi]|p[aA])tt|tt(?=[rvy]\\S)",replace:d=>`${d[1]}t`},{name:"geminated consonants after r",search:"([rf]\\s*)([kgcjwqdpbRnmyvl])\\2{1,2}",replace:d=>`${d[1]}${d[2]}`},{name:"final nasal variants",search:"(?:M[lSs]|nn)(?!\\S)",replace:()=>"n"},{name:"internal nasal variants",search:"[mnNYR](?=[pPbBmdDtTnwWqQcCjJkKgG])",replace:()=>"M"},{name:"final anusvāra variants",search:"M?[mN](?!\\S)|n(?=\\s+[tdn])|Y(?=\\s+[jc])",replace:()=>"M"},{name:"visarga aḥ before voiced consonants",search:"(?<!\\sB)(?:a[Hr]|[o])(?=\\s+['gGjJqQdDnbBmrylvh])",replace:()=>"aH"},{name:"visarga aḥ before vowels",search:"aH(?=\\s+[AiIeuUof])",replace:()=>"a"},{name:"visarga aḥ before unvoiced consonants and space + anusvāra",search:"o\\s+(?=[kKcCwWtTpPszSM])",replace:()=>"aH a"},{name:"visarga āḥ variants",search:"AH(?=\\s+[aAiIeEuUogGjJqQdDbBnmyrlvh])",replace:()=>"A"},{name:"other visarga variants",search:"H?[rszS](?!\\S)",replace:()=>"H"},{name:"avagrahas",search:"'",replace:()=>"a"},{name:"internal visarga variants",search:"z(?=[kK])|s(?=s)",replace:()=>"H"},{name:"final au/āv",search:"Av(?!\\S)",replace:()=>"O"},{name:"final su",search:"(?<=[sz])v(?=\\s+[aAiIuUoOeE])",replace:()=>"u"},{name:"final i",search:"i(?=\\s+[aAuUoOeE])",replace:()=>"y"},{name:"kcch/kś",search:"k(\\s*)(?:S|c?C)",replace:d=>`k${d[1]}S`},{name:"cś/tś",search:"[tc](\\s*)S",replace:d=>`c${d[1]}C`},{name:"cch/ch",search:"([aAiIuUeEoO])C",replace:d=>`${d[1]}cC`},{name:"final t + hi",search:"d(\\s+)D(?=[iy](?:\\s|$))",replace:d=>`t${d[1]}h`},{name:"final t + voiced syllable",search:"d(?=(?:\\s+[aAiIeEuUoOgGdDbByrv]|\\s*$))",replace:()=>"t"},{name:"final t + n/m",search:"([ai])n(?=\\s+[nm])",replace:d=>`${d[1]}t`},{name:"final t + c/j",search:"j(?=\\s+j)|c(?=\\s+c)",replace:()=>"t"},{name:"i/y + vowel",search:"y(?=\\s+[aAuUeEoO])",replace:()=>"i"},{name:"bhd for bdh",search:"Bd",replace:()=>"bD"}],S=[{name:"valapalagilaka",search:"ṙ",replace:()=>"r"},{name:"short e",search:"ẽ",replace:()=>"e"},{name:"short o",search:"õ",replace:()=>"o"},{name:"pṛṣṭhamātrā e",search:"ê",replace:()=>"e"},{name:"pṛṣṭhamātrā o",search:"ô",replace:()=>"o"},{name:"pṛṣṭhamātrā ai",search:"aî",replace:()=>"ai"},{name:"pṛṣṭhamātrā au",search:"aû",replace:()=>"au"},{name:"candrabindu",search:"m̐",replace:()=>"ṃ"},{name:"oṃkāras",search:"oṁ",replace:()=>"oṃ"},{name:"additional punctuation",search:"[()\\[\\],;?!|_\\-=+\\d.'\\/]+",replace:()=>""},{name:"geminated aspirated consonants",search:"([kgcjṭḍtdpb]){2}h",replace:d=>`${d[1]}h`},{name:"geminated m after h",search:"(?:ṃhm|hmm)",replace:()=>"hm"},{name:"geminated t",search:"([rṛi]|p[aā])tt|tt(?=[rvy]\\S)",replace:d=>`${d[1]}t`},{name:"geminated consonants after r",search:"([rṛ]\\s*)([kgcjṭḍṇtdnpbmyvl])\\2{1,2}",replace:d=>`${d[1]}${d[2]}`},{name:"final nasal variants",search:"(?:ṃ[lṣs]|nn)(?!\\S)",replace:()=>"n"},{name:"internal nasal variants",search:"[mnṅñṇ](?=[pbmdtnṭḍcjkg])",replace:()=>"ṃ"},{name:"final anusvāra variants",search:"ṃ?[mṅ](?!\\S)|n(?=\\s+[tdn])|ñ(?=\\s+[jc])",replace:()=>"ṃ"},{name:"visarga aḥ before voiced consonants",search:"(?:a[ḥr]|[o])(?=\\s+['gjḍdnbmyrlvh])",replace:()=>"aḥ"},{name:"visarga aḥ before vowels",search:"aḥ(?=\\s+[āiīeuūoṛ])",replace:()=>"a"},{name:"visarga aḥ before unvoiced consonants and space + anusvāra",search:"o\\s+(?=[kcṭtpśṣsṃ])",replace:()=>"aḥ a"},{name:"visarga āḥ variants",search:"āḥ(?=\\s+[aāiīeuūogjḍdnbmyrlvh])",replace:()=>"ā"},{name:"other visarga variants",search:"ḥ?[rśṣs](?!\\S)",replace:()=>"ḥ"},{name:"avagrahas",search:"'",replace:()=>"a"},{name:"internal visarga variants",search:"ṣ(?=k)|s(?=s)",replace:()=>"s"},{name:"final au/āv",search:"āv(?!\\S)",replace:()=>"au"},{name:"final su",search:"(?<=[sṣ])v(?=\\s+[aāiīuūoe])",replace:()=>"u"},{name:"final i",search:"i(?=\\s+[aāuūeo])",replace:()=>"y"},{name:"kcch/kś",search:"k(\\s*)(?:ś|c?ch)",replace:d=>`k${d[1]}ś`},{name:"cś/tś",search:"[tc](\\s*)ś",replace:d=>`c${d[1]}ch`},{name:"cch/ch",search:"([aāiīuūeo])ch",replace:d=>`${d[1]}cch`},{name:"final t + hi",search:"d(\\s+)dh(?=[iy](?:\\s|$))",replace:d=>`t${d[1]}h`},{name:"final t + voiced syllable",search:"d(?=(?:\\s+[aāiīeuūogdbyrv]|\\s*$))",replace:()=>"t"},{name:"final t + n/m",search:"([ai])n(?=\\s+[nm])",replace:d=>`${d[1]}t`},{name:"final t + c/j",search:"j(?=\\s+j)|c(?=\\s+c)",replace:()=>"t"},{name:"i/y + vowel",search:"y(?=\\s+[aāuūeo])",replace:()=>"i"},{name:"bhd for bdh",search:"bhd",replace:()=>"bdh"}],N={none:{name:"remove spaces",search:"\\s",replace:()=>""},collapse:{name:"collapse spaces",search:"\\s+",replace:()=>" "}},O=function(d,s){let u=s.join(""),g=[],b=[...u.matchAll(d.search)],T=0,F=null;for(let D of s){let B=T+D.length,L=D,W=0;if(F)if(F.length<=D.length)L=w(D,0,F.length,F.text),W=F.text.length-F.length,F=null;else{L=F.text.slice(0,D.length);let $=F.text.slice(D.length);F={length:F.length-D.length,text:$};continue}for(;b.length>0&&b[0].index<B;){let Z=b.shift(),$=Z.index-T+W,j=d.replace(Z);if(Z.index+Z[0].length<B)L=w(L,$,Z[0].length,j),W=W+j.length-Z[0].length;else{let te=D.length-$+W,oe=j.slice(0,te);L=L.slice(0,$)+oe;let me=j.slice(te);F={length:Z[0].length-te,text:me}}}g.push(L),T=B}return g},w=function(d,s,u,g){return d.slice(0,s)+g+d.slice(s+u)};return function(d){let s=d.map(u=>De.t(u,"iast","slp1"));for(let u of[...f,N.none])s=O(u,s);return s.map(u=>De.t(u,"slp1","iast"))}}();var Bt={smush:function(f,S){return f.toLowerCase().replace(/([ḍdrmvynhs]) ([aāiīuūṛeoéó])/g,"$1$2"+S).replace(/([kgcjṭḍtdpb]) h/g,"$1‌"+S+"h").replace(/([kgcjñḍtdnpbmrlyvśṣsṙ]) ([kgcjṭḍtdnpbmyrlvśṣshḻ])/g,"$1"+S+"$2").replace(/([oóeéā]) ([ṃ'])/g,"$1"+S+"$2").replace(/^ṃ/,"'‍ṃ").replace(/^ḥ/,"'‍ḥ").replace(/^_y/,"'‍y").replace(/ü/g,"‌u").replace(/ï/g,"‌i").replace(/_{1,2}(?=\s*)/g,function(N){if(N==="__")return"‍";if(N==="_")return"‌"})},iast:function(f,S){let N=S||"devanagari";return De.t(f,N,"iast",{skip_sgml:!0})},devanagari:function(f,S){let N=S||"",O={skip_sgml:!0},w=f.replace(/ṙ/g,"r").replace(/^_ā/,"ऽ‍ा"),C=Bt.smush(w,N);return De.t(C,"iast","devanagari",O).replace(/¯/g,"ꣻ")},malayalam:function(f,S){let N=S||"",O={skip_sgml:!0},w={ക:"ൿ",ത:"ൽ",ന:"ൻ",മ:"ൔ",ര:"ർ"},C=f.replace(/^_ā/,"ഽ‍ാ"),d=Bt.smush(C,N).replace(/e/g,"ẽ").replace(/o/g,"õ").replace(/ṙ/g,"r").replace(/ṁ/g,"ṃ").replace(/ḿ/g,"ṃ").replace(/í/g,"i").replace(/ú/g,"u").replace(/é/g,"e");return De.t(d,"iast","malayalam",O).replace(/(^|[^്])ര്(?=\S)/g,"$1ൎ").replace(/([കതനമര])്(?![^\s\u200C,—’―])/g,function(u,g){return w[g]})},grantha:function(f,S){let N=S||"",O={skip_sgml:!0},w=new Map([["സ",""],["ര","ർ"],["യ",""],["ച",""],["ദ",""],["ശ",""]]),C=new RegExp("(["+[...w.keys()].join("")+"])്(?![^‌ ,—’―])","g"),d=f.replace(/^_ā/,"ഽ‍ാ"),s=Bt.smush(d,N).replace(/e/g,"ẽ").replace(/o/g,"õ").replace(/ṙ/g,"r").replace(/ṁ/g,"ṃ").replace(/ḿ/g,"ṃ").replace(/í/g,"i").replace(/ú/g,"u").replace(/é/g,"e");return De.t(s,"iast","malayalam",O).replace(/(^|[^്])ര്(?=\S)/g,"$1ൎ").replace(C,(g,b)=>w.get(b)).replace(/ക്ഷി/g,"க்ஷி")},telugu:function(f,S){var N=S||"";let O={skip_sgml:!0},w=f.replace(/^_ā/,"ఽ‍ా"),C=Bt.smush(w,N).replace(/e/g,"ẽ").replace(/o/g,"õ").replace(/ṙ/g,"r‍").replace(/ṁ/g,"ṃ").replace(/ḿ/g,"ṃ").replace(/í/g,"i").replace(/ú/g,"u").replace(/é/g,"e");return De.t(C,"iast","telugu",O)}},Ot=function(f,S,N=!1,O="sa"){let w=Bt[S],C=f.cloneNode(!0),d=function(s,u){let g=s.childNodes;for(let b of g)if(b.nodeType!==8){if(b.nodeType===3){if(u!=="sa")continue;b.data=w(b.data,N)}else if(b.hasChildNodes()){let T=b.getAttribute("lang")||u;T==="sa"&&b.classList.contains("subst")&&en(b,S),d(b,T)}}};return d(C,O),C},C1=function(f,S=!1){if(f.nodeType===3)return f;let N=document.createTreeWalker(f,NodeFilter.SHOW_TEXT,null,!1);if(S){let O;for(;N.nextNode();)O=N.currentNode;return O}else return N.nextNode},en=function(f,S){if(f.firstChild.nodeType!==3&&f.lastChild.nodeType!==3)return;let N=f.childNodes,O=/^[aāiīuūeoṛṝḷṃḥ]/,w=/[kgṅcjñṭḍṇtdnpbmyrlvṣśsh]$/,C=["ā","i","ī","e","o","_","ai","au"],d=["h","k","ś","y","g","gh","c","ch","jh","ṭh","ḍ","ḍh","t","th","d","dh","n","p","ph","bh","m","r","ḻ","v","ṣ","s"];var s=!1,u=[],g=[];let b=N[0].nodeType===3;for(let T of N){if(T.nodeType>3)continue;let F=T.textContent.trim();if(F!==""){if(F==="a"){T.textContent="";continue}if(F.match(w)){let D=C1(T,!0);D.textContent=D.textContent.replace(/\s+$/,"")+"a",S==="telugu"&&d.indexOf(F)>=0&&u.push(T)}if(T===f.lastChild&&T.nodeType===3){let D=document.createElement("span");D.appendChild(T.cloneNode(!1)),f.replaceChild(D,T),T=D,T.classList.add("aalt")}else b&&F.match(O)&&T.classList.add("aalt");switch(S){case"devanagari":(F==="i"||F==="é")&&g.unshift(T);break;case"grantha":case"malayalam":if(F==="e"||F==="ai")g.unshift(T);else if(F==="o"){let D=T.cloneNode(!0);k1("o","e",D),g.unshift(D),k1("o","ā",T)}break;case"telugu":!s&&C.indexOf(F)>=0&&(s=!0);break}}}for(let T of g)f.insertBefore(T,f.firstChild);if(s)for(let T of u){let F=C1(T,!0);F.textContent=F.textContent+"‍్"}},k1=function(f,S,N){let O=document.createTreeWalker(N,NodeFilter.SHOW_TEXT,null,!1);for(;O.nextNode();)O.currentNode.textContent.match(f)&&(O.currentNode.textContent=S)};"use strict";var tn=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,10,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,116,101,105,45,99,46,111,114,103,47,110,115,47,49,46,48,34,10,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,116,101,120,116,34,32,111,109,105,116,45,120,109,108,45,100,101,99,108,97,114,97,116,105,111,110,61,34,121,101,115,34,47,62,10,32,32,32,32,60,120,115,108,58,115,116,114,105,112,45,115,112,97,99,101,32,101,108,101,109,101,110,116,115,61,34,42,34,47,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,47,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,112,97,114,97,91,99,111,110,116,101,110,116,45,115,116,121,108,101,93,91,110,111,116,40,116,101,120,116,40,41,41,93,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,110,111,114,109,97,108,105,122,101,45,115,112,97,99,101,40,46,41,34,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,105,67,111,114,112,117,115,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,84,69,73,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,120,115,108,58,116,101,120,116,62,44,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,120,97,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,120,116,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,119,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,34,60,47,120,115,108,58,116,101,120,116,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,60,120,115,108,58,116,101,120,116,62,34,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,60,33,45,45,120,115,108,58,105,102,32,116,101,115,116,61,34,110,111,116,40,112,111,115,105,116,105,111,110,40,41,32,61,32,108,97,115,116,40,41,41,34,45,45,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,44,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,60,33,45,45,47,120,115,108,58,105,102,45,45,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,33,45,45,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,110,111,100,101,40,41,124,64,42,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,45,45,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),_1=tn;"use strict";var nn=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,10,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,116,101,105,45,99,46,111,114,103,47,110,115,47,49,46,48,34,10,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,32,32,32,32,60,120,115,108,58,111,117,116,112,117,116,32,105,110,100,101,110,116,61,34,121,101,115,34,47,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,112,97,114,97,91,99,111,110,116,101,110,116,45,115,116,121,108,101,93,91,110,111,116,40,116,101,120,116,40,41,41,93,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,110,111,114,109,97,108,105,122,101,45,115,112,97,99,101,40,46,41,34,47,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,105,72,101,97,100,101,114,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,120,101,110,111,68,97,116,97,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,84,69,73,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,120,116,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,48,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,119,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,60,33,45,45,120,115,108,58,105,102,32,116,101,115,116,61,34,110,111,116,40,112,111,115,105,116,105,111,110,40,41,32,61,32,108,97,115,116,40,41,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,51,50,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,45,45,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,110,111,100,101,40,41,124,64,42,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,99,111,112,121,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,115,101,108,101,99,116,61,34,110,111,100,101,40,41,124,64,42,34,47,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,111,112,121,62,10,32,32,32,32,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),S1=nn;"use strict";var rn=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,116,101,105,45,99,46,111,114,103,47,110,115,47,49,46,48,34,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,104,116,109,108,34,47,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,105,67,111,114,112,117,115,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,116,97,98,108,101,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,84,69,73,34,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,116,101,120,116,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,116,114,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,46,46,47,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,46,46,47,64,99,111,114,114,101,115,112,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,114,101,101,110,97,109,101,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,46,46,47,64,99,111,114,114,101,115,112,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,111,100,101,110,97,109,101,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,46,46,47,64,115,101,108,101,99,116,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,116,104,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,115,99,111,112,101,34,62,114,111,119,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,114,97,103,103,97,98,108,101,34,62,116,114,117,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,46,46,47,64,110,34,47,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,119,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,116,100,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,119,104,101,110,32,116,101,115,116,61,34,112,97,114,101,110,116,58,58,120,58,99,108,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,119,104,101,110,32,116,101,115,116,61,34,112,111,115,105,116,105,111,110,40,41,32,61,32,39,49,39,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,32,103,114,111,117,112,45,115,116,97,114,116,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,119,104,101,110,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,119,104,101,110,32,116,101,115,116,61,34,112,111,115,105,116,105,111,110,40,41,32,61,32,108,97,115,116,40,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,32,103,114,111,117,112,45,101,110,100,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,119,104,101,110,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,32,103,114,111,117,112,45,105,110,116,101,114,110,97,108,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,119,104,101,110,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,108,101,109,109,97,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,111,114,109,97,108,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,108,101,109,109,97,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,101,109,101,110,100,101,100,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,101,109,101,110,100,101,100,34,62,116,114,117,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,105,110,115,105,103,110,105,102,105,99,97,110,116,61,39,116,114,117,101,39,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,105,110,115,105,103,110,105,102,105,99,97,110,116,34,62,116,114,117,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,98,105,110,97,114,121,61,39,116,114,117,101,39,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,98,105,110,97,114,121,34,62,116,114,117,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),A1=rn;"use strict";var sn=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,34,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,104,116,109,108,34,32,111,109,105,116,45,120,109,108,45,100,101,99,108,97,114,97,116,105,111,110,61,34,121,101,115,34,47,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,112,98,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,104,114,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,105,109,103,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,101,100,105,116,98,117,116,116,111,110,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,115,114,99,34,62,101,100,105,116,95,105,99,111,110,46,115,118,103,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,104,51,32,99,108,97,115,115,61,34,112,98,34,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,104,51,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,98,34,62,10,60,98,114,32,47,62,10,60,115,112,97,110,32,99,108,97,115,115,61,34,108,98,34,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,102,119,34,62,10,60,100,105,118,32,99,108,97,115,115,61,34,102,119,34,62,40,60,105,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,116,121,112,101,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,112,108,97,99,101,34,47,62,60,47,105,62,41,58,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,60,47,100,105,118,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,105,118,91,64,116,121,112,101,61,39,115,116,111,114,121,39,93,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,115,116,111,114,121,34,32,108,97,110,103,61,34,101,110,34,62,40,115,116,111,114,121,32,110,111,46,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,117,109,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,99,105,116,121,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,107,105,110,103,34,47,62,41,60,47,115,112,97,110,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,105,118,91,64,116,121,112,101,61,39,118,101,114,115,101,39,93,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,118,101,114,115,101,34,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,101,108,34,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,114,101,110,100,34,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,100,101,108,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,100,101,108,101,116,101,100,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,32,40,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,114,101,110,100,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,41,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,97,100,100,34,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,112,108,97,99,101,34,32,115,101,108,101,99,116,61,34,64,112,108,97,99,101,34,47,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,114,101,110,100,34,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,105,110,115,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,97,100,100,101,100,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,32,111,114,32,115,116,114,105,110,103,40,36,112,108,97,99,101,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,32,40,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,114,101,110,100,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,32,97,110,100,32,115,116,114,105,110,103,40,36,112,108,97,99,101,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,44,32,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,112,108,97,99,101,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,41,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,115,117,98,115,116,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,115,117,98,115,116,34,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,103,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,103,97,105,106,105,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,103,34,62,10,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,116,114,101,101,45,118,101,114,115,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,108,97,110,103,34,62,101,110,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,116,101,120,116,62,91,118,101,114,115,101,32,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,10,32,32,32,32,60,120,115,108,58,116,101,120,116,62,93,60,47,120,115,108,58,116,101,120,116,62,10,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,34,62,10,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),P1=sn;"use strict";var on=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,116,101,105,45,99,46,111,114,103,47,110,115,47,49,46,48,34,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,104,116,109,108,34,47,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,119,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,108,101,109,109,97,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,111,114,109,97,108,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,108,101,109,109,97,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,64,101,109,101,110,100,101,100,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,101,109,101,110,100,101,100,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,101,109,101,110,100,101,100,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,60,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,119,104,101,110,32,116,101,115,116,61,34,110,111,116,40,110,111,114,109,97,108,105,122,101,45,115,112,97,99,101,40,46,41,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,32,105,110,118,105,115,105,98,108,101,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,120,48,48,65,48,59,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,119,104,101,110,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,101,109,109,97,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,111,116,104,101,114,119,105,115,101,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,99,104,111,111,115,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,120,115,108,58,116,101,120,116,62,38,35,49,55,51,59,60,47,120,115,108,58,116,101,120,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,99,108,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,103,114,111,117,112,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,112,98,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,104,114,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,105,109,103,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,101,100,105,116,98,117,116,116,111,110,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,115,114,99,34,62,101,100,105,116,95,105,99,111,110,46,115,118,103,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,32,32,32,32,60,104,51,32,99,108,97,115,115,61,34,112,98,34,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,104,51,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,98,34,62,10,60,98,114,32,47,62,10,60,115,112,97,110,32,99,108,97,115,115,61,34,108,98,34,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,102,119,34,62,10,60,100,105,118,32,99,108,97,115,115,61,34,102,119,34,62,40,60,105,32,108,97,110,103,61,34,101,110,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,116,121,112,101,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,112,108,97,99,101,34,47,62,60,47,105,62,41,58,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,60,47,100,105,118,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,105,118,91,64,116,121,112,101,61,39,115,116,111,114,121,39,93,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,115,116,111,114,121,34,32,108,97,110,103,61,34,101,110,34,62,40,115,116,111,114,121,32,110,111,46,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,117,109,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,99,105,116,121,34,47,62,44,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,107,105,110,103,34,47,62,41,60,47,115,112,97,110,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,105,118,91,64,116,121,112,101,61,39,118,101,114,115,101,39,93,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,118,101,114,115,101,34,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,100,101,108,34,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,114,101,110,100,34,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,100,101,108,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,100,101,108,101,116,101,100,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,32,40,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,114,101,110,100,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,41,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,97,100,100,34,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,112,108,97,99,101,34,32,115,101,108,101,99,116,61,34,64,112,108,97,99,101,34,47,62,10,32,32,32,32,60,120,115,108,58,118,97,114,105,97,98,108,101,32,110,97,109,101,61,34,114,101,110,100,34,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,105,110,115,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,97,100,100,101,100,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,32,111,114,32,115,116,114,105,110,103,40,36,112,108,97,99,101,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,32,40,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,114,101,110,100,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,105,102,32,116,101,115,116,61,34,115,116,114,105,110,103,40,36,114,101,110,100,41,32,97,110,100,32,115,116,114,105,110,103,40,36,112,108,97,99,101,41,34,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,44,32,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,36,112,108,97,99,101,34,47,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,60,120,115,108,58,116,101,120,116,62,41,60,47,120,115,108,58,116,101,120,116,62,10,32,32,32,32,32,32,32,32,32,32,32,32,60,47,120,115,108,58,105,102,62,10,32,32,32,32,32,32,32,32,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,115,117,98,115,116,34,62,10,32,32,32,32,60,115,112,97,110,32,99,108,97,115,115,61,34,115,117,98,115,116,34,62,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,32,47,62,60,47,115,112,97,110,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,103,34,62,10,32,32,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,100,97,116,97,45,116,105,116,108,101,34,62,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,114,101,110,100,34,47,62,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,103,97,105,106,105,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,103,34,62,10,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,103,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,34,62,10,32,32,60,120,115,108,58,101,108,101,109,101,110,116,32,110,97,109,101,61,34,115,112,97,110,34,62,10,32,32,32,32,60,120,115,108,58,97,116,116,114,105,98,117,116,101,32,110,97,109,101,61,34,99,108,97,115,115,34,62,108,60,47,120,115,108,58,97,116,116,114,105,98,117,116,101,62,10,32,32,32,32,60,120,115,108,58,97,112,112,108,121,45,116,101,109,112,108,97,116,101,115,47,62,10,32,32,60,47,120,115,108,58,101,108,101,109,101,110,116,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),E1=on;"use strict";var an=String.fromCharCode(60,120,115,108,58,115,116,121,108,101,115,104,101,101,116,32,118,101,114,115,105,111,110,61,34,49,46,48,34,32,120,109,108,110,115,58,120,115,108,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,88,83,76,47,84,114,97,110,115,102,111,114,109,34,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,109,108,110,115,58,120,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,120,104,116,109,108,34,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,120,99,108,117,100,101,45,114,101,115,117,108,116,45,112,114,101,102,105,120,101,115,61,34,120,34,62,10,60,120,115,108,58,111,117,116,112,117,116,32,109,101,116,104,111,100,61,34,116,101,120,116,34,32,111,109,105,116,45,120,109,108,45,100,101,99,108,97,114,97,116,105,111,110,61,34,121,101,115,34,47,62,10,60,120,115,108,58,116,101,109,112,108,97,116,101,32,109,97,116,99,104,61,34,120,58,108,103,34,62,10,60,120,115,108,58,118,97,108,117,101,45,111,102,32,115,101,108,101,99,116,61,34,64,110,34,47,62,10,60,47,120,115,108,58,116,101,109,112,108,97,116,101,62,10,60,47,120,115,108,58,115,116,121,108,101,115,104,101,101,116,62,10),R1=an;var bt=function(f){let N=new DOMParser().parseFromString(f,"text/xml"),O=new XSLTProcessor;return O.importStylesheet(N),O},L1=function(f){this.transformString=function(S,N){let O=f.xml.createElementNS(f.teins,"ab");return O.innerHTML=S,N.transformToFragment(O,document)},this.sheets={csv:bt(_1),xml:bt(S1),matrix:bt(A1),lemma:bt(E1),lg:bt(R1),tree:bt(P1)}};var B1=function(f){let S={curxml(){return f.xml},teins(){return f.teins},basename(){return f.filename.split(/\.[^.]+$/)[0]},range(w,C){return Array.from(Array(parseInt(C)-parseInt(w)+1).keys(),d=>d+w)},maxlemma(){return[...S.firsttext().querySelectorAll("w[n]")].length-1},lemmata(w,C){let d=C||document.querySelector("#views");return w===!1?d.querySelectorAll(".lemma"):d.querySelectorAll(`.lemma[data-n="${w}"]`)},tds(w,C){let d=C||f.matrix.boxdiv;return w===!1?d.querySelectorAll("td[data-n]"):d.querySelectorAll(`td[data-n="${w}"]`)},firsttd(w,C){return(C||f.matrix.boxdiv).querySelector(`td[data-n="${w}"]`)},tr(w){return f.matrix.boxdiv.querySelector(`tr[data-n="${w}"]`)},trs(w){return(w||f.matrix.boxdiv).querySelectorAll("tr[data-n]")},firsttr(w){return(w||f.matrix.boxdiv).querySelector("tr[data-n]")},lasttr(w){return(w||f.matrix.boxdiv).querySelector("tr[data-n]:last-of-type")},trWalker(w){return document.createNodeIterator(w,NodeFilter.SHOW_ELEMENT,{acceptNode:function(C){if(C.tagName==="TD")return NodeFilter.FILTER_ACCEPT}},!1)},textWalker(w){return document.createNodeIterator(w,NodeFilter.SHOW_ELEMENT,{acceptNode:function(C){if(C.tagName.toLowerCase()==="w")return NodeFilter.FILTER_ACCEPT}},!1)},tei(w,C=f.xml){return C.querySelector(`TEI[n="${w}"]`)},teis(w=f.xml){return w.querySelectorAll("TEI")},texts(w){return(w||f.xml).querySelectorAll("text")},serializedtexts(w,C){let d=[...w.querySelectorAll("otu[label]")].map(u=>u.getAttribute("label"));return[...S.teis()].filter(u=>d.indexOf(u.getAttribute("n"))!==-1).map(u=>[w.querySelector(`node[label="${u.getAttribute("n")}"]`).getAttribute("id"),[...u.querySelectorAll("w")].map(g=>C&&g.hasAttribute("lemma")?g.getAttribute("lemma"):g.textContent)])},serializedlevels(w){return w.map(C=>{if(C instanceof Map){let d=new Map;for(let[s,u]of C)d.set(s.getAttribute("id"),u.map(g=>g.getAttribute("id")));return d}else return C.map(d=>d.getAttribute("id"))})},firsttext(w){return w?f.xml.querySelector(`[n="${w}"] text`):f.xml.querySelector("text")},words(w,C){let d=C||f.xml;return w===!1?d.querySelectorAll("w[n]"):d.querySelectorAll(`w[n="${w}"]`)},firstword(w,C){return(C||f.xml).querySelector(`w[n="${w}"]`)},normal(w){return(w||document.getElementById("views")).querySelectorAll(".lemma[data-normal], .tree-lemma[data-normal]")},htmlreading(w,C){return C&&w.dataset.normal?w.dataset.normal:w.IAST.textContent},ths(){return f.matrix.boxdiv.querySelectorAll("th[data-ref]")},firstth(w){return f.matrix.boxdiv.querySelector(`th[data-ref="${w}"]`)},checkbox(w,C){return f.matrix.boxdiv.querySelector(`th[data-ref="${w}"] input.${C}`)},highlit(){let C=S.firsttr().querySelectorAll(".highlit"),d=new Set;for(let s of C)d.add(s.dataset.n);return d},highlitcell(){return f.matrix.boxdiv.querySelector("td.highlitcell")},highlitrow(){let w=S.highlitcell();return w?w.closest("tr"):!1},lowhigh(w){let C=[...w].sort((u,g)=>parseInt(u)-parseInt(g)),d=parseInt(C[0]),s=C.length>1?parseInt(C[C.length-1]):void 0;return[d,s]},readings(w,C){let d=C||f.matrix.boxdiv,s=S.tds(w,d);var u=0;let g=new Set;for(let b of s){let T=b.textContent;T!==""&&(u++,g.add(T))}return[u,g.size]},attr(w,C){let d=S.firsttr();var s=[];for(let u of C)S.firsttd(u,d).dataset[w]==="true"?s.push([u,!0]):s.push([u,!1]);return new Map(s)},whichattr(w){return w.hasAttribute("n")?"n":w.hasAttribute("data-n")?"data-n":w.hasAttribute("data-ref")?"data-ref":!1},clauses(w,C=!1){let d=S.firsttext();var s=!1;let u=new Set;for(let g of w){let T=S.firstword(g,d).closest("cl");T?u.add(T):C&&(s=!0)}if(u.size===0)return!1;{let g=[...u].map(b=>{let T=b.querySelectorAll("w");return new Set([...T].map(F=>F.getAttribute("n")))});return s?[null].concat(g):g}},clausesToRemove(w,C,d=0){let s=new Set;for(let u of w){let g=new Set(u);for(let b of C)g.delete(b);g.size<=d&&s.add(u)}return[...s]},empty(){let w=new Set,C=[...S.trs()],d=C.map(g=>S.trWalker(g)),s=C[0].querySelector("td:last-of-type").dataset.n;for(let g=0;g<=s;g++){var u=!0;for(let b of d){let T=b.nextNode();u&&T.textContent!==""&&(u=!1)}u&&w.add(g)}return w},prevNonempty(w,C){for(let d=w;d>=0;d--)if(C[d].textContent!=="")return d;return!1},nextNonempty(w,C){for(let d=w;d<C.length;d++)if(C[d].textContent!=="")return d;return!1},cursorPos(w){let C=window.getSelection().getRangeAt(0),d=C.cloneRange();d.selectNodeContents(w);let s=d.toString().length;return d.setEnd(C.endContainer,C.endOffset),[d.toString().length,s]},selection(){let w=window.getSelection();if(w.isCollapsed)return!1;let C=w.rangeCount>1?w.getRangeAt(1).cloneContents():w.getRangeAt(0).cloneContents();if(!C)return!1;let d=new Set,s=C.querySelectorAll(".lemma");for(let u of s)d.add(u.dataset.n);return d}},N={undo(){return f.undo.length>0},redo(){return f.redo.length>0},checkbox(w,C=null){if(!N.anyhighlit())return!1;let d=C===null?S.highlit():C,s=S.attr(w,d);for(let u of s.values())if(u===!1)return!1;return!0},grouped(){let w=S.highlit();if(!w)return!1;let C=S.firsttr();for(let d of w){let s=S.firsttd(d,C);if(s.classList.contains("group-start")||s.classList.contains("group-internal")||s.classList.contains("group-end"))return!0}return!1},oneGrouped(){let w=S.highlit();if(w.size===0)return!1;if(w.size===1){let C=S.firsttr(),d=S.firsttd([...w][0],C);return!!(d.classList.contains("group-start")||d.classList.contains("group-end")||d.classList.contains("group-internal"))}return!0},anyhighlit(){return!!f.matrix.boxdiv.querySelector("td.highlit")},manyhighlit(){return S.highlit().size>1},highlitcell(){return!!f.matrix.boxdiv.querySelector("td.highlitcell")},normalizedView(){return document.getElementById("views").classList.contains("normalized")},anyNormalized(){return f.matrix.boxdiv.querySelector(".lemma[data-normal]")},headerView(){return f.matrix.boxdiv.querySelector("tr.header").style.display!=="none"}},O={tei:function(w){let C=f.xml.createElementNS(f.teins,"TEI");C.setAttribute("n",w);let d=S.firsttext().cloneNode(!0);C.appendChild(d);for(let s of S.words(!1,d))for(s.removeAttribute("lemma");s.firstChild;)s.firstChild.remove();return C},xmlel:function(w,C=f.xml){return C.createElementNS(f.teins,w)},emptycell:function(w){let C=document.createElement("td");return C.className="lemma",C.dataset.n=w,C},emptyword:function(w,C=f.xml){let d=C.createElementNS(f.teins,"w");return d.setAttribute("n",w),d},emptywords:function(w,C,d){let s=C||f.maxlemma,u=d||0;for(let g=u;g<=s;g++){let b=O.emptyword(g);w.appendChild(b)}},row:function(w,C){let d=document.createElement("tr"),s=document.createElement("th");s.scope="row",s.draggable=!0,s.appendChild(document.createTextNode(w)),d.dataset.n=w,d.appendChild(s);let u=S.firsttr();for(let g of u.querySelectorAll("td")){let b=document.createElement("td");b.dataset.n=g.dataset.n,b.className=g.className,C&&b.classList.add(C),d.appendChild(b)}return d},blackout(w,C){let d=document.createElement("div");d.id="blackout",d.appendChild(w),document.body.appendChild(d);let s=function(b){C(b),d.parentNode.removeChild(d)},u=function(b){if(!b.target.closest(".popup")){let F=document.querySelector("#blackout");F.parentNode.removeChild(F)}};d.querySelector("button").addEventListener("click",s),d.addEventListener("click",u)}};return{find:S,check:N,make:O}};var T1=function(f,S){let N={Intersection:function(...s){let u=s[0];return new Set([...u].filter(g=>{for(let b=1;b<s.length;b++)if(!s[b].has(g))return!1;return!0}))},Union:function(...s){return new Set(s.reduce((u,g)=>(u=[...u,...g],u),[]))}},O=function(s){let u=new Map;for(let g of S[0]){let b=f.get(g),T=b!==void 0?[b]:[];u.set(g,new Set(T))}for(let g=1;g<S.length;g++)for(let[b,T]of S[g]){let F=T.map(L=>u.get(L)),D=N.Intersection(...F);if(s&&b===s&&D.size===1)return[...D][0];let B=D.size>0?D:N.Union(...F);u.set(b,B)}return u},w=function(s,u){let g=S[0],b=new Map;for(let T of S[S.length-1])b.set(T[0],s.get(T[0]));for(let T=S.length-1;T>1;T--)for(let[F,D]of S[T]){let B=b.get(F);for(let L of D){if(g.indexOf(L)!==-1)continue;let W=s.get(L),Z=(()=>{if(W.size===1)return W;let $=N.Intersection(B,W);return $.size>0?$:W})();if(u&&L===u)return Z;b.set(L,Z)}}return u?b.get(u):b},C=function(s=null){let u=O(s);if(typeof u=="string")return u;let g=w(u,s);return s?d(g):new Map(Array.from(g,([b,T])=>[b,d(T,!0)]))},d=function(s,u=!1){if(!u&&s.size===1)return[...s][0].trim();let g=[...s].map(b=>b.trim()===""?"_":b);return g.length===1?g[0]:"{"+g.join(", ")+"}"};return{run:C}};import{showSaveFilePicker as Kt}from"https://cdn.jsdelivr.net/npm/native-file-system-adapter/mod.js";var N1=function(f,S){let N=f.find,O=f.make,w=N.teins(),C={write:async function(d,s){let u=await s.createWritable();u.write(d),u.close()},xml:async function(d){let s=new XMLSerializer().serializeToString(S.sheets.xml.transformToDocument(d)),u=new Blob([s],{type:"text/xml;charset=utf-8"}),g=N.basename()+".xml",b=await Kt({_preferPolyfill:!1,suggestedName:g,types:[{description:"TEI XML",accept:{"text/xml":[".xml"]}}]});C.write(u,b)},csv:async function(d){let s=S.sheets.csv.transformToDocument(d).documentElement.textContent,u=new Blob([s],{type:"text/csv;charset=utf-8"}),g=N.basename()+".csv",b=await Kt({_preferPolyfill:!1,suggestedName:g,types:[{description:"CSV file",accept:{"text/csv":[".csv"]}}]});C.write(u,b)},nexus:async function(d){let s=[...N.texts(d)],u=s.length,g="0 1 2 3 4 5 6 7 8 9 A B C D E F G H K L M N P Q R S T U V W X Y Z a b c d e f g h k l m n p q r s t u v w x y z",[b,...T]=g.split(" "),F="-",D=s.map(he=>"'"+he.parentElement.getAttribute("n")+"'"),B=s.map(he=>N.textWalker(he)),L=s[0].querySelectorAll("w").length,W=[],Z=D.map(he=>[he+" "]);for(let he=0;he<L;he++){let se=new Set,z=[];for(let de=0;de<B.length;de++){let X=B[de].nextNode(),xe=De.t(X.textContent.trim().toLowerCase(),"iast","hk").replace(/'/g,"()");z.push(xe),xe!==""&&xe!=="[]"&&se.add(xe)}W.push(["[]",...se]);let ge=new Map([...se].map((de,we)=>[de,T[we]]));for(let de=0;de<z.length;de++){let we=(X=>{switch(z[X]){case"":return F;case"[]":return b;default:return ge.get(z[X])}})(de);Z[de].push(we)}}let $=W.map((he,se)=>se+1+" / "+[...he].map(z=>`'${z}'`).join(" ")).join(`,
`),j=Z.map(he=>he.join("")).map(he=>he.replace(/0{8,}/g,se=>se.replace(/0/g,"-"))).reduce((he,se)=>he+`
`+se),te=`#NEXUS

BEGIN TAXA;
  DIMENSIONS NTAX=${u};
  TAXLABELS ${D.join(" ")};
END;

BEGIN CHARACTERS;
  DIMENSIONS
    NCHAR=${L};
  FORMAT 
    DATATYPE=STANDARD 
    RESPECTCASE 
    GAP=${F} 
    MISSING=? 
    SYMBOLS="${g}";
  CHARSTATELABELS
${$}
;
MATRIX
${j}
;
END;
`,oe=new Blob([te],{type:"text/nexus;charset=iso8859-1"}),me=N.basename()+".nex",G=await Kt({_preferPolyfill:!1,suggestedName:me,types:[{description:"NEXUS file",accept:{"text/nexus":[".nex"]}}]});C.write(oe,G)},processOptions:function(d){let s=N.curxml().cloneNode(!0);if(d.get("option_normalize")){let u=s.querySelectorAll("w[lemma]");for(let g of u)g.textContent=g.getAttribute("lemma")}if(d.get("option_mergegroups")){let u=s.querySelectorAll("cl");for(let g of u){let b=g.removeChild(g.firstChild);for(;g.firstChild;){let T=b.getAttribute("lemma")||b.textContent,F=g.firstChild.getAttribute("lemma")||g.firstChild.textContent;for(b.setAttribute("lemma",T+F);g.firstChild.firstChild;)b.appendChild(g.firstChild.firstChild);g.firstChild.remove()}b.getAttribute("lemma")===b.textContent&&b.removeAttribute("lemma"),g.parentNode.insertBefore(b,g),g.parentNode.removeChild(g)}}if(d.get("option_insignificant")){let u=s.querySelectorAll('w[insignificant="true"]');for(let g of u)g.parentNode.removeChild(g)}if(d.get("option_binary")){let g=[...N.firsttext().querySelectorAll('w[binary="true"]')].map(b=>b.getAttribute("n"));for(let b of g){let T=s.querySelectorAll(`w[n="${b}"]:not(:empty)`);if(T.length===0)continue;let F=`[${T[0].textContent}]`;for(let D of T)D.textContent=F}}if(d.get("option_noempty")){let u=s.querySelectorAll("w:empty");for(let g of u)g.textContent="[]"}return d.get("option_basetext")?C.makeApp(d,s):s},makeHeader(d,s){let u=d.createElementNS(w,"teiHeader"),g=d.createElementNS(w,"fileDesc"),b=d.createElementNS(w,"sourceDesc"),T=d.createElementNS(w,"listWit");for(let F of N.teis(s)){let D=F.getAttribute("n"),B=d.createElementNS(w,"witness");B.setAttribute("xml:id",D);let L=d.createElementNS(w,"idno");L.setAttribute("type","siglum"),L.append(D),B.appendChild(L),T.appendChild(B)}return b.appendChild(T),g.appendChild(b),u.appendChild(g),u},makeApp(d,s){let u=d.get("option_basetext"),g=N.tei(u,s),b=d.get("option_app_normalize"),T=document.implementation.createDocument(w,"",null);T.appendChild(g);let F=C.makeHeader(T,s);g.insertBefore(F,g.firstChild);let D=N.words(!1,g);for(let B of D){let L=B.getAttribute("n"),W=b&&B.getAttribute("lemma")||B.textContent,Z=[],$=new Map,j=N.words(L,s);for(let te of j){let oe=te.closest("TEI").getAttribute("n");if(b&&te.getAttribute("lemma")===W)Z.push(oe);else if(te.textContent===W)Z.push(oe);else{let me=te.textContent===""?"[om.]":te.textContent,G=$.get(me)||[];G.push(oe),$.set(me,G)}}if($.size===0)for(;B.firstChild;)B.parentElement.insertBefore(B.firstChild,B);else{let te=T.createElementNS(w,"app");te.setAttribute("n",L);let oe=T.createElementNS(w,"lem"),me=Z.map(G=>`#${G}`).join(" ");for(me!==""&&oe.setAttribute("wit",me);B.firstChild;)oe.appendChild(B.firstChild);te.appendChild(oe);for(let[G,he]of $){let se=T.createElementNS(w,"rdg"),z=he.map(ge=>`#${ge}`).join(" ");se.setAttribute("wit",z),se.append(G),te.appendChild(se)}B.parentElement.insertBefore(te,B),oe.textContent.match(/\s$/)&&B.parentElement.insertBefore(T.createTextNode(" "),B)}B.remove()}return T},options(){return document.createRange().createContextualFragment(`<div id="exportoptions" class="popup">
    <form id="exportform">
      <div style="font-weight: bold">Export</div>
      <div>
        <input type="checkbox" id="option_insignificant" name="option_insignificant"><label for="option_insignificant">Remove insignifiant lemmata</label>
      </div>
      <div>
        <input type="checkbox" id="option_binary" name="option_binary"><label for="option_binary">Binarize marked lemmata</label>
      </div>
      <div>
        <input type="checkbox" id="option_noempty" name="option_noempty"><label for="option_noempty">Gaps are significant</label>
      </div>
      <div>
        <input type="checkbox" id="option_mergegroups" name="option_mergegroups"><label for="option_mergegroups">Merge groups</label>
      </div>
      <div>
        <input type="checkbox" id="option_normalize" name="option_normalize"><label for="option_normalize">Normalize spellings</label>
      </div>
      <div>
        <button type="submit">Export</button>
      </div>
    </form>
</div>`)},appOptions(){let d=document.createRange().createContextualFragment(`<div id="exportoptions" class="popup">
    <form id="exportform">
      <div style="font-weight: bold">Export</div>
      <div>
        <label for="option__basetext">Base text</label>
        <select id="option__basetext" name="option_basetext"></select>
      </div>
      <div>
        <input type="checkbox" id="option__app_insignificant" name="option_app_insignificant"><label for="option_app_insignificant">Ignore insignifiant lemmata</label>
      </div>
      <div>
        <input type="checkbox" id="option_mergegroups" name="option_mergegroups" checked><label for="option_mergegroups">Merge groups</label>
      </div>
      <div>
        <input type="checkbox" id="option_app_normalize" name="option_app_normalize" checked><label for="option_app_normalize">Normalized spellings in positive apparatus</label>
      </div>
      <div>
        <input type="checkbox" id="option_normalize" name="option_normalize"><label for="option_normalize">Normalize spellings in negative apparatus</label>
      </div>
      <div>
        <button type="submit">Export</button>
      </div>
    </form>
</div>`),s=d.getElementById("option__basetext"),u=[...N.trs()].map(g=>g.dataset.n);for(let g of u){let b=document.createElement("option");b.value=g,b.append(g),s.appendChild(b)}return d},showOptions:function(d,s){let u=s(),g=function(b){b.preventDefault();var T=[];let F=document.getElementById("exportform").elements;for(let B of F)B.type==="checkbox"?T.push([B.name,B.checked]):T.push([B.name,B.value]);let D=C.processOptions(new Map(T));d(D)};O.blackout(u,g)}};return C};var M1=function(f){let{find:S,check:N,make:O}=f;return{group:function(d){let s=[...d],u=s.shift(),g=S.texts();for(let T of g){let F=O.xmlel("cl"),D=S.firstword(u,T);D.parentNode.insertBefore(F,D),F.appendChild(D);for(let B of d)F.appendChild(S.firstword(B,T))}let b=s.pop();for(let T of S.tds(u))T.classList.add("group-start");for(let T of S.tds(b))T.classList.add("group-end");for(let T of s)for(let F of S.tds(T))F.classList.add("group-internal")},ungroup:function(d){let s=S.texts();for(let g of s){let b;for(let T of d){let F=S.firstword(T,g);b||(b=F.closest("cl")),b.parentNode.insertBefore(F,b)}b.parentNode.removeChild(b)}let u=[...d].flatMap(g=>[...S.tds(g)]);for(let g of u)g.classList.remove("group-start","group-internal","group-end")}}};function Ht(f){var S=[],N=0;if(this.trie=this.createTrie(f.patterns),this.leftMin=f.leftmin,this.rightMin=f.rightmin,this.exceptions={},f.exceptions)for(S=f.exceptions.split(/,\s?/g);N<S.length;N+=1)this.exceptions[S[N].replace(/\u2027/g,"").toLowerCase()]=new RegExp("("+S[N].split("‧").join(")(")+")","i")}Ht.prototype.createTrie=function(f){var S=0,N=0,O=0,w=0,C=null,d=null,s=null,u=null,g={_points:[]},b;for(S in f)if(f.hasOwnProperty(S))for(b=f[S].match(new RegExp(".{1,"+ +S+"}","g")),N=0;N<b.length;N+=1){for(C=b[N].replace(/[0-9]/g,"").split(""),d=b[N].split(/\D/),u=g,O=0;O<C.length;O+=1)s=C[O].charCodeAt(0),u[s]||(u[s]={}),u=u[s];for(u._points=[],w=0;w<d.length;w+=1)u._points[w]=d[w]||0}return g};Ht.prototype.hyphenateText=function(f,S){S=S||4;for(var N=f.split(/([a-zA-Z0-9_\u0027\u00AD\u00DF-\u00EA\u00EB\u00EC-\u00EF\u00F1-\u00F6\u00F8-\u00FD\u0101\u0103\u0105\u0107\u0109\u010D\u010F\u0111\u0113\u0117\u0119\u011B\u011D\u011F\u0123\u0125\u012B\u012F\u0131\u0135\u0137\u013C\u013E\u0142\u0144\u0146\u0148\u0151\u0153\u0155\u0159\u015B\u015D\u015F\u0161\u0165\u016B\u016D\u016F\u0171\u0173\u017A\u017C\u017E\u017F\u0219\u021B\u02BC\u0390\u03AC-\u03CE\u03F2\u0401\u0410-\u044F\u0451\u0454\u0456\u0457\u045E\u0491\u0531-\u0556\u0561-\u0587\u0902\u0903\u0905-\u090B\u090E-\u0910\u0912\u0914-\u0928\u092A-\u0939\u093E-\u0943\u0946-\u0948\u094A-\u094D\u0982\u0983\u0985-\u098B\u098F\u0990\u0994-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BE-\u09C3\u09C7\u09C8\u09CB-\u09CD\u09D7\u0A02\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A14-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A82\u0A83\u0A85-\u0A8B\u0A8F\u0A90\u0A94-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABE-\u0AC3\u0AC7\u0AC8\u0ACB-\u0ACD\u0B02\u0B03\u0B05-\u0B0B\u0B0F\u0B10\u0B14-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3E-\u0B43\u0B47\u0B48\u0B4B-\u0B4D\u0B57\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C02\u0C03\u0C05-\u0C0B\u0C0E-\u0C10\u0C12\u0C14-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3E-\u0C43\u0C46-\u0C48\u0C4A-\u0C4D\u0C82\u0C83\u0C85-\u0C8B\u0C8E-\u0C90\u0C92\u0C94-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBE-\u0CC3\u0CC6-\u0CC8\u0CCA-\u0CCD\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D60\u0D61\u0D7A-\u0D7F\u1F00-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB2-\u1FB4\u1FB6\u1FB7\u1FBD\u1FBF\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD2\u1FD3\u1FD6\u1FD7\u1FE2-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u200D\u2019]+)/gi),O=0;O<N.length;O+=1)N[O].indexOf("/")!==-1?O!==0&&O!==N.length-1&&!/\s+\/|\/\s+/.test(N[O])&&(N[O]+="​"):N[O].length>S&&(N[O]=this.hyphenate(N[O]).join("­"));return N.join("")};Ht.prototype.hyphenate=function(f){var S,N=[],O,w,C,d,s,u=[],g,b=f.toLowerCase(),T,F,D=Math.max,B=this.trie,L=[""];if(this.exceptions.hasOwnProperty(b))return f.match(this.exceptions[b]).slice(1);if(f.indexOf("­")!==-1)return[f];for(f="_"+f+"_",S=f.toLowerCase().split(""),O=f.split(""),g=S.length,w=0;w<g;w+=1)u[w]=0,N[w]=S[w].charCodeAt(0);for(w=0;w<g;w+=1)for(s=B,C=w;C<g&&(s=s[N[C]],s);C+=1)if(T=s._points,T)for(d=0,F=T.length;d<F;d+=1)u[w+d]=D(u[w+d],T[d]);for(w=1;w<g-1;w+=1)w>this.leftMin&&w<g-this.rightMin&&u[w]%2?L.push(O[w]):L[L.length-1]+=O[w];return L};var ln=Ht,I1=ln;var D1={id:"sa",leftmin:2,rightmin:2,patterns:{2:"a1e1i1o1u1é1í1ï1ó1ú1ü1ā1ī1ū1ḷ1ḹ1ṛ1ṝ1",3:"2b_2c_2d_2g_2h_2j_2k_2l_2m_2n_2p_2r_2s_2t_2v_2y_2ñ_2ś_2ḍ_2ḥ12ḫ12ḷ_2ṁ12ṃ12ṅ_2ṇ_2ṭ_2ẖ1l̥1r̥1",4:"2bh_2ch_2dh_2gh_2jh_2kh_2m̐12ph_2rb_2rd_2rg_2rk_2rp_2rt_2rḍ_2rṭ_2th_2ḍh_2ṭh_a2i1a2u1a3ï1a3ü1l̥̄1r̥̄1"}};window.comboView=function(){let f={teins:"http://www.tei-c.org/ns/1.0",scripts:["iast","devanagari","telugu","grantha","malayalam"],filename:null,xml:null,treelist:new Map,trees:[],textboxes:[],matrix:null,viewdiv:null,descs:null,maxlemma:null,windows:[window],dragged:null,undo:[],redo:[],editing:!1},S=new I1(D1),N=new L1(f),O=new B1(f),w=new M1(O),C=new N1(O,N),{find:d,check:s,make:u}=O,g=function(){let o=document.getElementById("tooltip");o&&o.remove()},b={matrix:function(){return f.matrix=new ee,f.matrix.init(),f.matrix.show(),document.getElementById("matrixmenu").style.display="none",T(),L.rehighlight(),f.matrix},text:function(o){let l=new Ce(o);return f.textboxes.push(l),l.init(),l.show(),T(),L.rehighlight(),document.querySelector(".highlit")||se.textClick({target:l.boxdiv.querySelector(".lemma:not(.invisible)")}),l},tree:function(o,l){let p=new xe(o,l);return f.trees.push(p),p.init(),p.show(),T(),L.rehighlight(),p}},T=function(){for(let o of f.trees)o.draw()},F=function(){let o=window.getSelection?window.getSelection():document.selection;o&&(o.removeAllRanges?o.removeAllRanges():o.empty&&o.empty())},D=function(o){let l=document.createTreeWalker(o,NodeFilter.SHOW_TEXT);for(;l.nextNode();){let p=B(l.currentNode.nodeValue);l.currentNode.nodeValue=p}},B=function(o){return S.hyphenateText(o.replace(/ \|/g," |").replace(/\| (?=\d)/g,"| ").replace(/\|\|/g,"॥").replace(/\|/g,"।"))},L={getAllWindows:function(){return window.mainWindow?window.mainWindow.comboView.getWindows():f.windows},forEachWindow:function(o){let l=L.getAllWindows();for(let p of l)if(!p.closed&&o(p)===!1)break},highlightLemma:function(o,l){var p=!!l;L.forEachWindow(r=>{let n=r.comboView.getViewdiv().querySelectorAll('[data-n="'+o+'"]');for(let h of n)(!p||!h.classList.contains("invisible"))&&h.classList.add("highlit");let i=r.comboView.getViewdiv().querySelectorAll('[data-n-trans="'+o+'"]');for(let h of i)h.classList.add("translit")})},highlightRange:function(o){if(!o||o.size===0)return;L.unHighlightAll();let[l,p]=d.lowhigh(o);if(p!==void 0)for(let r=l;r<=p;r++)L.highlightLemma(r,!0);else L.highlightLemma(l);L.repopulateTrees(l,p);for(let r of f.viewdiv.querySelectorAll(".text-box"))r.querySelector(".highlit")||r.querySelector('[data-n="'+l+'"]').classList.add("highlit");ge.xScroll(l)},highlightAll:function(){s.anyhighlit()?L.unHighlightAll():L.highlightRange(new Set([0,d.maxlemma()]))},unHighlightAll:function(){L.forEachWindow(o=>{let l=o.comboView.getViewdiv().querySelectorAll(".highlit");for(let r of l)r.classList.remove("highlit");let p=o.comboView.getViewdiv().querySelectorAll(".translit");for(let r of p)r.classList.remove("translit");L.unCelllightAll()})},unCelllightAll:function(){L.forEachWindow(o=>{let l=o.comboView.getViewdiv().querySelectorAll(".highlitcell");for(let p of l)p.classList.remove("highlitcell")})},rehighlight:function(){var o;if(L.forEachWindow(p=>{if(o=p.document.querySelectorAll(".highlit"),o.length>0)return!1}),o.length>0){var l=new Set;for(let p of o)l.add(p.dataset.n);L.highlightRange(l)}},clearTrees:function(){L.forEachWindow(o=>{let l=o.comboView.getTrees();for(let p of l)p.clearlemmata()})},repopulateTrees:function(o,l){L.forEachWindow(p=>{let r=p.comboView.getTrees();for(let n of r)n.populate(o,l),n.colourizeVariants(o,l),n.updatescript()})},highlightTreeLemma:function(o){L.forEachWindow(l=>{let p=l.comboView.getTrees();for(let r of p){let n=r.boxdiv.querySelector('.tree-lemma[data-id="'+o+'"]'),i=r.boxdiv.querySelectorAll(".tree-lemma");for(let h of i)(n.dataset.nodes&&h.dataset.nodes===n.dataset.nodes||!n.dataset.nodes&&h.dataset.id===n.dataset.id)&&h.classList.add("highlit");r.clearLabels()}})},unhighlightTrees:function(){L.forEachWindow(o=>{let l=o.comboView.getViewdiv().querySelectorAll(".tree-lemma.highlit");for(let r of l)r.classList.remove("highlit");let p=o.comboView.getTrees();for(let r of p)r.clearLabels()})}},W=function(o,l){let p=l.target.files[0],r=[...l.target.files].slice(1),n=new FileReader;n.onload=o.bind(null,p,r),n.readAsText(p)},Z=function(o,l,p){f.filename=o.name,document.title=document.title+`: ${f.filename}`,f.filename.split(".").pop()==="csv"?te(o,l,p):oe(o,l,p)},$=function(o,l,p){let r=p.target.result,i=new DOMParser().parseFromString(r,"text/xml"),h=f.xml.querySelector("teiHeader > xenoData")||function(){let x=f.xml.querySelector("teiHeader")||function(){let I=u.xmlel("teiHeader");return f.xml.documentElement.appendChild(I),I}(),A=u.xmlel("xenoData");return x.appendChild(A),A}(),v=u.xmlel("stemma");v.setAttribute("format","nexml"),v.id="stemma"+[...h.querySelectorAll("stemma")].length,v.appendChild(i.firstChild.cloneNode(!0)),h.appendChild(v),j(i,v.id)},j=function(o,l,p=!0){let r=o.querySelectorAll("tree"),n=document.querySelector("#treemenu ul");for(let i of r){let h=i.id,v=o.cloneNode(!0);for(let I of v.querySelectorAll("tree"))I.id!==h&&I.parentNode.removeChild(I);let x=i.getAttribute("label")||"New Tree "+f.treelist.size;f.treelist.set(`#${l} #${h}`,v);let A=document.createElement("li");A.dataset.name=x,A.dataset.treeid=h,A.dataset.stemmaid=l,A.appendChild(document.createTextNode(x)),n.insertBefore(A,n.lastElementChild),p&&b.tree(l,h)}},te=function(o,l,p){let r=Jt.parse(p.target.result,{delimiter:","});f.xml=document.implementation.createDocument(f.teins,"",null);let n=u.xmlel("teiCorpus"),i=u.xmlel("teiHeader");n.appendChild(i),f.xml.appendChild(n);for(let h of r){let v=h[0],x=h.slice(1),A=u.xmlel("TEI");A.setAttribute("n",v);let I=u.xmlel("text");for(let M=0;M<x.length;M++){let V=x[M],U=u.xmlel("w");V&&U.appendChild(document.createTextNode(V)),U.setAttribute("n",M),I.appendChild(U)}A.appendChild(I),n.appendChild(A)}f.xml.normalize(),f.maxlemma=d.maxlemma(),he()},oe=function(o,l,p){let r=new DOMParser;f.xml=r.parseFromString(p.target.result,"text/xml");let n=f.xml.querySelectorAll("teiHeader xenoData stemma nexml");for(let i of n){let h=document.implementation.createDocument("http://www.nexml.org/2009","",null);h.appendChild(i.cloneNode(!0)),j(h,i.closest("stemma").id,!1)}f.maxlemma=d.maxlemma(),l.length>0?me(l):he()},me=function(o){let l=o[0],p=o.slice(1),r=function(h,v){let x=new Set(h);for(let A of v)x.delete(A);return x},n=function(h,v){let A=new DOMParser().parseFromString(v.target.result,"text/xml"),I=new Map;for(let Se of d.teis()){let Ae=Se.getAttribute("n");I.set(Ae,Se)}let M=new Set(I.keys()),V=new Map;for(let Se of A.querySelectorAll("TEI")){let Ae=Se.getAttribute("n");V.set(Ae,Se)}let U=new Set(V.keys()),ne=r(M,U),fe=r(U,M);for(let Se of fe)u.tei(Se);let ve=[...A.querySelector("text").querySelectorAll("w[n]")].length,ye=f.maxlemma+ve;for(let[Se,Ae]of V)if(I.has(Se)){let ke=I.get(Se).querySelector("text"),Te=Ae.querySelector("text").querySelectorAll("w[n]");var _e=f.maxlemma+1;for(let Ie of Te)Ie.setAttribute("n",_e),ke.appendChild(Ie),_e=_e+1}else{let ke=u.xmlel("TEI");ke.setAttribute("n",Se);let Me=u.xmlel("text");u.emptywords(Me,ye,0),ke.appendChild(Me),f.xml.documentElement.appendChild(ke)}for(let Se of ne){let Ae=I.get(Se).querySelector("text");u.emptywords(Ae,ye,f.maxlemma+1)}f.maxlemma=d.maxlemma(),h.length>0?me(h):he()},i=new FileReader;i.onload=n.bind(null,p),i.readAsText(l)},G=function(){var o="";let l=[...d.teis()].map(p=>p.getAttribute("n"));for(let p of l)o+=`<li data-name="${p}">${p}</li>`;document.getElementById("menu").querySelector(".ms").innerHTML=o},he=function(){G();let o=new we("Export");o.populate([{text:"TEI corpus",func:C.showOptions.bind(null,C.xml,C.options)},{text:"TEI apparatus",func:C.showOptions.bind(null,C.xml,C.appOptions)},{text:"CSV",func:C.showOptions.bind(null,C.csv,C.options)},{text:"NEXUS",func:C.showOptions.bind(null,C.nexus,C.options)}]);let l=new we("Edit");l.populate([{text:"Undo",greyout:s.undo,func:z.undo},{text:"Redo",greyout:s.redo,func:z.redo},{text:"Select all",alt:"Deselect all",toggle:s.anyhighlit,func:L.highlightAll},{text:"(Re)normalize columns",greyout:s.anyhighlit,func:z.startRenormalize.bind(null,!1)},{text:"Delete column",greyout:s.anyhighlit,func:z.startRemoveCol.bind(null,!1)},{text:"Delete empty columns",func:z.startRemoveEmpty},{text:"Merge columns",greyout:s.manyhighlit,func:z.startMerge.bind(null,!1)},{text:"Group columns",alt:"Ungroup columns",greyout:s.oneGrouped,toggle:s.grouped,func:z.group.start.bind(null,!1)},{text:"Group words",func:z.doGroupWords},{text:"Edit cell",greyout:s.highlitcell,func:z.startEditCell.bind(null,!1)},{text:"Insert row",func:z.startNewRow},{text:"Insert column",greyout:s.anyhighlit,func:z.startInsertCol},{text:"Mark insignificant",checkbox:s.checkbox.bind(null,"insignificant"),greyout:s.anyhighlit,func:z.startMarkAs.bind(null,"insignificant",!1)},{text:"Mark binary",checkbox:s.checkbox.bind(null,"binary"),greyout:s.anyhighlit,func:z.startMarkAs.bind(null,"binary",!1)}]);let p=new we("View");p.populate([{text:"Header",checkbox:s.headerView,func:ge.toggleHeader},{text:"Normalized",checkbox:s.normalizedView,greyout:s.anyNormalized,func:ge.toggleNormalize}]);let r=document.getElementById("left_menu");r.appendChild(p.box),r.appendChild(l.box),r.appendChild(o.box);let n=document.getElementById("views");n.style.justifyContent="flex-start",n.removeChild(n.querySelector("#splash")),b.matrix();let i=document.getElementById("matrixmenu");i.addEventListener("click",b.matrix),i.removeChild(i.querySelector("ul")),document.getElementById("mssmenu").style.display="block",document.getElementById("treemenu").style.display="block"},se={selectAll(o){let l=document.createRange();l.selectNodeContents(o);let p=window.getSelection();p.removeAllRanges(),p.addRange(l)},deselect(){let o=window.getSelection();o.removeAllRanges?o.removeAllRanges():o.empty&&o.empty()},treeMouseover(o){let l=o.target.classList.contains("tree-lemma")?o.target:o.target.closest(".tree-lemma");l&&(L.highlightTreeLemma(l.dataset.id),l.addEventListener("mouseout",L.unhighlightTrees));let p=o.target.dataset.reconstructed;if(!p)return;let r=document.createElement("div");r.id="tooltip",r.style.top=o.pageY+"px",r.style.left=o.pageX+"px",r.style.opacity=0,r.style.transition="opacity 0.2s ease-in",f.viewdiv.parentElement.appendChild(r);let n=document.createElement("div");if(n.appendChild(document.createTextNode(p)),this.script!==0?r.appendChild(Ot(n,f.scripts[this.script])):r.appendChild(n),o.target.classList.contains("reconstructed")){let i=o.target.parentNode.querySelector("span.tree-lemma");if(i&&i.dataset.hasOwnProperty("emended")){let h=document.createElement("div");h.classList.add("emphasis"),h.appendChild(document.createTextNode(i.textContent)),this.script!==0?r.prepend(Ot(h,f.scripts[this.script])):r.prepend(h)}}window.getComputedStyle(r).opacity,r.style.opacity=1,o.target.addEventListener("mouseout",g)},treeClick(o){o.target.classList.contains("witness")?b.text(o.target.dataset.key):o.target.classList.contains("reconstructed")?b.text(o.target.dataset.label):o.target.classList.contains("internal")&&z.startReconstruction(o),g()},keyDown(o){if(!f.editing&&o.key.substring(0,5)==="Arrow")se.cycleVariant(o);else if(o.ctrlKey||o.metaKey)o.key==="Z"?z.redo():o.key==="z"&&z.undo();else if(!f.editing&&f.matrix&&!f.matrix.closed&o.key==="Enter"){let l=d.highlitcell();l&&(o.preventDefault(),z.startEditCell(l))}},cycleVariant(o){let l=d.highlitcell()||f.viewdiv.querySelector("td.highlit")||f.viewdiv.querySelector('td[data-n="0"]');switch(o.key){case"ArrowRight":{if(!f.matrix.closed&&l){let p=l.nextElementSibling;p&&se.textClick({target:p})}else{let p=f.viewdiv.querySelector(".highlit"),r=p?p.dataset.n:0,n=parseInt(r)+1;for(;n<=f.maxlemma;){let i=f.viewdiv.querySelectorAll('[data-n="'+n+'"]');for(let h of i)if(h&&!h.classList.contains("invisible")){se.textClick({target:h});return}n++}}break}case"ArrowLeft":{if(!f.matrix.closed&&l){let p=l.previousElementSibling;p&&se.textClick({target:p})}else{let p=f.viewdiv.querySelector(".highlit"),r=p?p.dataset.n:0,n=parseInt(r)-1;for(;n>=0;){let i=f.viewdiv.querySelectorAll('[data-n="'+n+'"]');for(let h of i)if(h&&!h.classList.contains("invisible")){se.textClick({target:h});return}if(n--,l){se.textClick({target:l.previousElementSibling});return}}}break}case"ArrowUp":{if(f.matrix.closed||!l)return;let r=l.closest("tr").previousElementSibling;if(!r||!r.dataset.n)return;let n=r.querySelector(`td[data-n="${l.dataset.n}"]`);se.textClick({target:n});break}case"ArrowDown":{if(f.matrix.closed||!l)return;let r=l.closest("tr").nextElementSibling;if(!r||r.tagName!=="TR")return;let n=r.querySelector(`td[data-n="${l.dataset.n}"]`);se.textClick({target:n})}}},textClick(o,l=!1){if(o.target.closest("tr.header")){se.matrixHeaderClick(o);return}let p=o.target.classList.contains("lemma")?o.target:o.target.closest(".lemma");if(p){if(!l&&o.ctrlKey){se.rightClick(o);return}let r=p.dataset.n,n=d.highlitrow();if(L.unHighlightAll(),L.highlightLemma(r),L.repopulateTrees(r),ge.xScroll(r,n),p.tagName==="TD")p.classList.add("highlitcell");else{let i=p.closest(".text-box");if(i){let h=i.dataset.id;d.tr(h).querySelector(`td[data-n="${r}"]`).classList.add("highlitcell")}}}},textMouseup(){let o=d.selection();!o||(L.highlightRange(o),F())},menuMouseover(o){let l=o.target.classList.contains("menubox")?o.target:o.target.closest(".menubox");if(l){let p=l.querySelector("ul");p&&(p.style.display="block"),l.classList.add("open")}},menuMouseout(o){let l=o.target.classList.contains("menubox")?o.target:o.target.closest(".menubox");if(l){let p=l.querySelector("ul");p&&(p.style.display="none"),l.classList.remove("open")}},menuClick(o){!o.target.parentElement||(o.target.parentElement.className==="ms"&&(se.menuMouseout(o),b.text(o.target.dataset.name)),o.target.parentElement.className==="tree"&&(se.menuMouseout(o),o.target.closest("li[data-name]")&&b.tree(o.target.dataset.stemmaid,o.target.dataset.treeid)))},thDragStart(o){!o.target.closest('th[scope="row"]')||(o.dataTransfer.setData("text/plain",o.target.textContent),z.startMoveRow(o.target.parentNode,o))},trDragEnter(o){let l=o.target.nodeType===1?o.target.closest("tr"):o.target.parentElement.closest("tr");l&&l.classList.add("dragenter")},trDragLeave(o){let l=o.target.nodeType===1?o.target.closest("tr"):o.target.parentElement.closest("tr");l&&l.classList.remove("dragenter")},trDragDrop(o){o.preventDefault(),z.finishMoveRow(o)},matrixMousedown(o){if(o.button!==0)return;if(o.ctrlKey){se.rightClick(o);return}let l=o.target.nodeType===1?o.target.closest(".lemma"):o.target.parentElement.closest(".lemma");if(l){if(l.isContentEditable)return;L.unHighlightAll(),L.highlightLemma(l.dataset.n);let p=f.matrix.boxdiv.querySelector("table");p.addEventListener("mouseover",se.matrixMouseover),p.addEventListener("mouseup",se.matrixMouseup)}},matrixMouseup(o){let l=d.highlit();l.size===1?se.textClick(o):L.highlightRange(l);let p=f.matrix.boxdiv.querySelector("table");p.removeEventListener("mouseover",se.matrixMouseover),p.removeEventListener("mouseup",se.matrixMouseup)},matrixMouseover(o){let l=o.target.nodeType===1?o.target.closest(".lemma"):o.target.parentElement.closest(".lemma");l&&L.highlightLemma(l.dataset.n)},matrixHeaderClick(o){if(o.target.tagName!=="INPUT")return;let l=o.target.className;if(l!=="insignificant"&&l!=="binary")return;let p=o.target.closest("th").dataset.ref,r=d.firsttd(p).dataset[l]!=="true",n=new Map([[p,r]]);z.doMarkAs(l,n)},rightClick(o){let l=o.target.nodeType===1?o.target.closest("tr[data-n] th"):o.target.parentElement.closest("tr[data-n] th");if(l){o.preventDefault(),de.remove();let r=de.create(o),n=[{text:"move row",func:z.startMoveRow.bind(null,l.parentNode)},{text:"delete row",func:z.doDeleteRow.bind(null,l.parentNode.dataset.n)}];de.populate(r,n),de.show(r);return}let p=o.target.nodeType===1?o.target.closest("td.lemma"):o.target.parentElement.closest("td.lemma");if(p){o.preventDefault();let r=p.classList.contains("highlit")?function(){let h=d.highlit();return h.size===1&&!p.classList.contains("highlitcell")&&(L.unCelllightAll(),p.classList.add("highlitcell")),h}():(se.textClick(o,!0),new Set([p.dataset.n])),n=r.size>1?[{text:"merge columns",func:z.startMerge.bind(null,r)},{text:"ungroup columns",alt:"group columns",toggle:s.grouped,func:z.group.start.bind(null,!1)},{text:"delete columns",func:z.startRemoveCol.bind(null,r)}]:[{text:"edit cell",func:z.startEditCell.bind(null,p)},{text:"delete column",func:z.startRemoveCol.bind(null,r)},{text:"insert column",func:z.startInsertCol}];de.remove();let i=de.create(o);de.populate(i,n),de.show(i)}}},z={undo:function(){let o=f.undo.pop();o&&o[0](...o[1])},redo:function(){let o=f.redo.pop();o&&o[0](...o[1])},doStack:function(o,l="do"){l==="undo"?(o[1].push("redo"),f.redo.push(o)):l==="redo"?(o[1].push("undo"),f.undo.push(o)):(o[1].push("undo"),f.undo.push(o),f.redo=[])},doMulti:function(o,l){let p=[];for(let r of o){let n=r[0](...r[1],"multido");p.unshift(n)}z.doStack([z.doMulti,[p]],l)},startMoveRow:function(o,l){if(f.dragged=o,f.dragged.classList.add("dragging"),l.type!=="dragstart"){for(let p of d.trs())p.classList.add("moveinprogress");f.matrix.boxdiv.querySelector("table").addEventListener("mousedown",z.finishMoveRow)}},startMerge:function(o){let l=o===!1?d.highlit():o,p=d.clauses(l,!0);if(!p)z.doMerge(l,"do");else if(p[0]===null){let r=p.filter(n=>n!==null).map(n=>[z.ungroup.go,[n]]).concat([[z.doMerge,[l]]]);z.doMulti(r,"do")}else{let r=d.clausesToRemove(p,l);if(!r)z.doMerge(l,"do");else{let n=r.map(i=>[z.ungroup.go,[i]]).concat([[z.doMerge,[l]]]);z.doMulti(n,"do")}}},group:{start:function(o){let l=o===!1?d.highlit():o;s.grouped()?z.ungroup.start(l):z.group.go(l,"do")},go:function(o,l="do"){w.group(o);for(let p of f.textboxes)p.refresh();if(l==="multido")return[z.ungroup.go,[o]];z.doStack([z.ungroup.go,[o]],l)}},ungroup:{start:function(o){let p=[...d.clauses(o)].map(r=>[z.ungroup.go,[r]]);z.doMulti(p,"do")},go:function(o,l="do"){w.ungroup(o);for(let p of f.textboxes)p.refresh();if(l==="multido")return[z.group.go,[o]];z.doStack([z.group.go,[o]],l)}},startInsertCol:function(){let o=Math.max([...d.highlit()])||f.maxlemma;z.doInsertCol(o)},startRemoveCol:function(o){let l=o===!1?d.highlit():o,p=d.clauses(l);if(!p)z.doRemoveCol(l,"do");else{let r=d.clausesToRemove(p,l,1);if(!r)z.doRemoveCol(l,"do");else{let n=r.map(i=>[z.ungroup.go,[i]]).concat([[z.doRemoveCol,[l]]]);z.doMulti(n,"do")}}},startRemoveEmpty:function(){let o=d.empty(),l=d.clauses(o);if(!l)z.doRemoveCol(o,"do");else{let p=d.clausesToRemove(l,o,1);if(!p)z.doRemoveCol(o,"do");else{let r=p.map(n=>[z.ungroup.go,[n]]).concat([[z.doRemoveCol,[o]]]);z.doMulti(r,"do")}}},startEditCell:function(o){let l=o||d.highlitcell();!l||(z.unnormalize(l),l.dataset.oldContent=l.textContent,l.contentEditable="true",l.focus(),f.editing=!0,se.selectAll(l),l.addEventListener("blur",z.finishEditCell),l.addEventListener("keydown",z.cellKeyDown))},cellKeyDown:function(o){switch(o.key){case"Enter":z.finishEditCell(o);break;case"Escape":z.finishEditCell(o,!0);break;case"ArrowRight":{let l=d.cursorPos(o.target);l[0]===l[1]&&(o.preventDefault(),z.finishEditCell(o),se.cycleVariant({key:"ArrowRight"}),z.startEditCell(d.highlitcell()));break}case"ArrowLeft":{d.cursorPos(o.target)[0]===0&&(o.preventDefault(),z.finishEditCell(o),se.cycleVariant({key:"ArrowLeft"}),z.startEditCell(d.highlitcell()));break}}},startMarkAs:function(o,l,p){let r=p.target.tagName==="INPUT"?p.target:p.target.querySelector("input"),n=l===!1?d.highlit():l,i=new Map([...n].map(h=>[h,!r.checked]));z.doMarkAs(o,i)},startNewRow:function(){let o=u.row("new row"),l=o.querySelector("th");l.contentEditable=!0,l.addEventListener("blur",z.finishNewRow),l.addEventListener("keydown",z.thKeyDown),f.matrix.boxdiv.querySelector("tbody").appendChild(o),l.scrollIntoView(),l.focus(),document.execCommand("selectAll",!1,null),f.editing=!0},startRenameRow:function(){},startReconstruction:function(o){let l=o.target.dataset.key,p=o.target.closest(".tree-box").myTree,r=p.desc,n=document.createRange().createContextualFragment(`<div id="reconstructionoptions" class="popup">
    <form id="reconstructionform">
      <div>
        <label for="reconstructed_node_name">Label for node:</label>
        <input type="text" id="reconstructed_node_name" name="reconstructed_node_name" placeholder="${r}-${l}" size="15">
      </div>
      <div style="width: 100%; display: flex; justify-content: center;padding-top: 1em;">
        <button type="submit">Add to matrix</button>
      </div>
    </form>
</div>`),i=function(h){h.preventDefault();let v=blackout.querySelector("input"),x=v.value?v.value:v.placeholder;z.doReconstruction(p,l,x)};u.blackout(n,i)},thKeyDown:function(o){o.key==="Enter"&&z.finishNewRow(o)},finishNewRow:function(o){let l=o.target,p=l.textContent;l.closest("tr").dataset.n=p;let r=u.tei(p);f.xml.documentElement.appendChild(r),f.editing=!1,l.contentEditable=!1,l.removeEventListener("blur",z.finishNewRow),l.removeEventListener("keydown",z.thKeyDown),z.doStack([z.doDeleteRow,[p]],"do")},finishEditCell:function(o,l=!1){let p=o.target;f.editing=!1,p.contentEditable="false",p.removeEventListener("blur",z.finishEditCell),p.removeEventListener("keydown",z.cellKeyDown),p.blur(),se.deselect();let r=p.textContent;if(r===""){let v=p.querySelector("br");v&&v.remove()}if(l||r===p.dataset.oldContent)return;p.hasOwnProperty("IAST")||(p.IAST=p.cloneNode(!0)),p.IAST.textContent=r;let n=parseInt(p.dataset.n),i=p.closest("tr"),h=i.dataset.n;if(z.xmlChangeCell(n,h,r),i.dataset.hasOwnProperty("treename")&&!p.dataset.hasOwnProperty("emended")){let v=z.doEmend(n,h,"multido"),x=[];x.push([z.doChangeCell,[n,h,p.dataset.oldContent]]),x.push(v),z.doStack([z.doMulti,[x]],"do")}else z.doStack([z.doChangeCell,[n,h,p.dataset.oldContent]],"do");delete p.dataset.oldContent,z.refresh(),ge.updateAllHeaders(!0),p.classList.add("highlitcell")},finishMoveRow:function(o){let l=o.target.nodeType===1?o.target.closest("tr"):o.target.parentElement.closest("tr");if(l&&z.doMoveRow(f.dragged,l,"do"),o.type!=="drop"){for(let p of d.trs())p.classList.remove("moveinprogress");f.matrix.boxdiv.querySelector("table").removeEventListener("mousedown",z.finishMoveRow)}else for(let p of d.trs())p.classList.remove("dragenter");f.dragged.classList.remove("dragging"),f.dragged=null},doReconstruction:function(o,l,p){let r=u.row(p,"pending");r.dataset.treename=o.name,r.dataset.nodename=l;let n=r.querySelector("th"),i=document.createElement("div");i.id="spinner",n.prepend(i);let h=u.tei(p);h.setAttribute("type","reconstructed"),h.setAttribute("corresp",o.name),h.setAttribute("select",`#${l}`);let v=[...d.tds(!1,r)],x=[...d.words(!1,h)];f.matrix.boxdiv.querySelector("tbody").appendChild(r),n.scrollIntoView();let A=new Worker("./worker.js"),I=s.normalizedView(),M=d.serializedtexts(o.nexml,I),V=new Map(M.map(U=>[U[0],U[1][0]]));A.postMessage({readings:V,levels:o.levels,num:0,id:l}),A.onmessage=function(U){let ne=U.data.n,fe=U.data.result;if(v[ne].textContent=fe,v[ne].IAST=v[ne].cloneNode(!0),v[ne].classList.remove("pending"),x[ne].textContent=fe,ne<f.maxlemma){let ve=new Map(M.map(ye=>[ye[0],ye[1][ne+1]]));A.postMessage({readings:ve,levels:o.levels,num:ne+1,id:l})}else{n.removeChild(i),f.xml.documentElement.appendChild(h),ge.updateAllHeaders(),o.draw();let ve=d.highlit();ve.size>0&&L.repopulateTrees(...d.lowhigh(ve));let ye=document.getElementById("menu").querySelector(".ms"),_e=document.createElement("li");_e.setAttribute("data-name",p),_e.appendChild(document.createTextNode(p)),ye.appendChild(_e),z.doStack([z.doDeleteRow,[p]],"do")}}},doDeleteRow:function(o,l="do"){let p=d.tr(o),r=d.tei(o),i=[...d.teis()].indexOf(r);p.parentNode.removeChild(p),r.parentNode.removeChild(r),ge.updateAllHeaders(),G(),T(),z.doStack([z.doUndeleteRow,[p,r,i]],l)},doUndeleteRow:function(o,l,p,r="do"){let n=l.getAttribute("n"),i=[...d.teis()];if(p===i.length)f.xml.documentElement.appendChild(l),f.matrix.boxdiv.querySelector("tbody").appendChild(o);else{let h=[...d.trs()];f.xml.documentElement.insertBefore(l,i[p]),h[p].parentNode.insertBefore(o,h[p])}ge.updateAllHeaders(),G(),T(),z.doStack([z.doDeleteRow,[n]],r)},doMoveRow:function(o,l,p="do"){let r=o.parentNode,n=[...d.trs()],i=o.previousElementSibling,h=n.indexOf(o),v=l!==null?n.indexOf(l):null,x=function(){l===null?r.insertBefore(o,r.firstChild):l.nextElementSibling?r.insertBefore(o,l.nextElementSibling):r.appendChild(o)},A=function(){let I=f.xml.documentElement,M=[...d.teis()],V=M[h];if(v===null)I.insertBefore(V,M[0]);else{let U=M[v];U.nextElementSibling?I.insertBefore(V,U.nextElementSibling):I.appendChild(V)}};if(x(),A(),p==="multido")return[z.doMoveRow,[o,i]];z.doStack([z.doMoveRow,[o,i]],p)},doMerge:function(o,l="do"){let p=function(h,v,x){let A=h();var I=[];for(let M of A){let V=[...x].map(fe=>v(fe,M)),U=V.map(fe=>fe.cloneNode(!0));I.push(U);for(let fe of V)z.unnormalize(fe);let ne=V.reduce(function(fe,ve){if(ve.hasChildNodes())for(;ve.firstChild;)fe.appendChild(ve.firstChild);return ve.parentNode.removeChild(ve),fe});ne.normalize(),ne.dataset?(delete ne.dataset.normal,ne.IAST=ne.cloneNode(!0)):ne.removeAttribute("lemma")}return[h,v,I]},r=p(d.trs,d.firsttd,o),n=p(d.texts,d.firstword,o),i=parseInt([...o][0]);if(z.renumber(i),z.restyleGroups(o),z.refresh(),ge.updateAllHeaders(),l==="multido")return[z.doUnmerge,[r,n]];z.doStack([z.doUnmerge,[r,n]],l)},doUnmerge:function(o,l,p="undo"){let r=function(v,x,A){let I=d.whichattr(A[0][0]),M=A[0].map(fe=>fe.getAttribute(I)),V=M[0],U=v();for(var ne=0;ne<U.length;ne++){let fe=A[ne].pop(),ve=x(V,U[ne]);ve.parentNode.replaceChild(fe,ve);for(let ye of A[ne])fe.parentNode.insertBefore(ye,fe)}return M};r(...o);let n=r(...l),h=[...n].sort((v,x)=>parseInt(v)-parseInt(x))[0];if(z.renumber(h),z.reIAST(n),z.refresh(),z.restyleGroups(n),ge.updateAllHeaders(),p==="multido")return[z.doMerge,[n]];z.doStack([z.doMerge,[n]],p)},doGroupWords:function(){let o=0,l=[];for(let p=0;p<=f.maxlemma;p++){let r=d.tds(p),n=r[0].classList;if(n.contains("group-start")||n.contains("group-internal")||n.contains("group-end")){o=p+1;continue}let i=r.length,h=0;if(p===f.maxlemma)h=i;else for(let v of r)(v.IAST?v.IAST.textContent:v.textContent).slice(-1)===" "&&h++;if(h/i>=.5)if(o===p){o++;continue}else{let v=d.range(o,p);l.push([z.group.go,[v]]),o=p+1}}z.doMulti(l)},doRemoveCol:function(o,l="do"){let p=function(v,x,A){let I=v();var M=[];for(let V of I){let U=[...A].map(fe=>{let ve=x(fe,V);return z.unnormalize(ve),ve}),ne=U.map(fe=>fe.cloneNode(!0));M.push(ne);for(let fe of U)fe.parentNode.removeChild(fe)}return[v,x,M]},r=p(d.trs,d.firsttd,o),n=p(d.texts,d.firstword,o),i=[...o].sort((v,x)=>parseInt(v)-parseInt(x)),h=parseInt([...i][0])-1;if(z.renumber(h),z.refresh(),z.restyleGroups(o,!0),ge.updateAllHeaders(),l==="multido")return[z.doUnremoveCol,[r,n]];z.doStack([z.doUnremoveCol,[r,n]],l)},doUnremoveCol:function(o,l,p){let r=function(x,A,I){let M=d.whichattr(I[0][0]),V=I[0].map(ve=>ve.getAttribute(M)),U=V[0],ne=x();for(var fe=0;fe<ne.length;fe++){let ve=A(U,ne[fe]);for(let ye of I[fe])ve.parentNode.insertBefore(ye,ve)}return V};r(...o);let n=r(...l),i=[...n].sort((x,A)=>parseInt(x)-parseInt(A)),h=parseInt(i[0])-1;z.renumber(h);let v=document.querySelectorAll(".highlitcell");for(let x of v)x.classList.remove("highlitcell");if(z.reIAST(n),z.refresh(),z.restyleGroups(n,!0),ge.updateAllHeaders(),p==="multido")return[z.doRemoveCol,[n]];z.doStack([z.doRemoveCol,[n]],p)},doInsertCol:function(o,l="do"){let p=function(n,i,h,v){let x=n();for(let A of x){let I=i(v,A),M=h(v+1);I.insertAdjacentElement("afterend",M)}};p(d.trs,d.firsttd,u.emptycell,o),p(d.texts,d.firstword,u.emptyword,o),z.renumber(o),z.refresh(),z.restyleGroups([o,o+1],!0),ge.updateAllHeaders();let r=[o+1];if(l==="multido")return[z.doRemoveCol,[r]];z.doStack([z.doRemoveCol,[r]],l)},doEmend:function(o,l,p="do"){let r=[...d.trs()][l],n=d.firsttd(o,r);n.dataset.emended=!0;let i=d.tei(l).querySelector("text");if(d.firstword(o,i).setAttribute("emended","true"),p==="multido")return[z.doUnemend,[o,l]];z.doStack([z.doUnemend,[o,l]],p)},doUnemend:function(o,l,p="do"){let r=[...d.trs()][l],n=d.firsttd(o,r);delete n.dataset.emended;let i=d.tei(l).querySelector("text");if(d.firstword(o,i).removeAttribute("emended"),p==="multido")return[z.doEmend,[o,l]];z.doStack([z.doEmend,[o,l]],p)},doChangeCell:function(o,l,p,r="do"){let n=z.xmlChangeCell(o,l,p),i=z.htmlChangeCell(o,l,p);if(z.refresh(),ge.updateAllHeaders(!0),se.textClick({target:i}),r==="multido")return[z.doChangeCell,[o,l,n]];z.doStack([z.doChangeCell,[o,l,n]],r)},htmlChangeCell:function(o,l,p){let r=d.tr(l),n=d.firsttd(o,r);return z.unnormalize(n),n.textContent=p,n.IAST&&(n.IAST=n.cloneNode(!0)),n},xmlChangeCell:function(o,l,p){let r=d.tei(l).querySelector("text"),n=d.firstword(o,r);z.unnormalize(n);let i=n.textContent;return n.childNodes.length===0?n.appendChild(document.createTextNode(p)):n.textContent=p,i},doMarkAs:function(o,l,p="do"){let r=[...l.keys()],n=d.attr(o,r);for(let i of r){let h=d.tds(i),v=d.words(i);if(l.get(i)===!0){for(let A of h)A.dataset[o]="true";for(let A of v)A.setAttribute(o,"true")}else{for(let A of h)delete A.dataset[o];for(let A of v)A.removeAttribute(o)}let x=d.checkbox(i,o);x.checked=l.get(i)}if(p==="multido")return[z.doMarkAs,[o,n]];z.doStack([z.doMarkAs,[o,n]],p)},refresh:function(){for(let o of f.textboxes)o.refresh();L.rehighlight(),s.anyhighlit()?L.repopulateTrees(...d.lowhigh(d.highlit())):L.clearTrees()},renumber:function(o=0){let l=function(p,r,n){let i=p();for(let v of i){let x=[...r(!1,v)],A=d.whichattr(x[0]);for(var h=parseInt(n)+1;h<x.length;h++)x[h].setAttribute(A,h)}};l(d.trs,d.tds,o),l(()=>[!0],d.ths,o),l(d.texts,d.words,o),f.maxlemma=d.maxlemma()},reIAST:function(o){let l=[...o].map(p=>[...d.lemmata(p)]).flat();for(let p of l)p.IAST=p.cloneNode(!0)},restyleGroups:function(o,l=!1){let r=l?function(i){var h=[...i];let v=parseInt(o[0])-1,x=parseInt(o[o.length-1])+1;return h.unshift(v),h.push(x),h}(o):o,n=function(i,h=!1){let v=new Set(["group-start","group-internal","group-end"]);h&&v.delete(h);for(let x of i){for(let A of v)x.classList.remove(A);h&&x.classList.add(h)}};for(let i of r){let h=d.firstword(i),v=d.tds(i);if(v.length===0)continue;let x=h.closest("cl");x?h===x.firstElementChild?n(v,"group-start"):h===x.lastElementChild?n(v,"group-end"):n(v,"group-internal"):n(v)}},startRenormalize:function(o){let l=o===!1?d.highlit():o;z.doRenormalize(Math.min(...l),Math.max(...l))},doRenormalize:function(o,l,p=!1,r="do"){let n=s.normalizedView(),i=new Map,h=[...d.trs()],v=[...d.texts()],x=p?[p]:[...h.keys()];for(let A of x){let I=new Map,M=v[A],V=[...d.words(!1,M)],U=d.firstword(o,M),ne=d.firstword(l,M),fe=V.indexOf(U),ve=V.indexOf(ne),ye=V.slice(fe,ve+1),_e=h[A],Ae=[...d.tds(!1,_e)].slice(fe,ve+1),ke=ye.map(Te=>Te.textContent),Me=w1(ke);for(let Te=0;Te<Me.length;Te++){let Ie=ye[Te],Le=Me[Te],Oe=ke[Te],qe=Ae[Te],je=Ie.hasAttribute("lemma")?Ie.getAttribute("lemma"):!1;if(je!==!1){if(je===Le)continue;I.set(qe.dataset.n,je),z.unnormalize(Ie),z.unnormalize(qe)}else I.set(qe.dataset.n,null);Le!==Oe&&(Ie.setAttribute("lemma",Le),qe.dataset.normal=Le,n&&(qe.textContent=Le))}i.set(A,I)}ge.updateAllHeaders(!0),ge.xScrollToHighlit(),z.doStack([z.doUnrenormalize,[i]],r)},doUnrenormalize:function(o,l="undo"){let p=s.normalizedView(),r=new Map,n=[...d.trs()],i=[...d.texts()];for(let[h,v]of o.entries()){let x=n[h],A=i[h],I=new Map;for(let[M,V]of v.entries()){let U=d.firsttd(M,x),ne=d.firstword(M,A),fe=ne.hasAttribute("lemma")?ne.getAttribute("lemma"):null;I.set(M,fe),V===null?(z.unnormalize(U),z.unnormalize(ne)):(U.dataset.normal=V,ne.setAttribute("lemma",V),p&&(U.textContent=V))}r.set(h,I)}z.doStack([z.doUnrenormalize,[r]],l)},unnormalize:function(o){o.hasOwnProperty("IAST")&&(o.textContent=o.IAST.textContent),o.dataset&&o.dataset.hasOwnProperty("normal")&&delete o.dataset.normal,o.getAttribute("lemma")&&o.removeAttribute("lemma")}},ge={toggleNormalize:function(){s.normalizedView()?ge.showUnnormalized():ge.showNormalized()},showNormalized:function(o){if(o)o.updatescript();else{document.getElementById("views").classList.add("normalized");for(let p of f.textboxes)p.updatescript();f.matrix.updatescript(),s.anyhighlit()?L.repopulateTrees(...d.lowhigh(d.highlit())):L.clearTrees()}ge.updateAllHeaders(!0),ge.xScrollToHighlit()},showUnnormalized:function(){document.getElementById("views").classList.remove("normalized"),f.matrix.updatescript();for(let o of f.textboxes)o.updatescript();s.anyhighlit()?L.repopulateTrees(...d.lowhigh(d.highlit())):L.clearTrees(),ge.updateAllHeaders(!0),ge.xScrollToHighlit()},toggleHeader:function(){let o=f.matrix.boxdiv.querySelector("tr.header");o.style.display==="none"?o.style.display="table-row":o.style.display="none"},updateHeaders(o){for(let l of o){let p=d.firstth(l),[r,n]=d.readings(l),i=p.querySelector("span.readings"),h=r<2?r:`${r}(${n.size})`;i.textContent=h}},updateAllHeaders(o=!1){let l=[...d.trs()],p=l.map(v=>d.trWalker(v)),r=[...d.tds(!1,l[0])],n=[...d.ths()],i=f.matrix.boxdiv.querySelector("tr.header"),h=function(){let v=document.createElement("th"),x=document.createElement("span");x.classList.add("readings"),v.appendChild(x);let A=document.createElement("form");return A.innerHTML='<div><input class="insignificant" type="checkbox">Insignificant</div><div><input class="binary" type="checkbox">Binary</div>',v.appendChild(A),i.appendChild(v),v};for(let v=0;v<r.length;v++){let x=v>=n.length?h():n[v],A=r[v];x.dataset.ref=A.dataset.n;let I=0,M=new Set;for(let U of p){let ne=U.nextNode().textContent;ne!==""&&(I++,M.add(ne))}let V=I<2?I:`${I}(${M.size})`;x.querySelector("span.readings").textContent=V,o||(x.querySelector("input.insignificant").checked=!!A.dataset.insignificant,x.querySelector("input.binary").checked=!!A.dataset.binary)}if(n.length>r.length)for(let v=r.length;v<n.length;v++)i.removeChild(n[v])},xScrollToHighlit:function(){let o=d.highlit();o.size>0&&ge.xScroll([...o][0])},xScroll:function(o,l){if(!o)return;let p=l||d.firsttr(),r=d.firsttd(o,p),n=r.getBoundingClientRect(),i=f.matrix.boxdiv,v=i.getBoundingClientRect().right,x=p.querySelector("th").getBoundingClientRect(),A=x.right,I=n.right>v,M=n.left+.1<A;I&&r.scrollIntoView({inline:"end",block:"nearest"}),M&&(r.scrollIntoView({inline:"start",block:"nearest"}),i.scroll({left:i.scrollLeft-x.width}))}},de={create:function(o){let l=document.createElement("div");return l.classList.add("contextmenu"),l.style.left=o.clientX-12+"px",l.style.top=o.clientY-22+"px",l},remove:function(){for(let o of document.querySelectorAll(".contextmenu"))o.parentNode.removeChild(o)},show:function(o){document.body.appendChild(o)},populate:function(o,l){let p=document.createElement("ul");for(let r of l){let n=document.createElement("li");if(r.hasOwnProperty("cond")){let i=document.createRange().createContextualFragment('<form><input type="checkbox"'+(r.cond()?" checked":"")+"></form>");n.appendChild(i)}if(r.hasOwnProperty("toggle")){let i=r.toggle()?r.text:r.alt;n.appendChild(document.createTextNode(i))}else n.appendChild(document.createTextNode(r.text));n.addEventListener("mouseup",r.func),p.appendChild(n)}o.appendChild(p)}};class we{constructor(l){this.name=l,this.box=document.createElement("div"),this.box.classList.add("menubox");let p=document.createElement("div");p.classList.add("heading"),p.appendChild(document.createTextNode(l)),this.box.appendChild(p),p.addEventListener("mouseover",this.checkConditions.bind(this)),this.box.addEventListener("mouseup",this.click.bind(this)),this.items=new Map,this.conditions=new Map}populate(l){let p=this.box.querySelector("ul")||function(r){let n=document.createElement("ul");return r.box.appendChild(n),n}(this);for(let r of l){let n=document.createElement("li");if(r.hasOwnProperty("checkbox")){let i=document.createElement("form"),h=document.createElement("input");h.type="checkbox",h.addEventListener("click",v=>v.preventDefault()),i.appendChild(h),n.appendChild(i),n.appendChild(document.createTextNode(r.text)),this.conditions.set(h,r.checkbox)}else if(r.hasOwnProperty("toggle")){let i=document.createElement("span");i.appendChild(document.createTextNode(r.text)),i.dataset.text=r.text,i.dataset.alt=r.alt,this.conditions.set(i,r.toggle),n.appendChild(i)}else n.appendChild(document.createTextNode(r.text));r.hasOwnProperty("greyout")&&this.conditions.set(n,r.greyout),this.items.set(n,r.func),p.appendChild(n)}}click(l){let p=l.target.tagName==="LI"?l.target:l.target.closest("li");if(p&&!p.classList.contains("greyedout")){let r=this.items.get(p);r&&(r(l),this.checkConditions())}}checkConditions(){let l=new Map;for(let[p,r]of this.conditions){let n=l.get(r)||function(){let i=r();return l.set(r,i),i}();p.tagName==="INPUT"?p.checked=n:p.tagName==="SPAN"?n?p.textContent=p.dataset.alt:p.textContent=p.dataset.text:p.tagName==="LI"&&(n?p.classList.remove("greyedout"):p.classList.add("greyedout"))}}}class X{constructor(l){this.name=l,this.script=0}show(){f.descs.appendChild(this.descbox),s.normalizedView()&&ge.showNormalized(this),f.viewdiv.appendChild(this.boxdiv),this.closed=!1}clear(){for(;this.boxdiv.firstChild;)this.boxdiv.removeChild(this.boxdiv.firstChild);this.svgcontainer&&(this.clearsvg(),this.boxdiv.appendChild(this.svgcontainer))}destroy(){f.viewdiv.removeChild(this.boxdiv),f.descs.removeChild(this.descbox);let l=f.trees.indexOf(this);l>-1&&f.trees.splice(l,1);let p=f.textboxes.indexOf(this);p>-1&&f.textboxes.splice(p,1),this.closed=!0,this.name==="Matrix"&&(document.getElementById("matrixmenu").style.display="block"),T(),L.rehighlight()}pullout(){this.destroy();let l="menubar=no,location=no,status=no,height=620,width=620,scrollbars=yes,centerscreen=yes",p=window.mainWindow?window.mainWindow.comboView.getWindows().length:f.windows.length,r=window.open("branch.html","branch"+p,l);r.mainWindow=window.mainWindow?window.mainWindow:window,r.startbox=this.text?{text:{name:this.name}}:{tree:this.name},r.mainWindow.comboView.addWindow(r)}makeDescBox(){let l=document.createElement("div"),p=document.createElement("div");p.classList.add("closer"),p.innerHTML="x",p.title="close";let r=document.createElement("div");r.classList.add("scripter"),r.innerHTML="A",r.title="change script",l.appendChild(p),l.appendChild(r),l.appendChild(document.createTextNode(this.desc)),this.descbox=l,p.addEventListener("click",this.destroy.bind(this)),r.addEventListener("click",this.cyclescript.bind(this))}cyclescript(){this.script=this.script+1,this.script===f.scripts.length&&(this.script=0);let l=this.descbox.querySelector(".scripter");this.script===0?l.innerHTML="A":l.innerHTML=to[f.scripts[this.script]]("a"),f.scripts[this.script]==="grantha"?l.classList.add("grantha"):l.classList.remove("grantha"),this.updatescript()}updatescript(){let l=this.boxdiv.querySelectorAll(".lemma,.tree-lemma");for(let p of l){let r=p.dataset.hasOwnProperty("normal");if(!r&&p.textContent.trim()==="")continue;let n=function(){if(s.normalizedView()&&r){let h=document.createElement("span");return h.appendChild(document.createTextNode(p.dataset.normal)),h}else return p.IAST.cloneNode(!0)}(),i=this.script===0?n:Ot(n,f.scripts[this.script]);for(p.innerHTML="";i.firstChild;)p.appendChild(i.firstChild)}f.scripts[this.script]==="grantha"?this.boxdiv.classList.add("grantha"):this.boxdiv.classList.remove("grantha"),this.boxdiv.classList.contains("matrix")&&ge.xScrollToHighlit()}}class xe extends X{constructor(l,p){super(`#${l} #${p}`);this.stemmaid=l,this.id=p,this.nexml=f.treelist.get(this.name).cloneNode(!0),this.desc=this.nexml.querySelector("tree").getAttribute("label")}init(){this.makeDescBox();let l=document.createElement("div");l.classList.add("tree-box");var p,r=0;do p="tree"+r,r++;while(document.getElementById(p));l.id=p,this.boxdiv=l,this.boxdiv.addEventListener("mouseover",se.treeMouseover.bind(this)),this.boxdiv.addEventListener("click",se.treeClick),this.svgcontainer=document.createElement("div"),this.svgcontainer.id=this.boxdiv.id+"container",this.boxdiv.appendChild(this.svgcontainer),this.boxdiv.myTree=this,this.calcPaths(),this.jiggleroot(),this.findLevels(),this.labelInternal()}show(){f.descs.appendChild(this.descbox),f.viewdiv.appendChild(this.boxdiv)}jiggleroot(){let l=this.nexml.evaluate('//nex:node[@root="true"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,p=this.nexml.evaluate('//nex:edge[@source="'+l.id+'"]|//nex:edge[@target="'+l.id+'"]',this.nexml,this.nsResolver,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);if(p.snapshotLength===3){var r,n;for(let i=0;i<p.snapshotLength;i++){let h=p.snapshotItem(i),v=h.getAttribute("source"),x=h.getAttribute("target"),A=this.nexml.evaluate('//nex:node[@id="'+v+'"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,I=this.nexml.evaluate('//nex:node[@id="'+x+'"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;if(!A.hasAttribute("otu")&&!I.hasAttribute("otu")){r=h,n=x===l.id?"target":"source";break}}if(r){let i=this.nexml.createElementNS(l.namespaceURI,"node");i.id="fakeroot",i.setAttribute("root","true"),l.removeAttribute("root"),l.parentElement.insertBefore(i,l);let h=this.nexml.createElementNS(l.namespaceURI,"edge");h.id="newrootedge",h.setAttribute("length","0"),h.setAttribute("source","fakeroot"),h.setAttribute("target",l.id),l.parentElement.insertBefore(h,r),r.setAttribute(n,i.id)}}}findLevels(){let l=this.nexml.querySelectorAll("edge"),p=[...this.nexml.querySelectorAll("node[otu]")],r=this.nexml,n=[p],i=function(x,A){let I=x.map(ye=>ye.id),M=new Map,V=new Map,U=[];for(let ye of A){let _e=ye.getAttribute("target"),Se=ye.getAttribute("source"),Ae=(()=>I.indexOf(_e)!==-1?{ancestor:r.getElementById(Se),child:r.getElementById(_e)}:I.indexOf(Se)!==-1?{ancestor:r.getElementById(_e),child:r.getElementById(Se)}:null)();if(Ae!==null)if(V.has(Ae.ancestor)){let ke=V.get(Ae.ancestor);M.set(Ae.ancestor,[ke.child,Ae.child]),U.push(ye),U.push(ke.edge)}else V.set(Ae.ancestor,{child:Ae.child,edge:ye})}let ne=[...M.keys()],fe=[...V.keys()].reduce((ye,_e)=>(ne.indexOf(_e)===-1&&ye.push(V.get(_e).child),ye),[]),ve=[...A].reduce((ye,_e)=>(U.indexOf(_e)===-1&&ye.push(_e),ye),[]);return{match:M,remainder:[...new Set(fe)],edges:ve}};var h=p,v=l;do{let x=i(h,v);n.push(x.match),h=[...x.match.keys(),...x.remainder],v=x.edges}while(v.length>0);this.levels=d.serializedlevels(n)}labelInternal(){for(let l of this.nexml.querySelectorAll("node:not([label])"))l.setAttribute("label",l.id)}fitch(){let l=new Map(this.levels[0].map(r=>{let n=s.normalizedView(),i=this.nexml.querySelector(`node[id="${r}"]`).getAttribute("label"),h=this.boxdiv.querySelector(`span.tree-lemma[data-id="${i}"]`),v=h?d.htmlreading(h,n):void 0;return[r,v]})),p=new T1(l,this.levels).run();for(let[r,n]of p){let i=this.boxdiv.querySelector(`span.internal[data-key="${r}"]`);i.dataset.reconstructed=n}}clearsvg(){for(;this.svgcontainer.firstChild;)this.svgcontainer.removeChild(this.svgcontainer.firstChild)}removecolors(){let l=this.nexml.querySelectorAll("node[color]");for(let p=0;p<l.snapshotLength;p++)l.snapshotItem(p).removeAttribute("color")}drawlines(l,p){if(this.removecolors(),l){let v=this.getPath(...l.split(";")).path,x=new Set;for(let A of v)x.add(A.getAttribute("target")),x.add(A.getAttribute("source"));for(let A of x){let I=this.nexml.evaluate('//nex:node[@id="'+A+'"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;I.getAttribute("root")||I.setAttribute("color",p)}}let r=parseInt(window.getComputedStyle(this.svgcontainer,null).width)-15,n=parseInt(window.getComputedStyle(this.boxdiv,null).height)-10,i=function(){return n<600?600:n}();q.PhyloCanvas.Render.Style.line.stroke="rgb(162,164,170)",this.phylocanvas=new q.PhyloCanvas({nexml:this.nexml,fileSource:!0},this.svgcontainer.id,r,i);let h=this.svgcontainer.querySelectorAll('path:not([stroke="#a2a4aa"])');for(let v of h)v.style.strokeWidth="2"}draw(){this.clear(),this.drawlines(),this.makeLabels()}clearLabels(){for(let l of this.boxdiv.firstChild.querySelectorAll("text"))l.parentElement.removeChild(l)}makeLabels(){let l=[...d.texts()],p=new Set(l.map(n=>n.parentNode.getAttribute("n"))),r=new Map(l.filter(n=>n.parentNode.hasAttribute("corresp")&&n.parentNode.getAttribute("corresp")===this.name).map(n=>[n.parentNode.getAttribute("select").replace(/^#/,""),n.parentNode.getAttribute("n")]));for(let n of this.boxdiv.firstChild.querySelectorAll("text")){let i=document.createElement("div");i.setAttribute("class","tree-div");let h=parseInt(n.getAttribute("x")-5),v=parseInt(n.getAttribute("y"))-15;i.style.left=h+"px",i.style.top=v+"px";let x=n.textContent.trim();p.has(x)?i.innerHTML=`<span class="witness inactive" data-key="${x}">${x}</span><span class="tree-lemma ${x}" data-id="${x}"></span>`:x!=="fakeroot"?r.has(x)?i.innerHTML=`<span class="internal reconstructed" data-key="${x}" data-label="${r.get(x)}">${r.get(x)}</span><span class="tree-lemma invisible ${x}" data-id="${x}" data-label="${r.get(x)}"></span>`:i.innerHTML=`<span class="internal" data-key="${x}">0</span>`:i.innerHTML=`<span class="internal" data-key="${x}"></span>`,n.parentElement.removeChild(n),this.boxdiv.appendChild(i)}}clearlemmata(){for(let l of this.boxdiv.querySelectorAll("span.tree-lemma"))l.innerHTML="",l.dataset.hasOwnProperty("normal")&&delete l.dataset.normal,l.IAST=l.cloneNode(!0)}populate(l,p){let r=d.texts();for(let h of r){let v=h.parentNode.getAttribute("n"),x=this.boxdiv.querySelector(`span.tree-lemma[data-id="${v}"]`)||this.boxdiv.querySelector(`span.tree-lemma[data-label="${v}"]`);if(!!x){if(x.hasOwnProperty("IAST")||(x.IAST=x.cloneNode(!0)),x.IAST.innerHTML="",p){let A=[],I=[];var n=!1;for(let M=l;M<=p;M++){let V=d.firstword(M,h);A.push(V.innerHTML),V.hasAttribute("lemma")&&(I[M-l]=V.getAttribute("lemma")),V.hasAttribute("emended")&&(n=!0)}if(x.IAST.appendChild(N.transformString(A.join(" ").replace(/\s+/g," ").trim(),N.sheets.tree)),I.length!==0){let M=A.slice(0).map((U,ne)=>I.hasOwnProperty(ne)?I[ne]:U),V=document.createElement("span");V.appendChild(N.transformString(M.join(" ").replace(/\s+/g," ").trim(),N.sheets.tree)),x.dataset.normal=V.innerHTML}n?x.dataset.emended=!0:x.dataset.hasOwnProperty("emended")&&delete x.dataset.emended}else{let A=d.firstword(l,h);x.IAST.appendChild(N.transformString(A.innerHTML,N.sheets.tree)),A.hasAttribute("lemma")?x.dataset.normal=A.getAttribute("lemma"):delete x.dataset.normal,A.hasAttribute("emended")?x.dataset.emended=!0:x.dataset.hasOwnProperty("emended")&&delete x.dataset.emended}s.normalizedView()&&x.dataset.hasOwnProperty("normal")?x.innerHTML=x.dataset.normal:x.innerHTML=x.IAST.innerHTML}}let i=this.boxdiv.querySelectorAll(".inactive");for(let h of i)h.classList.remove("inactive");this.fitch()}calcPaths(){this.nodes=[],this.paths=[],this.longest={path:[]},this.nsResolver=this.nexml.createNSResolver(this.nexml.ownerDocument==null?this.nexml.documentElement:this.nexml.ownerDocument.documentElement);let l=this.nexml.evaluate("//nex:node[@label]",this.nexml,this.nsResolver,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE);for(let p=0;p<l.snapshotLength;p++)this.nodes.push(l.snapshotItem(p));for(let p=0;p<this.nodes.length;p++){let r=this.nodes[p],n=r.getAttribute("label"),i=r.id;for(let h=p+1;h<this.nodes.length;h++){let v=this.nodes[h],x=v.getAttribute("label"),A=v.id;this.paths.push({nodes:[n,x],path:this.pathFind(i,A)})}}for(let p of Object.keys(this.paths))this.paths[p].path.length>this.longest.path.length&&(this.longest=this.paths[p])}pathFind(l,p,r){r||(r=[]);let n=this.nexml.evaluate('//nex:edge[@source="'+l+'"]|//nex:edge[@target="'+l+'"]',this.nexml,this.nsResolver,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);var i;for(let h=0;h<n.snapshotLength;h++){let v=n.snapshotItem(h);if(i=[v],r.indexOf(v.id)!=-1)continue;r.push(v.id);let x=v.getAttribute("source")!==l?v.getAttribute("source"):v.getAttribute("target");if(x===p)return i;if(!this.nexml.evaluate('//nex:node[@id="'+x+'"]',this.nexml,this.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue.hasAttribute("otu")){let I=this.pathFind(x,p,r);if(I)return i.concat(I);continue}}return!1}analyzeVariants(l,p){let r=[],n=[],i=function(I){return I.startsWith("<lg")?N.transformString(I,N.sheets.lg).firstChild.data.slice(1):I},h=function(I){return I.map(M=>i(M)).join(" ").replace(/\s+/g," ").trim()},v=s.normalizedView()?function(I,M){let V=d.firstword(I,M);return V.hasAttribute("lemma")?V.getAttribute("lemma"):V.textContent}:function(I,M){return d.firstword(I,M).textContent};for(let I of d.texts()){let M=I.parentNode.getAttribute("n");if(!this.nexml.querySelector(`otu[label="${M}"]`))continue;let V=p?h(d.range(l,p).map(U=>v(U,I))):i(v(l,I));V===""?r.hasOwnProperty("")?r[""].push(M):r[""]=[M]:r.hasOwnProperty(V)?r[V].push(M):r[V]=[M]}let x={};for(let I of Object.keys(r)){var A={length:0,branch_length:0,paths:[]};if(r[I].length===1)A=!1;else for(let M=0;M<r[I].length;M++)for(let V=M+1;V<r[I].length;V++){let U=this.getPath(r[I][M],r[I][V]);if(U.hasOwnProperty("path")||alert(U),U.path.length===A.length){let ne=this.calcBranchLength(U.path);ne===A.branch_length?A.paths.push(U):ne>A.branch_length&&(A={length:U.path.length,branch_length:ne,paths:[U]})}else U.path.length>A.length&&(A={length:U.path.length,branch_length:this.calcBranchLength(U.path),paths:[U]})}x[I]=A}for(let I of Object.keys(n))x[I]=n[I];return x}getPath(l,p){for(let r of this.paths)if(r.nodes.indexOf(l)>-1&&r.nodes.indexOf(p)>-1)return r;return!1}calcBranchLength(l){return l.map(p=>p.getAttribute("length")).reduce((p,r)=>parseFloat(p)+parseFloat(r))}pickColour(l,p,r,n){var i=p,h=r,v=l;n&&(v=v*2,v>=1&&(v-=1,i=r,h=n));let x=h.red-i.red,A=h.green-i.green,I=h.blue-i.blue,M={red:parseInt(Math.floor(i.red+x*v),10),green:parseInt(Math.floor(i.green+A*v),10),blue:parseInt(Math.floor(i.blue+I*v),10)};return"rgb("+M.red+","+M.green+","+M.blue+")"}colourizeVariants(l,p){let r=this.analyzeVariants(l,p);for(let n of this.boxdiv.querySelectorAll("span.tree-lemma")){let i=r.hasOwnProperty(n.dataset.id)?r[r[n.dataset.id]]:r[n.textContent],h={red:252,green:70,blue:107},v={red:63,green:94,blue:251};i?(n.style.color=this.pickColour(i.length/this.longest.path.length,v,h),n.dataset.length=i.length,n.dataset.branch_length=i.branch_length,n.dataset.nodes=i.paths[0].nodes.join(";")):(n.style.color=this.pickColour(1/this.longest.path.length,v,h),n.dataset.length=0,n.dataset.branch_length=0,n.dataset.nodes=""),n.textContent.trim()===""?(n.innerHTML='<span lang="en">   </span>',n.style.backgroundColor=n.style.color):n.style.backgroundColor=""}}}class Ce extends X{constructor(l){super(l);this.desc=l,this.text=d.firsttext(l)}init(){this.makeTextBox(),this.makeDescBox(),this.descbox.style.maxWidth="595px",this.descbox.style.paddingLeft="5px",this.boxdiv.addEventListener("mouseup",se.textMouseup)}refresh(){this.boxdiv.innerHTML="",this.boxdiv.appendChild(N.sheets.lemma.transformToFragment(this.text,document)),D(this.boxdiv);for(let l of d.lemmata(!1,this.boxdiv))l.IAST=l.cloneNode(!0);this.updatescript()}makeTextBox(){let l=document.createElement("div");l.dataset.id=this.name,l.classList.add("text-box"),l.appendChild(N.sheets.lemma.transformToFragment(this.text,document)),D(l);for(let p of d.lemmata(!1,l))p.IAST=p.cloneNode(!0);this.boxdiv=l}}class ee extends X{constructor(){super(name);this.desc="Matrix",this.name="Matrix",this.makeDescBox(),this.makeViewBox(),this.descbox.style.maxWidth="100vw",this.descbox.style.paddingLeft="5px"}init(){this.makeTable()}makeViewBox(){let l=document.createElement("div");l.classList.add("matrix"),l.dataset.id=this.name,this.boxdiv=l}makeTable(){let l=document.createElement("div");l.classList.add("scroller"),l.append(N.sheets.matrix.transformToFragment(f.xml,document)),l.addEventListener("dragstart",se.thDragStart),l.addEventListener("dragenter",se.trDragEnter),l.addEventListener("dragleave",se.trDragLeave),l.addEventListener("dragover",x=>x.preventDefault()),l.addEventListener("drop",se.trDragDrop),l.addEventListener("mousedown",se.matrixMousedown);let p=document.createElement("tr");p.classList.add("header");let r=document.createElement("td");r.classList.add("anchor"),p.appendChild(r);let n=[...d.trs(l)],i=n.map(x=>d.trWalker(x)),h=d.tds(!1,n[0]);for(let x of h){let A=document.createElement("th");A.dataset.ref=x.dataset.n;let I=0,M=new Set;for(let fe of i){let ve=fe.nextNode();ve.IAST=ve.cloneNode(!0);let ye=ve.textContent;ye!==""&&(I++,M.add(ye))}let V=I<2?I:`${I}(${M.size})`,U=document.createElement("span");U.classList.add("readings"),U.appendChild(document.createTextNode(V)),A.appendChild(U);let ne=document.createElement("form");ne.innerHTML='<div><input class="insignificant" title="insignificant" type="checkbox"'+(x.dataset.insignificant?"checked":"")+'></div><div><input class="binary" title="binary" type="checkbox"'+(x.dataset.binary?"checked":"")+"></div>",A.appendChild(ne),p.appendChild(A)}let v=l.querySelector("tbody");v.insertBefore(p,v.firstChild),this.boxdiv.append(l)}}return{branchinit:function(){comboView.init(),window.startbox!==void 0&&(window.startbox.tree?b.tree(window.startbox.tree.stemmaid,window.startbox.tree.id):window.startbox.text&&b.text(window.startbox.text.name,window.startbox.text.map))},maininit:function(){let o=document.getElementById("menu");o.addEventListener("mouseover",se.menuMouseover),o.addEventListener("mouseout",se.menuMouseout),o.addEventListener("click",se.menuClick),o.querySelector("#file").addEventListener("change",W.bind(null,Z),!1),o.querySelector("#treefile").addEventListener("change",W.bind(null,$),!1),o.style.display="block",comboView.init()},init:function(){f.viewdiv=document.getElementById("views"),f.descs=document.getElementById("descs"),f.viewdiv.addEventListener("click",se.textClick),document.addEventListener("keydown",se.keyDown,{capture:!0}),document.addEventListener("contextmenu",se.rightClick),document.addEventListener("mouseup",de.remove)},getWindows:function(){return f.windows},addWindow:function(o){f.windows.push(o)},getViewdiv:function(){return f.viewdiv},getTrees:function(){return f.trees}}}();window.addEventListener("load",window.comboView.maininit);
//# sourceMappingURL=script.js.map
